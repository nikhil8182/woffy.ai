(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function bI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bw={exports:{}},Vu={},Uw={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),kI=Symbol.for("react.portal"),NI=Symbol.for("react.fragment"),VI=Symbol.for("react.strict_mode"),DI=Symbol.for("react.profiler"),MI=Symbol.for("react.provider"),jI=Symbol.for("react.context"),LI=Symbol.for("react.forward_ref"),OI=Symbol.for("react.suspense"),FI=Symbol.for("react.memo"),BI=Symbol.for("react.lazy"),$g=Symbol.iterator;function UI(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var zw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$w=Object.assign,Ww={};function ws(t,e,n){this.props=t,this.context=e,this.refs=Ww,this.updater=n||zw}ws.prototype.isReactComponent={};ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hw(){}Hw.prototype=ws.prototype;function Ef(t,e,n){this.props=t,this.context=e,this.refs=Ww,this.updater=n||zw}var Tf=Ef.prototype=new Hw;Tf.constructor=Ef;$w(Tf,ws.prototype);Tf.isPureReactComponent=!0;var Wg=Array.isArray,qw=Object.prototype.hasOwnProperty,Sf={current:null},Kw={key:!0,ref:!0,__self:!0,__source:!0};function Gw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qw.call(e,r)&&!Kw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ca,type:t,key:s,ref:o,props:i,_owner:Sf.current}}function zI(t,e){return{$$typeof:ca,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function If(t){return typeof t=="object"&&t!==null&&t.$$typeof===ca}function $I(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hg=/\/+/g;function zc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$I(""+t.key):e.toString(36)}function ml(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ca:case kI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zc(o,0):r,Wg(i)?(n="",t!=null&&(n=t.replace(Hg,"$&/")+"/"),ml(i,e,n,"",function(c){return c})):i!=null&&(If(i)&&(i=zI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Wg(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+zc(s,a);o+=ml(s,e,n,u,i)}else if(u=UI(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+zc(s,a++),o+=ml(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ua(t,e,n){if(t==null)return t;var r=[],i=0;return ml(t,r,"","",function(s){return e.call(n,s,i++)}),r}function WI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},gl={transition:null},HI={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:gl,ReactCurrentOwner:Sf};function Qw(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Ua,forEach:function(t,e,n){Ua(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ua(t,function(){e++}),e},toArray:function(t){return Ua(t,function(e){return e})||[]},only:function(t){if(!If(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=ws;te.Fragment=NI;te.Profiler=DI;te.PureComponent=Ef;te.StrictMode=VI;te.Suspense=OI;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HI;te.act=Qw;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$w({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)qw.call(e,u)&&!Kw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ca,type:t.type,key:i,ref:s,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:jI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MI,_context:t},t.Consumer=t};te.createElement=Gw;te.createFactory=function(t){var e=Gw.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:LI,render:t}};te.isValidElement=If;te.lazy=function(t){return{$$typeof:BI,_payload:{_status:-1,_result:t},_init:WI}};te.memo=function(t,e){return{$$typeof:FI,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=gl.transition;gl.transition={};try{t()}finally{gl.transition=e}};te.unstable_act=Qw;te.useCallback=function(t,e){return gt.current.useCallback(t,e)};te.useContext=function(t){return gt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};te.useEffect=function(t,e){return gt.current.useEffect(t,e)};te.useId=function(){return gt.current.useId()};te.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return gt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};te.useRef=function(t){return gt.current.useRef(t)};te.useState=function(t){return gt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return gt.current.useTransition()};te.version="18.3.1";Uw.exports=te;var k=Uw.exports;const qI=bI(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=k,GI=Symbol.for("react.element"),QI=Symbol.for("react.fragment"),YI=Object.prototype.hasOwnProperty,XI=KI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JI={key:!0,ref:!0,__self:!0,__source:!0};function Yw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YI.call(e,r)&&!JI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GI,type:t,key:s,ref:o,props:i,_owner:XI.current}}Vu.Fragment=QI;Vu.jsx=Yw;Vu.jsxs=Yw;Bw.exports=Vu;var p=Bw.exports,Uh={},Xw={exports:{}},Nt={},Jw={exports:{}},Zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var X=z.length;z.push(K);e:for(;0<X;){var ve=X-1>>>1,be=z[ve];if(0<i(be,K))z[ve]=K,z[X]=be,X=ve;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],X=z.pop();if(X!==K){z[0]=X;e:for(var ve=0,be=z.length,jr=be>>>1;ve<jr;){var Dt=2*(ve+1)-1,Lr=z[Dt],Ht=Dt+1,Wn=z[Ht];if(0>i(Lr,X))Ht<be&&0>i(Wn,Lr)?(z[ve]=Wn,z[Ht]=X,ve=Ht):(z[ve]=Lr,z[Dt]=X,ve=Dt);else if(Ht<be&&0>i(Wn,X))z[ve]=Wn,z[Ht]=X,ve=Ht;else break e}}return K}function i(z,K){var X=z.sortIndex-K.sortIndex;return X!==0?X:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,m=3,y=!1,S=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=z)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function N(z){if(A=!1,E(z),!S)if(n(u)!==null)S=!0,_i(M);else{var K=n(c);K!==null&&Re(N,K.startTime-z)}}function M(z,K){S=!1,A&&(A=!1,_(v),v=-1),y=!0;var X=m;try{for(E(K),f=n(u);f!==null&&(!(f.expirationTime>K)||z&&!b());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,m=f.priorityLevel;var be=ve(f.expirationTime<=K);K=t.unstable_now(),typeof be=="function"?f.callback=be:f===n(u)&&r(u),E(K)}else r(u);f=n(u)}if(f!==null)var jr=!0;else{var Dt=n(c);Dt!==null&&Re(N,Dt.startTime-K),jr=!1}return jr}finally{f=null,m=X,y=!1}}var L=!1,T=null,v=-1,I=5,C=-1;function b(){return!(t.unstable_now()-C<I)}function V(){if(T!==null){var z=t.unstable_now();C=z;var K=!0;try{K=T(!0,z)}finally{K?P():(L=!1,T=null)}}else L=!1}var P;if(typeof w=="function")P=function(){w(V)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,sn=De.port2;De.port1.onmessage=V,P=function(){sn.postMessage(null)}}else P=function(){R(V,0)};function _i(z){T=z,L||(L=!0,P())}function Re(z,K){v=R(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,_i(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var X=m;m=K;try{return z()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=m;m=z;try{return K()}finally{m=X}},t.unstable_scheduleCallback=function(z,K,X){var ve=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ve+X:ve):X=ve,z){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=X+be,z={id:h++,callback:K,priorityLevel:z,startTime:X,expirationTime:be,sortIndex:-1},X>ve?(z.sortIndex=X,e(c,z),n(u)===null&&z===n(c)&&(A?(_(v),v=-1):A=!0,Re(N,X-ve))):(z.sortIndex=be,e(u,z),S||y||(S=!0,_i(M))),z},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(z){var K=m;return function(){var X=m;m=K;try{return z.apply(this,arguments)}finally{m=X}}}})(Zw);Jw.exports=Zw;var ZI=Jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA=k,bt=ZI;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e_=new Set,No={};function fi(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(No[t]=e,t=0;t<e.length;t++)e_.add(e[t])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zh=Object.prototype.hasOwnProperty,tA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qg={},Kg={};function nA(t){return zh.call(Kg,t)?!0:zh.call(qg,t)?!1:tA.test(t)?Kg[t]=!0:(qg[t]=!0,!1)}function rA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iA(t,e,n,r){if(e===null||typeof e>"u"||rA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Af=/[\-:]([a-z])/g;function Cf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Af,Cf);Ze[e]=new yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Af,Cf);Ze[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Af,Cf);Ze[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pf(t,e,n,r){var i=Ze.hasOwnProperty(e)?Ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iA(e,n,i,r)&&(n=null),r||i===null?nA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zn=eA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,za=Symbol.for("react.element"),Ri=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),t_=Symbol.for("react.provider"),n_=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Hh=Symbol.for("react.suspense_list"),kf=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),r_=Symbol.for("react.offscreen"),Gg=Symbol.iterator;function Ks(t){return t===null||typeof t!="object"?null:(t=Gg&&t[Gg]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,$c;function ro(t){if($c===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$c=e&&e[1]||""}return`
`+$c+t}var Wc=!1;function Hc(t,e){if(!t||Wc)return"";Wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Wc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ro(t):""}function sA(t){switch(t.tag){case 5:return ro(t.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 2:case 15:return t=Hc(t.type,!1),t;case 11:return t=Hc(t.type.render,!1),t;case 1:return t=Hc(t.type,!0),t;default:return""}}function qh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bi:return"Fragment";case Ri:return"Portal";case $h:return"Profiler";case Rf:return"StrictMode";case Wh:return"Suspense";case Hh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n_:return(t.displayName||"Context")+".Consumer";case t_:return(t._context.displayName||"Context")+".Provider";case bf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kf:return e=t.displayName||null,e!==null?e:qh(t.type)||"Memo";case Zn:e=t._payload,t=t._init;try{return qh(t(e))}catch{}}return null}function oA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qh(e);case 8:return e===Rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aA(t){var e=i_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $a(t){t._valueTracker||(t._valueTracker=aA(t))}function s_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=i_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o_(t,e){e=e.checked,e!=null&&Pf(t,"checked",e,!1)}function Gh(t,e){o_(t,e);var n=wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qh(t,e.type,wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qh(t,e,n){(e!=="number"||Fl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var io=Array.isArray;function Ki(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(io(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wr(n)}}function a_(t,e){var n=wr(e.value),r=wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function l_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?l_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wa,u_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wa=Wa||document.createElement("div"),Wa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lA=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(t){lA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),po[e]=po[t]})});function c_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||po.hasOwnProperty(t)&&po[t]?(""+e).trim():e+"px"}function h_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=c_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uA=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jh(t,e){if(e){if(uA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Zh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ed=null;function Nf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var td=null,Gi=null,Qi=null;function Zg(t){if(t=fa(t)){if(typeof td!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Ou(e),td(t.stateNode,t.type,e))}}function d_(t){Gi?Qi?Qi.push(t):Qi=[t]:Gi=t}function f_(){if(Gi){var t=Gi,e=Qi;if(Qi=Gi=null,Zg(t),e)for(t=0;t<e.length;t++)Zg(e[t])}}function p_(t,e){return t(e)}function m_(){}var qc=!1;function g_(t,e,n){if(qc)return t(e,n);qc=!0;try{return p_(t,e,n)}finally{qc=!1,(Gi!==null||Qi!==null)&&(m_(),f_())}}function Do(t,e){var n=t.stateNode;if(n===null)return null;var r=Ou(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var nd=!1;if(kn)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){nd=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{nd=!1}function cA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var mo=!1,Bl=null,Ul=!1,rd=null,hA={onError:function(t){mo=!0,Bl=t}};function dA(t,e,n,r,i,s,o,a,u){mo=!1,Bl=null,cA.apply(hA,arguments)}function fA(t,e,n,r,i,s,o,a,u){if(dA.apply(this,arguments),mo){if(mo){var c=Bl;mo=!1,Bl=null}else throw Error(B(198));Ul||(Ul=!0,rd=c)}}function pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ey(t){if(pi(t)!==t)throw Error(B(188))}function pA(t){var e=t.alternate;if(!e){if(e=pi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ey(i),t;if(s===r)return ey(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function v_(t){return t=pA(t),t!==null?w_(t):null}function w_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=w_(t);if(e!==null)return e;t=t.sibling}return null}var __=bt.unstable_scheduleCallback,ty=bt.unstable_cancelCallback,mA=bt.unstable_shouldYield,gA=bt.unstable_requestPaint,Ve=bt.unstable_now,yA=bt.unstable_getCurrentPriorityLevel,Vf=bt.unstable_ImmediatePriority,x_=bt.unstable_UserBlockingPriority,zl=bt.unstable_NormalPriority,vA=bt.unstable_LowPriority,E_=bt.unstable_IdlePriority,Du=null,dn=null;function wA(t){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Du,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:EA,_A=Math.log,xA=Math.LN2;function EA(t){return t>>>=0,t===0?32:31-(_A(t)/xA|0)|0}var Ha=64,qa=4194304;function so(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $l(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=so(a):(s&=o,s!==0&&(r=so(s)))}else o=n&~i,o!==0?r=so(o):s!==0&&(r=so(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function TA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=TA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function id(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function T_(){var t=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),t}function Kc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ha(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function IA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function S_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var I_,Mf,A_,C_,P_,sd=!1,Ka=[],or=null,ar=null,lr=null,Mo=new Map,jo=new Map,tr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ny(t,e){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Mo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(e.pointerId)}}function Qs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fa(e),e!==null&&Mf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CA(t,e,n,r,i){switch(e){case"focusin":return or=Qs(or,t,e,n,r,i),!0;case"dragenter":return ar=Qs(ar,t,e,n,r,i),!0;case"mouseover":return lr=Qs(lr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Mo.set(s,Qs(Mo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jo.set(s,Qs(jo.get(s)||null,t,e,n,r,i)),!0}return!1}function R_(t){var e=Qr(t.target);if(e!==null){var n=pi(e);if(n!==null){if(e=n.tag,e===13){if(e=y_(n),e!==null){t.blockedOn=e,P_(t.priority,function(){A_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=od(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ed=r,n.target.dispatchEvent(r),ed=null}else return e=fa(n),e!==null&&Mf(e),t.blockedOn=n,!1;e.shift()}return!0}function ry(t,e,n){yl(t)&&n.delete(e)}function PA(){sd=!1,or!==null&&yl(or)&&(or=null),ar!==null&&yl(ar)&&(ar=null),lr!==null&&yl(lr)&&(lr=null),Mo.forEach(ry),jo.forEach(ry)}function Ys(t,e){t.blockedOn===e&&(t.blockedOn=null,sd||(sd=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,PA)))}function Lo(t){function e(i){return Ys(i,t)}if(0<Ka.length){Ys(Ka[0],t);for(var n=1;n<Ka.length;n++){var r=Ka[n];r.blockedOn===t&&(r.blockedOn=null)}}for(or!==null&&Ys(or,t),ar!==null&&Ys(ar,t),lr!==null&&Ys(lr,t),Mo.forEach(e),jo.forEach(e),n=0;n<tr.length;n++)r=tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)R_(n),n.blockedOn===null&&tr.shift()}var Yi=zn.ReactCurrentBatchConfig,Wl=!0;function RA(t,e,n,r){var i=le,s=Yi.transition;Yi.transition=null;try{le=1,jf(t,e,n,r)}finally{le=i,Yi.transition=s}}function bA(t,e,n,r){var i=le,s=Yi.transition;Yi.transition=null;try{le=4,jf(t,e,n,r)}finally{le=i,Yi.transition=s}}function jf(t,e,n,r){if(Wl){var i=od(t,e,n,r);if(i===null)rh(t,e,r,Hl,n),ny(t,r);else if(CA(i,t,e,n,r))r.stopPropagation();else if(ny(t,r),e&4&&-1<AA.indexOf(t)){for(;i!==null;){var s=fa(i);if(s!==null&&I_(s),s=od(t,e,n,r),s===null&&rh(t,e,r,Hl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rh(t,e,r,null,n)}}var Hl=null;function od(t,e,n,r){if(Hl=null,t=Nf(r),t=Qr(t),t!==null)if(e=pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=y_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hl=t,null}function b_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yA()){case Vf:return 1;case x_:return 4;case zl:case vA:return 16;case E_:return 536870912;default:return 16}default:return 16}}var rr=null,Lf=null,vl=null;function k_(){if(vl)return vl;var t,e=Lf,n=e.length,r,i="value"in rr?rr.value:rr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return vl=i.slice(t,1<r?1-r:void 0)}function wl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function iy(){return!1}function Vt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ga:iy,this.isPropagationStopped=iy,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),e}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Of=Vt(_s),da=Se({},_s,{view:0,detail:0}),kA=Vt(da),Gc,Qc,Xs,Mu=Se({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xs&&(Xs&&t.type==="mousemove"?(Gc=t.screenX-Xs.screenX,Qc=t.screenY-Xs.screenY):Qc=Gc=0,Xs=t),Gc)},movementY:function(t){return"movementY"in t?t.movementY:Qc}}),sy=Vt(Mu),NA=Se({},Mu,{dataTransfer:0}),VA=Vt(NA),DA=Se({},da,{relatedTarget:0}),Yc=Vt(DA),MA=Se({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),jA=Vt(MA),LA=Se({},_s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OA=Vt(LA),FA=Se({},_s,{data:0}),oy=Vt(FA),BA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $A(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zA[t])?!!e[t]:!1}function Ff(){return $A}var WA=Se({},da,{key:function(t){if(t.key){var e=BA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(t){return t.type==="keypress"?wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HA=Vt(WA),qA=Se({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=Vt(qA),KA=Se({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),GA=Vt(KA),QA=Se({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),YA=Vt(QA),XA=Se({},Mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JA=Vt(XA),ZA=[9,13,27,32],Bf=kn&&"CompositionEvent"in window,go=null;kn&&"documentMode"in document&&(go=document.documentMode);var e2=kn&&"TextEvent"in window&&!go,N_=kn&&(!Bf||go&&8<go&&11>=go),ly=" ",uy=!1;function V_(t,e){switch(t){case"keyup":return ZA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ki=!1;function t2(t,e){switch(t){case"compositionend":return D_(e);case"keypress":return e.which!==32?null:(uy=!0,ly);case"textInput":return t=e.data,t===ly&&uy?null:t;default:return null}}function n2(t,e){if(ki)return t==="compositionend"||!Bf&&V_(t,e)?(t=k_(),vl=Lf=rr=null,ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N_&&e.locale!=="ko"?null:e.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r2[t.type]:e==="textarea"}function M_(t,e,n,r){d_(r),e=ql(e,"onChange"),0<e.length&&(n=new Of("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yo=null,Oo=null;function i2(t){q_(t,0)}function ju(t){var e=Di(t);if(s_(e))return t}function s2(t,e){if(t==="change")return e}var j_=!1;if(kn){var Xc;if(kn){var Jc="oninput"in document;if(!Jc){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Jc=typeof hy.oninput=="function"}Xc=Jc}else Xc=!1;j_=Xc&&(!document.documentMode||9<document.documentMode)}function dy(){yo&&(yo.detachEvent("onpropertychange",L_),Oo=yo=null)}function L_(t){if(t.propertyName==="value"&&ju(Oo)){var e=[];M_(e,Oo,t,Nf(t)),g_(i2,e)}}function o2(t,e,n){t==="focusin"?(dy(),yo=e,Oo=n,yo.attachEvent("onpropertychange",L_)):t==="focusout"&&dy()}function a2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Oo)}function l2(t,e){if(t==="click")return ju(e)}function u2(t,e){if(t==="input"||t==="change")return ju(e)}function c2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:c2;function Fo(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zh.call(e,i)||!en(t[i],e[i]))return!1}return!0}function fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function py(t,e){var n=fy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fy(n)}}function O_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function F_(){for(var t=window,e=Fl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fl(t.document)}return e}function Uf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h2(t){var e=F_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O_(n.ownerDocument.documentElement,n)){if(r!==null&&Uf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=py(n,s);var o=py(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d2=kn&&"documentMode"in document&&11>=document.documentMode,Ni=null,ad=null,vo=null,ld=!1;function my(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ld||Ni==null||Ni!==Fl(r)||(r=Ni,"selectionStart"in r&&Uf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vo&&Fo(vo,r)||(vo=r,r=ql(ad,"onSelect"),0<r.length&&(e=new Of("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ni)))}function Qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vi={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},Zc={},B_={};kn&&(B_=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Lu(t){if(Zc[t])return Zc[t];if(!Vi[t])return t;var e=Vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in B_)return Zc[t]=e[n];return t}var U_=Lu("animationend"),z_=Lu("animationiteration"),$_=Lu("animationstart"),W_=Lu("transitionend"),H_=new Map,gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){H_.set(t,e),fi(e,[t])}for(var eh=0;eh<gy.length;eh++){var th=gy[eh],f2=th.toLowerCase(),p2=th[0].toUpperCase()+th.slice(1);br(f2,"on"+p2)}br(U_,"onAnimationEnd");br(z_,"onAnimationIteration");br($_,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(W_,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function yy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fA(r,e,void 0,t),t.currentTarget=null}function q_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;yy(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;yy(i,a,c),s=u}}}if(Ul)throw t=rd,Ul=!1,rd=null,t}function pe(t,e){var n=e[fd];n===void 0&&(n=e[fd]=new Set);var r=t+"__bubble";n.has(r)||(K_(e,t,2,!1),n.add(r))}function nh(t,e,n){var r=0;e&&(r|=4),K_(n,t,r,e)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function Bo(t){if(!t[Ya]){t[Ya]=!0,e_.forEach(function(n){n!=="selectionchange"&&(m2.has(n)||nh(n,!1,t),nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ya]||(e[Ya]=!0,nh("selectionchange",!1,e))}}function K_(t,e,n,r){switch(b_(e)){case 1:var i=RA;break;case 4:i=bA;break;default:i=jf}n=i.bind(null,e,n,t),i=void 0,!nd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qr(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}g_(function(){var c=s,h=Nf(n),f=[];e:{var m=H_.get(t);if(m!==void 0){var y=Of,S=t;switch(t){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":y=HA;break;case"focusin":S="focus",y=Yc;break;case"focusout":S="blur",y=Yc;break;case"beforeblur":case"afterblur":y=Yc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=VA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=GA;break;case U_:case z_:case $_:y=jA;break;case W_:y=YA;break;case"scroll":y=kA;break;case"wheel":y=JA;break;case"copy":case"cut":case"paste":y=OA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ay}var A=(e&4)!==0,R=!A&&t==="scroll",_=A?m!==null?m+"Capture":null:m;A=[];for(var w=c,E;w!==null;){E=w;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,_!==null&&(N=Do(w,_),N!=null&&A.push(Uo(w,N,E)))),R)break;w=w.return}0<A.length&&(m=new y(m,S,null,n,h),f.push({event:m,listeners:A}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==ed&&(S=n.relatedTarget||n.fromElement)&&(Qr(S)||S[Nn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=c,S=S?Qr(S):null,S!==null&&(R=pi(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=c),y!==S)){if(A=sy,N="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(A=ay,N="onPointerLeave",_="onPointerEnter",w="pointer"),R=y==null?m:Di(y),E=S==null?m:Di(S),m=new A(N,w+"leave",y,n,h),m.target=R,m.relatedTarget=E,N=null,Qr(h)===c&&(A=new A(_,w+"enter",S,n,h),A.target=E,A.relatedTarget=R,N=A),R=N,y&&S)t:{for(A=y,_=S,w=0,E=A;E;E=Si(E))w++;for(E=0,N=_;N;N=Si(N))E++;for(;0<w-E;)A=Si(A),w--;for(;0<E-w;)_=Si(_),E--;for(;w--;){if(A===_||_!==null&&A===_.alternate)break t;A=Si(A),_=Si(_)}A=null}else A=null;y!==null&&vy(f,m,y,A,!1),S!==null&&R!==null&&vy(f,R,S,A,!0)}}e:{if(m=c?Di(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var M=s2;else if(cy(m))if(j_)M=u2;else{M=a2;var L=o2}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=l2);if(M&&(M=M(t,c))){M_(f,M,n,h);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Qh(m,"number",m.value)}switch(L=c?Di(c):window,t){case"focusin":(cy(L)||L.contentEditable==="true")&&(Ni=L,ad=c,vo=null);break;case"focusout":vo=ad=Ni=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,my(f,n,h);break;case"selectionchange":if(d2)break;case"keydown":case"keyup":my(f,n,h)}var T;if(Bf)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ki?V_(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(N_&&n.locale!=="ko"&&(ki||v!=="onCompositionStart"?v==="onCompositionEnd"&&ki&&(T=k_()):(rr=h,Lf="value"in rr?rr.value:rr.textContent,ki=!0)),L=ql(c,v),0<L.length&&(v=new oy(v,t,null,n,h),f.push({event:v,listeners:L}),T?v.data=T:(T=D_(n),T!==null&&(v.data=T)))),(T=e2?t2(t,n):n2(t,n))&&(c=ql(c,"onBeforeInput"),0<c.length&&(h=new oy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=T))}q_(f,e)})}function Uo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ql(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Do(t,n),s!=null&&r.unshift(Uo(t,s,i)),s=Do(t,e),s!=null&&r.push(Uo(t,s,i))),t=t.return}return r}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Do(n,s),u!=null&&o.unshift(Uo(n,u,a))):i||(u=Do(n,s),u!=null&&o.push(Uo(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function wy(t){return(typeof t=="string"?t:""+t).replace(g2,`
`).replace(y2,"")}function Xa(t,e,n){if(e=wy(e),wy(t)!==e&&n)throw Error(B(425))}function Kl(){}var ud=null,cd=null;function hd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,v2=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(t){return _y.resolve(null).then(t).catch(_2)}:dd;function _2(t){setTimeout(function(){throw t})}function ih(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lo(e)}function ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xs=Math.random().toString(36).slice(2),hn="__reactFiber$"+xs,zo="__reactProps$"+xs,Nn="__reactContainer$"+xs,fd="__reactEvents$"+xs,x2="__reactListeners$"+xs,E2="__reactHandles$"+xs;function Qr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xy(t);t!==null;){if(n=t[hn])return n;t=xy(t)}return e}t=n,n=t.parentNode}return null}function fa(t){return t=t[hn]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Ou(t){return t[zo]||null}var pd=[],Mi=-1;function kr(t){return{current:t}}function ge(t){0>Mi||(t.current=pd[Mi],pd[Mi]=null,Mi--)}function de(t,e){Mi++,pd[Mi]=t.current,t.current=e}var _r={},ct=kr(_r),xt=kr(!1),ii=_r;function is(t,e){var n=t.type.contextTypes;if(!n)return _r;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Et(t){return t=t.childContextTypes,t!=null}function Gl(){ge(xt),ge(ct)}function Ey(t,e,n){if(ct.current!==_r)throw Error(B(168));de(ct,e),de(xt,n)}function G_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,oA(t)||"Unknown",i));return Se({},n,r)}function Ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,ii=ct.current,de(ct,t),de(xt,xt.current),!0}function Ty(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=G_(t,e,ii),r.__reactInternalMemoizedMergedChildContext=t,ge(xt),ge(ct),de(ct,t)):ge(xt),de(xt,n)}var Tn=null,Fu=!1,sh=!1;function Q_(t){Tn===null?Tn=[t]:Tn.push(t)}function T2(t){Fu=!0,Q_(t)}function Nr(){if(!sh&&Tn!==null){sh=!0;var t=0,e=le;try{var n=Tn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tn=null,Fu=!1}catch(i){throw Tn!==null&&(Tn=Tn.slice(t+1)),__(Vf,Nr),i}finally{le=e,sh=!1}}return null}var ji=[],Li=0,Yl=null,Xl=0,Lt=[],Ot=0,si=null,Sn=1,In="";function Wr(t,e){ji[Li++]=Xl,ji[Li++]=Yl,Yl=t,Xl=e}function Y_(t,e,n){Lt[Ot++]=Sn,Lt[Ot++]=In,Lt[Ot++]=si,si=t;var r=Sn;t=In;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var s=32-Jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sn=1<<32-Jt(e)+i|n<<i|r,In=s+t}else Sn=1<<s|n<<i|r,In=t}function zf(t){t.return!==null&&(Wr(t,1),Y_(t,1,0))}function $f(t){for(;t===Yl;)Yl=ji[--Li],ji[Li]=null,Xl=ji[--Li],ji[Li]=null;for(;t===si;)si=Lt[--Ot],Lt[Ot]=null,In=Lt[--Ot],Lt[Ot]=null,Sn=Lt[--Ot],Lt[Ot]=null}var Ct=null,At=null,we=!1,Yt=null;function X_(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ct=t,At=ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ct=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:Sn,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ct=t,At=null,!0):!1;default:return!1}}function md(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gd(t){if(we){var e=At;if(e){var n=e;if(!Sy(t,e)){if(md(t))throw Error(B(418));e=ur(n.nextSibling);var r=Ct;e&&Sy(t,e)?X_(r,n):(t.flags=t.flags&-4097|2,we=!1,Ct=t)}}else{if(md(t))throw Error(B(418));t.flags=t.flags&-4097|2,we=!1,Ct=t}}}function Iy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function Ja(t){if(t!==Ct)return!1;if(!we)return Iy(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hd(t.type,t.memoizedProps)),e&&(e=At)){if(md(t))throw J_(),Error(B(418));for(;e;)X_(t,e),e=ur(e.nextSibling)}if(Iy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=Ct?ur(t.stateNode.nextSibling):null;return!0}function J_(){for(var t=At;t;)t=ur(t.nextSibling)}function ss(){At=Ct=null,we=!1}function Wf(t){Yt===null?Yt=[t]:Yt.push(t)}var S2=zn.ReactCurrentBatchConfig;function Js(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Za(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ay(t){var e=t._init;return e(t._payload)}function Z_(t){function e(_,w){if(t){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=fr(_,w),_.index=0,_.sibling=null,_}function s(_,w,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,E,N){return w===null||w.tag!==6?(w=dh(E,_.mode,N),w.return=_,w):(w=i(w,E),w.return=_,w)}function u(_,w,E,N){var M=E.type;return M===bi?h(_,w,E.props.children,N,E.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zn&&Ay(M)===w.type)?(N=i(w,E.props),N.ref=Js(_,w,E),N.return=_,N):(N=Al(E.type,E.key,E.props,null,_.mode,N),N.ref=Js(_,w,E),N.return=_,N)}function c(_,w,E,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=fh(E,_.mode,N),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function h(_,w,E,N,M){return w===null||w.tag!==7?(w=ni(E,_.mode,N,M),w.return=_,w):(w=i(w,E),w.return=_,w)}function f(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=dh(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case za:return E=Al(w.type,w.key,w.props,null,_.mode,E),E.ref=Js(_,null,w),E.return=_,E;case Ri:return w=fh(w,_.mode,E),w.return=_,w;case Zn:var N=w._init;return f(_,N(w._payload),E)}if(io(w)||Ks(w))return w=ni(w,_.mode,E,null),w.return=_,w;Za(_,w)}return null}function m(_,w,E,N){var M=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return M!==null?null:a(_,w,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case za:return E.key===M?u(_,w,E,N):null;case Ri:return E.key===M?c(_,w,E,N):null;case Zn:return M=E._init,m(_,w,M(E._payload),N)}if(io(E)||Ks(E))return M!==null?null:h(_,w,E,N,null);Za(_,E)}return null}function y(_,w,E,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(E)||null,a(w,_,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case za:return _=_.get(N.key===null?E:N.key)||null,u(w,_,N,M);case Ri:return _=_.get(N.key===null?E:N.key)||null,c(w,_,N,M);case Zn:var L=N._init;return y(_,w,E,L(N._payload),M)}if(io(N)||Ks(N))return _=_.get(E)||null,h(w,_,N,M,null);Za(w,N)}return null}function S(_,w,E,N){for(var M=null,L=null,T=w,v=w=0,I=null;T!==null&&v<E.length;v++){T.index>v?(I=T,T=null):I=T.sibling;var C=m(_,T,E[v],N);if(C===null){T===null&&(T=I);break}t&&T&&C.alternate===null&&e(_,T),w=s(C,w,v),L===null?M=C:L.sibling=C,L=C,T=I}if(v===E.length)return n(_,T),we&&Wr(_,v),M;if(T===null){for(;v<E.length;v++)T=f(_,E[v],N),T!==null&&(w=s(T,w,v),L===null?M=T:L.sibling=T,L=T);return we&&Wr(_,v),M}for(T=r(_,T);v<E.length;v++)I=y(T,_,v,E[v],N),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?v:I.key),w=s(I,w,v),L===null?M=I:L.sibling=I,L=I);return t&&T.forEach(function(b){return e(_,b)}),we&&Wr(_,v),M}function A(_,w,E,N){var M=Ks(E);if(typeof M!="function")throw Error(B(150));if(E=M.call(E),E==null)throw Error(B(151));for(var L=M=null,T=w,v=w=0,I=null,C=E.next();T!==null&&!C.done;v++,C=E.next()){T.index>v?(I=T,T=null):I=T.sibling;var b=m(_,T,C.value,N);if(b===null){T===null&&(T=I);break}t&&T&&b.alternate===null&&e(_,T),w=s(b,w,v),L===null?M=b:L.sibling=b,L=b,T=I}if(C.done)return n(_,T),we&&Wr(_,v),M;if(T===null){for(;!C.done;v++,C=E.next())C=f(_,C.value,N),C!==null&&(w=s(C,w,v),L===null?M=C:L.sibling=C,L=C);return we&&Wr(_,v),M}for(T=r(_,T);!C.done;v++,C=E.next())C=y(T,_,v,C.value,N),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?v:C.key),w=s(C,w,v),L===null?M=C:L.sibling=C,L=C);return t&&T.forEach(function(V){return e(_,V)}),we&&Wr(_,v),M}function R(_,w,E,N){if(typeof E=="object"&&E!==null&&E.type===bi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case za:e:{for(var M=E.key,L=w;L!==null;){if(L.key===M){if(M=E.type,M===bi){if(L.tag===7){n(_,L.sibling),w=i(L,E.props.children),w.return=_,_=w;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zn&&Ay(M)===L.type){n(_,L.sibling),w=i(L,E.props),w.ref=Js(_,L,E),w.return=_,_=w;break e}n(_,L);break}else e(_,L);L=L.sibling}E.type===bi?(w=ni(E.props.children,_.mode,N,E.key),w.return=_,_=w):(N=Al(E.type,E.key,E.props,null,_.mode,N),N.ref=Js(_,w,E),N.return=_,_=N)}return o(_);case Ri:e:{for(L=E.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=fh(E,_.mode,N),w.return=_,_=w}return o(_);case Zn:return L=E._init,R(_,w,L(E._payload),N)}if(io(E))return S(_,w,E,N);if(Ks(E))return A(_,w,E,N);Za(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,E),w.return=_,_=w):(n(_,w),w=dh(E,_.mode,N),w.return=_,_=w),o(_)):n(_,w)}return R}var os=Z_(!0),ex=Z_(!1),Jl=kr(null),Zl=null,Oi=null,Hf=null;function qf(){Hf=Oi=Zl=null}function Kf(t){var e=Jl.current;ge(Jl),t._currentValue=e}function yd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){Zl=t,Hf=Oi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(Hf!==t)if(t={context:t,memoizedValue:e,next:null},Oi===null){if(Zl===null)throw Error(B(308));Oi=t,Zl.dependencies={lanes:0,firstContext:t}}else Oi=Oi.next=t;return e}var Yr=null;function Gf(t){Yr===null?Yr=[t]:Yr.push(t)}function tx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vn(t,r)}function Vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var er=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function An(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vn(t,n)}return i=r.interleaved,i===null?(e.next=e,Gf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vn(t,n)}function _l(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}function Cy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eu(t,e,n,r){var i=t.updateQueue;er=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,A=a;switch(m=e,y=n,A.tag){case 1:if(S=A.payload,typeof S=="function"){f=S.call(y,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=A.payload,m=typeof S=="function"?S.call(y,f,m):S,m==null)break e;f=Se({},f,m);break e;case 2:er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=f}}function Py(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var pa={},fn=kr(pa),$o=kr(pa),Wo=kr(pa);function Xr(t){if(t===pa)throw Error(B(174));return t}function Yf(t,e){switch(de(Wo,e),de($o,t),de(fn,pa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xh(e,t)}ge(fn),de(fn,e)}function as(){ge(fn),ge($o),ge(Wo)}function rx(t){Xr(Wo.current);var e=Xr(fn.current),n=Xh(e,t.type);e!==n&&(de($o,t),de(fn,n))}function Xf(t){$o.current===t&&(ge(fn),ge($o))}var _e=kr(0);function tu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oh=[];function Jf(){for(var t=0;t<oh.length;t++)oh[t]._workInProgressVersionPrimary=null;oh.length=0}var xl=zn.ReactCurrentDispatcher,ah=zn.ReactCurrentBatchConfig,oi=0,Ee=null,Be=null,He=null,nu=!1,wo=!1,Ho=0,I2=0;function nt(){throw Error(B(321))}function Zf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function ep(t,e,n,r,i,s){if(oi=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xl.current=t===null||t.memoizedState===null?R2:b2,t=n(r,i),wo){s=0;do{if(wo=!1,Ho=0,25<=s)throw Error(B(301));s+=1,He=Be=null,e.updateQueue=null,xl.current=k2,t=n(r,i)}while(wo)}if(xl.current=ru,e=Be!==null&&Be.next!==null,oi=0,He=Be=Ee=null,nu=!1,e)throw Error(B(300));return t}function tp(){var t=Ho!==0;return Ho=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ee.memoizedState=He=t:He=He.next=t,He}function Wt(){if(Be===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=He===null?Ee.memoizedState:He.next;if(e!==null)He=e,Be=t;else{if(t===null)throw Error(B(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?Ee.memoizedState=He=t:He=He.next=t}return He}function qo(t,e){return typeof e=="function"?e(t):e}function lh(t){var e=Wt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((oi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ee.lanes|=h,ai|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,en(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uh(t){var e=Wt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);en(s,e.memoizedState)||(_t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ix(){}function sx(t,e){var n=Ee,r=Wt(),i=e(),s=!en(r.memoizedState,i);if(s&&(r.memoizedState=i,_t=!0),r=r.queue,np(lx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Ko(9,ax.bind(null,n,r,i,e),void 0,null),Ke===null)throw Error(B(349));oi&30||ox(n,e,i)}return i}function ox(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ax(t,e,n,r){e.value=n,e.getSnapshot=r,ux(e)&&cx(t)}function lx(t,e,n){return n(function(){ux(e)&&cx(t)})}function ux(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function cx(t){var e=Vn(t,1);e!==null&&Zt(e,t,1,-1)}function Ry(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},e.queue=t,t=t.dispatch=P2.bind(null,Ee,t),[e.memoizedState,t]}function Ko(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hx(){return Wt().memoizedState}function El(t,e,n,r){var i=un();Ee.flags|=t,i.memoizedState=Ko(1|e,n,void 0,r===void 0?null:r)}function Bu(t,e,n,r){var i=Wt();r=r===void 0?null:r;var s=void 0;if(Be!==null){var o=Be.memoizedState;if(s=o.destroy,r!==null&&Zf(r,o.deps)){i.memoizedState=Ko(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=Ko(1|e,n,s,r)}function by(t,e){return El(8390656,8,t,e)}function np(t,e){return Bu(2048,8,t,e)}function dx(t,e){return Bu(4,2,t,e)}function fx(t,e){return Bu(4,4,t,e)}function px(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mx(t,e,n){return n=n!=null?n.concat([t]):null,Bu(4,4,px.bind(null,e,t),n)}function rp(){}function gx(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yx(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vx(t,e,n){return oi&21?(en(n,e)||(n=T_(),Ee.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function A2(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=ah.transition;ah.transition={};try{t(!1),e()}finally{le=n,ah.transition=r}}function wx(){return Wt().memoizedState}function C2(t,e,n){var r=dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_x(t))xx(e,n);else if(n=tx(t,e,n,r),n!==null){var i=pt();Zt(n,t,r,i),Ex(n,e,r)}}function P2(t,e,n){var r=dr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_x(t))xx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,en(a,o)){var u=e.interleaved;u===null?(i.next=i,Gf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=tx(t,e,i,r),n!==null&&(i=pt(),Zt(n,t,r,i),Ex(n,e,r))}}function _x(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function xx(t,e){wo=nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ex(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}var ru={readContext:$t,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},R2={readContext:$t,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:by,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,El(4194308,4,px.bind(null,e,t),n)},useLayoutEffect:function(t,e){return El(4194308,4,t,e)},useInsertionEffect:function(t,e){return El(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=C2.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:Ry,useDebugValue:rp,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=Ry(!1),e=t[0];return t=A2.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=un();if(we){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ke===null)throw Error(B(349));oi&30||ox(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,by(lx.bind(null,r,s,t),[t]),r.flags|=2048,Ko(9,ax.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=un(),e=Ke.identifierPrefix;if(we){var n=In,r=Sn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ho++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=I2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},b2={readContext:$t,useCallback:gx,useContext:$t,useEffect:np,useImperativeHandle:mx,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:yx,useReducer:lh,useRef:hx,useState:function(){return lh(qo)},useDebugValue:rp,useDeferredValue:function(t){var e=Wt();return vx(e,Be.memoizedState,t)},useTransition:function(){var t=lh(qo)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:ix,useSyncExternalStore:sx,useId:wx,unstable_isNewReconciler:!1},k2={readContext:$t,useCallback:gx,useContext:$t,useEffect:np,useImperativeHandle:mx,useInsertionEffect:dx,useLayoutEffect:fx,useMemo:yx,useReducer:uh,useRef:hx,useState:function(){return uh(qo)},useDebugValue:rp,useDeferredValue:function(t){var e=Wt();return Be===null?e.memoizedState=t:vx(e,Be.memoizedState,t)},useTransition:function(){var t=uh(qo)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:ix,useSyncExternalStore:sx,useId:wx,unstable_isNewReconciler:!1};function Gt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uu={isMounted:function(t){return(t=t._reactInternals)?pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pt(),i=dr(t),s=An(r,i);s.payload=e,n!=null&&(s.callback=n),e=cr(t,s,i),e!==null&&(Zt(e,t,i,r),_l(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pt(),i=dr(t),s=An(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cr(t,s,i),e!==null&&(Zt(e,t,i,r),_l(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pt(),r=dr(t),i=An(n,r);i.tag=2,e!=null&&(i.callback=e),e=cr(t,i,r),e!==null&&(Zt(e,t,r,n),_l(e,t,r))}};function ky(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fo(n,r)||!Fo(i,s):!0}function Tx(t,e,n){var r=!1,i=_r,s=e.contextType;return typeof s=="object"&&s!==null?s=$t(s):(i=Et(e)?ii:ct.current,r=e.contextTypes,s=(r=r!=null)?is(t,i):_r),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ny(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uu.enqueueReplaceState(e,e.state,null)}function wd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$t(s):(s=Et(e)?ii:ct.current,i.context=is(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uu.enqueueReplaceState(i,i.state,null),eu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ls(t,e){try{var n="",r=e;do n+=sA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _d(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N2=typeof WeakMap=="function"?WeakMap:Map;function Sx(t,e,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){su||(su=!0,bd=r),_d(t,e)},n}function Ix(t,e,n){n=An(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_d(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_d(t,e),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Vy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=q2.bind(null,t,e,n),e.then(t,t))}function Dy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function My(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=An(-1,1),e.tag=2,cr(n,e,1))),n.lanes|=1),t)}var V2=zn.ReactCurrentOwner,_t=!1;function ft(t,e,n,r){e.child=t===null?ex(e,null,n,r):os(e,t.child,n,r)}function jy(t,e,n,r,i){n=n.render;var s=e.ref;return Xi(e,i),r=ep(t,e,n,r,s,i),n=tp(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(we&&n&&zf(e),e.flags|=1,ft(t,e,r,i),e.child)}function Ly(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ax(t,e,s,r,i)):(t=Al(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(o,r)&&t.ref===e.ref)return Dn(t,e,i)}return e.flags|=1,t=fr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ax(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fo(s,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Dn(t,e,i)}return xd(t,e,n,r,i)}function Cx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Bi,It),It|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(Bi,It),It|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(Bi,It),It|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,de(Bi,It),It|=r;return ft(t,e,i,n),e.child}function Px(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xd(t,e,n,r,i){var s=Et(n)?ii:ct.current;return s=is(e,s),Xi(e,i),n=ep(t,e,n,r,s,i),r=tp(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dn(t,e,i)):(we&&r&&zf(e),e.flags|=1,ft(t,e,n,i),e.child)}function Oy(t,e,n,r,i){if(Et(n)){var s=!0;Ql(e)}else s=!1;if(Xi(e,i),e.stateNode===null)Tl(t,e),Tx(e,n,r),wd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$t(c):(c=Et(n)?ii:ct.current,c=is(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ny(e,o,r,c),er=!1;var m=e.memoizedState;o.state=m,eu(e,r,o,i),u=e.memoizedState,a!==r||m!==u||xt.current||er?(typeof h=="function"&&(vd(e,n,h,r),u=e.memoizedState),(a=er||ky(e,n,a,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gt(e.type,a),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=$t(u):(u=Et(n)?ii:ct.current,u=is(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Ny(e,o,r,u),er=!1,m=e.memoizedState,o.state=m,eu(e,r,o,i);var S=e.memoizedState;a!==f||m!==S||xt.current||er?(typeof y=="function"&&(vd(e,n,y,r),S=e.memoizedState),(c=er||ky(e,n,c,r,m,S,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ed(t,e,n,r,s,i)}function Ed(t,e,n,r,i,s){Px(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ty(e,n,!1),Dn(t,e,s);r=e.stateNode,V2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=os(e,t.child,null,s),e.child=os(e,null,a,s)):ft(t,e,a,s),e.memoizedState=r.state,i&&Ty(e,n,!0),e.child}function Rx(t){var e=t.stateNode;e.pendingContext?Ey(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ey(t,e.context,!1),Yf(t,e.containerInfo)}function Fy(t,e,n,r,i){return ss(),Wf(i),e.flags|=256,ft(t,e,n,r),e.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function Sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function bx(t,e,n){var r=e.pendingProps,i=_e.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),de(_e,i&1),t===null)return gd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wu(o,r,0,null),t=ni(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sd(n),e.memoizedState=Td,t):ip(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return D2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=fr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fr(a,s):(s=ni(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Td,r}return s=t.child,t=s.sibling,r=fr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ip(t,e){return e=Wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function el(t,e,n,r){return r!==null&&Wf(r),os(e,t.child,null,n),t=ip(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ch(Error(B(422))),el(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wu({mode:"visible",children:r.children},i,0,null),s=ni(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&os(e,t.child,null,o),e.child.memoizedState=Sd(o),e.memoizedState=Td,s);if(!(e.mode&1))return el(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=ch(s,r,void 0),el(t,e,o,r)}if(a=(o&t.childLanes)!==0,_t||a){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vn(t,i),Zt(r,t,i,-1))}return cp(),r=ch(Error(B(421))),el(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,At=ur(i.nextSibling),Ct=e,we=!0,Yt=null,t!==null&&(Lt[Ot++]=Sn,Lt[Ot++]=In,Lt[Ot++]=si,Sn=t.id,In=t.overflow,si=e),e=ip(e,r.children),e.flags|=4096,e)}function By(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yd(t.return,e,n)}function hh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ft(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,n,e);else if(t.tag===19)By(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(_e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hh(e,!0,n,null,s);break;case"together":hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function M2(t,e,n){switch(e.tag){case 3:Rx(e),ss();break;case 5:rx(e);break;case 1:Et(e.type)&&Ql(e);break;case 4:Yf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;de(Jl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?bx(t,e,n):(de(_e,_e.current&1),t=Dn(t,e,n),t!==null?t.sibling:null);de(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,Cx(t,e,n)}return Dn(t,e,n)}var Nx,Id,Vx,Dx;Nx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Id=function(){};Vx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xr(fn.current);var s=null;switch(n){case"input":i=Kh(t,i),r=Kh(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=Yh(t,i),r=Yh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kl)}Jh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(No.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(No.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&pe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Dx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zs(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j2(t,e,n){var r=e.pendingProps;switch($f(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return Et(e.type)&&Gl(),rt(e),null;case 3:return r=e.stateNode,as(),ge(xt),ge(ct),Jf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ja(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yt!==null&&(Vd(Yt),Yt=null))),Id(t,e),rt(e),null;case 5:Xf(e);var i=Xr(Wo.current);if(n=e.type,t!==null&&e.stateNode!=null)Vx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return rt(e),null}if(t=Xr(fn.current),Ja(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hn]=e,r[zo]=s,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<oo.length;i++)pe(oo[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Qg(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Xg(r,s),pe("invalid",r)}Jh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xa(r.textContent,a,t),i=["children",""+a]):No.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":$a(r),Yg(r,s,!0);break;case"textarea":$a(r),Jg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=l_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[zo]=r,Nx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zh(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<oo.length;i++)pe(oo[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Qg(t,r),i=Kh(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Xg(t,r),i=Yh(t,r),pe("invalid",t);break;default:i=r}Jh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?h_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&u_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Vo(t,u):typeof u=="number"&&Vo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(No.hasOwnProperty(s)?u!=null&&s==="onScroll"&&pe("scroll",t):u!=null&&Pf(t,s,u,o))}switch(n){case"input":$a(t),Yg(t,r,!1);break;case"textarea":$a(t),Jg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ki(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)Dx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Xr(Wo.current),Xr(fn.current),Ja(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(s=r.nodeValue!==n)&&(t=Ct,t!==null))switch(t.tag){case 3:Xa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return rt(e),null;case 13:if(ge(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&At!==null&&e.mode&1&&!(e.flags&128))J_(),ss(),e.flags|=98560,s=!1;else if(s=Ja(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[hn]=e}else ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),s=!1}else Yt!==null&&(Vd(Yt),Yt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?Ue===0&&(Ue=3):cp())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return as(),Id(t,e),t===null&&Bo(e.stateNode.containerInfo),rt(e),null;case 10:return Kf(e.type._context),rt(e),null;case 17:return Et(e.type)&&Gl(),rt(e),null;case 19:if(ge(_e),s=e.memoizedState,s===null)return rt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Zs(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tu(t),o!==null){for(e.flags|=128,Zs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(_e,_e.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>us&&(e.flags|=128,r=!0,Zs(s,!1),e.lanes=4194304)}else{if(!r)if(t=tu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!we)return rt(e),null}else 2*Ve()-s.renderingStartTime>us&&n!==1073741824&&(e.flags|=128,r=!0,Zs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=_e.current,de(_e,r?n&1|2:n&1),e):(rt(e),null);case 22:case 23:return up(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?It&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function L2(t,e){switch($f(e),e.tag){case 1:return Et(e.type)&&Gl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return as(),ge(xt),ge(ct),Jf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xf(e),null;case 13:if(ge(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(_e),null;case 4:return as(),null;case 10:return Kf(e.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var tl=!1,at=!1,O2=typeof WeakSet=="function"?WeakSet:Set,H=null;function Fi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Ad(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var Uy=!1;function F2(t,e){if(ud=Wl,t=F_(),Uf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(u=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(cd={focusedElem:t,selectionRange:n},Wl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var A=S.memoizedProps,R=S.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?A:Gt(e.type,A),R);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Pe(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return S=Uy,Uy=!1,S}function _o(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ad(e,n,s)}i=i.next}while(i!==r)}}function zu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mx(t){var e=t.alternate;e!==null&&(t.alternate=null,Mx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[zo],delete e[fd],delete e[x2],delete e[E2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jx(t){return t.tag===5||t.tag===3||t.tag===4}function zy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kl));else if(r!==4&&(t=t.child,t!==null))for(Pd(t,e,n),t=t.sibling;t!==null;)Pd(t,e,n),t=t.sibling}function Rd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rd(t,e,n),t=t.sibling;t!==null;)Rd(t,e,n),t=t.sibling}var Ge=null,Qt=!1;function Xn(t,e,n){for(n=n.child;n!==null;)Lx(t,e,n),n=n.sibling}function Lx(t,e,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Du,n)}catch{}switch(n.tag){case 5:at||Fi(n,e);case 6:var r=Ge,i=Qt;Ge=null,Xn(t,e,n),Ge=r,Qt=i,Ge!==null&&(Qt?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Qt?(t=Ge,n=n.stateNode,t.nodeType===8?ih(t.parentNode,n):t.nodeType===1&&ih(t,n),Lo(t)):ih(Ge,n.stateNode));break;case 4:r=Ge,i=Qt,Ge=n.stateNode.containerInfo,Qt=!0,Xn(t,e,n),Ge=r,Qt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ad(n,e,o),i=i.next}while(i!==r)}Xn(t,e,n);break;case 1:if(!at&&(Fi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}Xn(t,e,n);break;case 21:Xn(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Xn(t,e,n),at=r):Xn(t,e,n);break;default:Xn(t,e,n)}}function $y(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new O2),e.forEach(function(r){var i=G2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ge=a.stateNode,Qt=!1;break e;case 3:Ge=a.stateNode.containerInfo,Qt=!0;break e;case 4:Ge=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(Ge===null)throw Error(B(160));Lx(s,o,i),Ge=null,Qt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Pe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ox(e,t),e=e.sibling}function Ox(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),ln(t),r&4){try{_o(3,t,t.return),zu(3,t)}catch(A){Pe(t,t.return,A)}try{_o(5,t,t.return)}catch(A){Pe(t,t.return,A)}}break;case 1:qt(e,t),ln(t),r&512&&n!==null&&Fi(n,n.return);break;case 5:if(qt(e,t),ln(t),r&512&&n!==null&&Fi(n,n.return),t.flags&32){var i=t.stateNode;try{Vo(i,"")}catch(A){Pe(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&o_(i,s),Zh(a,o);var c=Zh(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?h_(i,f):h==="dangerouslySetInnerHTML"?u_(i,f):h==="children"?Vo(i,f):Pf(i,h,f,c)}switch(a){case"input":Gh(i,s);break;case"textarea":a_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ki(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ki(i,!!s.multiple,s.defaultValue,!0):Ki(i,!!s.multiple,s.multiple?[]:"",!1))}i[zo]=s}catch(A){Pe(t,t.return,A)}}break;case 6:if(qt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){Pe(t,t.return,A)}}break;case 3:if(qt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(e.containerInfo)}catch(A){Pe(t,t.return,A)}break;case 4:qt(e,t),ln(t);break;case 13:qt(e,t),ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ap=Ve())),r&4&&$y(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(at=(c=at)||h,qt(e,t),at=c):qt(e,t),ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(m=H,y=m.child,m.tag){case 0:case 11:case 14:case 15:_o(4,m,m.return);break;case 1:Fi(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(A){Pe(r,n,A)}}break;case 5:Fi(m,m.return);break;case 22:if(m.memoizedState!==null){Hy(f);continue}}y!==null?(y.return=m,H=y):Hy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=c_("display",o))}catch(A){Pe(t,t.return,A)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(A){Pe(t,t.return,A)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qt(e,t),ln(t),r&4&&$y(t);break;case 21:break;default:qt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jx(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vo(i,""),r.flags&=-33);var s=zy(t);Rd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zy(t);Pd(t,a,o);break;default:throw Error(B(161))}}catch(u){Pe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B2(t,e,n){H=t,Fx(t)}function Fx(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||at;a=tl;var c=at;if(tl=o,(at=u)&&!c)for(H=i;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?qy(i):u!==null?(u.return=o,H=u):qy(i);for(;s!==null;)H=s,Fx(s),s=s.sibling;H=i,tl=a,at=c}Wy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):Wy(t)}}function Wy(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||zu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Py(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Py(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Lo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}at||e.flags&512&&Cd(e)}catch(m){Pe(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Hy(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function qy(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zu(4,e)}catch(u){Pe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Pe(e,i,u)}}var s=e.return;try{Cd(e)}catch(u){Pe(e,s,u)}break;case 5:var o=e.return;try{Cd(e)}catch(u){Pe(e,o,u)}}}catch(u){Pe(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var U2=Math.ceil,iu=zn.ReactCurrentDispatcher,sp=zn.ReactCurrentOwner,zt=zn.ReactCurrentBatchConfig,oe=0,Ke=null,je=null,Je=0,It=0,Bi=kr(0),Ue=0,Go=null,ai=0,$u=0,op=0,xo=null,wt=null,ap=0,us=1/0,En=null,su=!1,bd=null,hr=null,nl=!1,ir=null,ou=0,Eo=0,kd=null,Sl=-1,Il=0;function pt(){return oe&6?Ve():Sl!==-1?Sl:Sl=Ve()}function dr(t){return t.mode&1?oe&2&&Je!==0?Je&-Je:S2.transition!==null?(Il===0&&(Il=T_()),Il):(t=le,t!==0||(t=window.event,t=t===void 0?16:b_(t.type)),t):1}function Zt(t,e,n,r){if(50<Eo)throw Eo=0,kd=null,Error(B(185));ha(t,n,r),(!(oe&2)||t!==Ke)&&(t===Ke&&(!(oe&2)&&($u|=n),Ue===4&&nr(t,Je)),Tt(t,r),n===1&&oe===0&&!(e.mode&1)&&(us=Ve()+500,Fu&&Nr()))}function Tt(t,e){var n=t.callbackNode;SA(t,e);var r=$l(t,t===Ke?Je:0);if(r===0)n!==null&&ty(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ty(n),e===1)t.tag===0?T2(Ky.bind(null,t)):Q_(Ky.bind(null,t)),w2(function(){!(oe&6)&&Nr()}),n=null;else{switch(S_(r)){case 1:n=Vf;break;case 4:n=x_;break;case 16:n=zl;break;case 536870912:n=E_;break;default:n=zl}n=Kx(n,Bx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Bx(t,e){if(Sl=-1,Il=0,oe&6)throw Error(B(327));var n=t.callbackNode;if(Ji()&&t.callbackNode!==n)return null;var r=$l(t,t===Ke?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=au(t,r);else{e=r;var i=oe;oe|=2;var s=zx();(Ke!==t||Je!==e)&&(En=null,us=Ve()+500,ti(t,e));do try{W2();break}catch(a){Ux(t,a)}while(!0);qf(),iu.current=s,oe=i,je!==null?e=0:(Ke=null,Je=0,e=Ue)}if(e!==0){if(e===2&&(i=id(t),i!==0&&(r=i,e=Nd(t,i))),e===1)throw n=Go,ti(t,0),nr(t,r),Tt(t,Ve()),n;if(e===6)nr(t,r);else{if(i=t.current.alternate,!(r&30)&&!z2(i)&&(e=au(t,r),e===2&&(s=id(t),s!==0&&(r=s,e=Nd(t,s))),e===1))throw n=Go,ti(t,0),nr(t,r),Tt(t,Ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Hr(t,wt,En);break;case 3:if(nr(t,r),(r&130023424)===r&&(e=ap+500-Ve(),10<e)){if($l(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dd(Hr.bind(null,t,wt,En),e);break}Hr(t,wt,En);break;case 4:if(nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U2(r/1960))-r,10<r){t.timeoutHandle=dd(Hr.bind(null,t,wt,En),r);break}Hr(t,wt,En);break;case 5:Hr(t,wt,En);break;default:throw Error(B(329))}}}return Tt(t,Ve()),t.callbackNode===n?Bx.bind(null,t):null}function Nd(t,e){var n=xo;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=au(t,e),t!==2&&(e=wt,wt=n,e!==null&&Vd(e)),t}function Vd(t){wt===null?wt=t:wt.push.apply(wt,t)}function z2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!en(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~op,e&=~$u,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function Ky(t){if(oe&6)throw Error(B(327));Ji();var e=$l(t,0);if(!(e&1))return Tt(t,Ve()),null;var n=au(t,e);if(t.tag!==0&&n===2){var r=id(t);r!==0&&(e=r,n=Nd(t,r))}if(n===1)throw n=Go,ti(t,0),nr(t,e),Tt(t,Ve()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hr(t,wt,En),Tt(t,Ve()),null}function lp(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(us=Ve()+500,Fu&&Nr())}}function li(t){ir!==null&&ir.tag===0&&!(oe&6)&&Ji();var e=oe;oe|=1;var n=zt.transition,r=le;try{if(zt.transition=null,le=1,t)return t()}finally{le=r,zt.transition=n,oe=e,!(oe&6)&&Nr()}}function up(){It=Bi.current,ge(Bi)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v2(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch($f(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gl();break;case 3:as(),ge(xt),ge(ct),Jf();break;case 5:Xf(r);break;case 4:as();break;case 13:ge(_e);break;case 19:ge(_e);break;case 10:Kf(r.type._context);break;case 22:case 23:up()}n=n.return}if(Ke=t,je=t=fr(t.current,null),Je=It=e,Ue=0,Go=null,op=$u=ai=0,wt=xo=null,Yr!==null){for(e=0;e<Yr.length;e++)if(n=Yr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yr=null}return t}function Ux(t,e){do{var n=je;try{if(qf(),xl.current=ru,nu){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nu=!1}if(oi=0,He=Be=Ee=null,wo=!1,Ho=0,sp.current=null,n===null||n.return===null){Ue=1,Go=e,je=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Je,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Dy(o);if(y!==null){y.flags&=-257,My(y,o,a,s,e),y.mode&1&&Vy(s,c,e),e=y,u=c;var S=e.updateQueue;if(S===null){var A=new Set;A.add(u),e.updateQueue=A}else S.add(u);break e}else{if(!(e&1)){Vy(s,c,e),cp();break e}u=Error(B(426))}}else if(we&&a.mode&1){var R=Dy(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),My(R,o,a,s,e),Wf(ls(u,a));break e}}s=u=ls(u,a),Ue!==4&&(Ue=2),xo===null?xo=[s]:xo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=Sx(s,u,e);Cy(s,_);break e;case 1:a=u;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(hr===null||!hr.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=Ix(s,a,e);Cy(s,N);break e}}s=s.return}while(s!==null)}Wx(n)}catch(M){e=M,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function zx(){var t=iu.current;return iu.current=ru,t===null?ru:t}function cp(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ke===null||!(ai&268435455)&&!($u&268435455)||nr(Ke,Je)}function au(t,e){var n=oe;oe|=2;var r=zx();(Ke!==t||Je!==e)&&(En=null,ti(t,e));do try{$2();break}catch(i){Ux(t,i)}while(!0);if(qf(),oe=n,iu.current=r,je!==null)throw Error(B(261));return Ke=null,Je=0,Ue}function $2(){for(;je!==null;)$x(je)}function W2(){for(;je!==null&&!mA();)$x(je)}function $x(t){var e=qx(t.alternate,t,It);t.memoizedProps=t.pendingProps,e===null?Wx(t):je=e,sp.current=null}function Wx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L2(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,je=null;return}}else if(n=j2(n,e,It),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Ue===0&&(Ue=5)}function Hr(t,e,n){var r=le,i=zt.transition;try{zt.transition=null,le=1,H2(t,e,n,r)}finally{zt.transition=i,le=r}return null}function H2(t,e,n,r){do Ji();while(ir!==null);if(oe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(IA(t,s),t===Ke&&(je=Ke=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nl||(nl=!0,Kx(zl,function(){return Ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zt.transition,zt.transition=null;var o=le;le=1;var a=oe;oe|=4,sp.current=null,F2(t,n),Ox(n,t),h2(cd),Wl=!!ud,cd=ud=null,t.current=n,B2(n),gA(),oe=a,le=o,zt.transition=s}else t.current=n;if(nl&&(nl=!1,ir=t,ou=i),s=t.pendingLanes,s===0&&(hr=null),wA(n.stateNode),Tt(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(su)throw su=!1,t=bd,bd=null,t;return ou&1&&t.tag!==0&&Ji(),s=t.pendingLanes,s&1?t===kd?Eo++:(Eo=0,kd=t):Eo=0,Nr(),null}function Ji(){if(ir!==null){var t=S_(ou),e=zt.transition,n=le;try{if(zt.transition=null,le=16>t?16:t,ir===null)var r=!1;else{if(t=ir,ir=null,ou=0,oe&6)throw Error(B(331));var i=oe;for(oe|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:_o(8,h,s)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var m=h.sibling,y=h.return;if(Mx(h),h===c){H=null;break}if(m!==null){m.return=y,H=m;break}H=y}}}var S=s.alternate;if(S!==null){var A=S.child;if(A!==null){S.child=null;do{var R=A.sibling;A.sibling=null,A=R}while(A!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_o(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,H=_;break e}H=s.return}}var w=t.current;for(H=w;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=w;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zu(9,a)}}catch(M){Pe(a,a.return,M)}if(a===o){H=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,H=N;break e}H=a.return}}if(oe=i,Nr(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Du,t)}catch{}r=!0}return r}finally{le=n,zt.transition=e}}return!1}function Gy(t,e,n){e=ls(n,e),e=Sx(t,e,1),t=cr(t,e,1),e=pt(),t!==null&&(ha(t,1,e),Tt(t,e))}function Pe(t,e,n){if(t.tag===3)Gy(t,t,n);else for(;e!==null;){if(e.tag===3){Gy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){t=ls(n,t),t=Ix(e,t,1),e=cr(e,t,1),t=pt(),e!==null&&(ha(e,1,t),Tt(e,t));break}}e=e.return}}function q2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pt(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(Je&n)===n&&(Ue===4||Ue===3&&(Je&130023424)===Je&&500>Ve()-ap?ti(t,0):op|=n),Tt(t,e)}function Hx(t,e){e===0&&(t.mode&1?(e=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):e=1);var n=pt();t=Vn(t,e),t!==null&&(ha(t,e,n),Tt(t,n))}function K2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hx(t,n)}function G2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Hx(t,n)}var qx;qx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,M2(t,e,n);_t=!!(t.flags&131072)}else _t=!1,we&&e.flags&1048576&&Y_(e,Xl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tl(t,e),t=e.pendingProps;var i=is(e,ct.current);Xi(e,n),i=ep(null,e,r,t,i,n);var s=tp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Et(r)?(s=!0,Ql(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qf(e),i.updater=Uu,e.stateNode=i,i._reactInternals=e,wd(e,r,t,n),e=Ed(null,e,r,!0,s,n)):(e.tag=0,we&&s&&zf(e),ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Y2(r),t=Gt(r,t),i){case 0:e=xd(null,e,r,t,n);break e;case 1:e=Oy(null,e,r,t,n);break e;case 11:e=jy(null,e,r,t,n);break e;case 14:e=Ly(null,e,r,Gt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),xd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),Oy(t,e,r,i,n);case 3:e:{if(Rx(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nx(t,e),eu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ls(Error(B(423)),e),e=Fy(t,e,r,n,i);break e}else if(r!==i){i=ls(Error(B(424)),e),e=Fy(t,e,r,n,i);break e}else for(At=ur(e.stateNode.containerInfo.firstChild),Ct=e,we=!0,Yt=null,n=ex(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),r===i){e=Dn(t,e,n);break e}ft(t,e,r,n)}e=e.child}return e;case 5:return rx(e),t===null&&gd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hd(r,i)?o=null:s!==null&&hd(r,s)&&(e.flags|=32),Px(t,e),ft(t,e,o,n),e.child;case 6:return t===null&&gd(e),null;case 13:return bx(t,e,n);case 4:return Yf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=os(e,null,r,n):ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),jy(t,e,r,i,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,de(Jl,r._currentValue),r._currentValue=o,s!==null)if(en(s.value,o)){if(s.children===i.children&&!xt.current){e=Dn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=An(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),yd(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xi(e,n),i=$t(i),r=r(i),e.flags|=1,ft(t,e,r,n),e.child;case 14:return r=e.type,i=Gt(r,e.pendingProps),i=Gt(r.type,i),Ly(t,e,r,i,n);case 15:return Ax(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gt(r,i),Tl(t,e),e.tag=1,Et(r)?(t=!0,Ql(e)):t=!1,Xi(e,n),Tx(e,r,i),wd(e,r,i,n),Ed(null,e,r,!0,t,n);case 19:return kx(t,e,n);case 22:return Cx(t,e,n)}throw Error(B(156,e.tag))};function Kx(t,e){return __(t,e)}function Q2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new Q2(t,e,n,r)}function hp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y2(t){if(typeof t=="function")return hp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bf)return 11;if(t===kf)return 14}return 2}function fr(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Al(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")hp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bi:return ni(n.children,i,s,e);case Rf:o=8,i|=8;break;case $h:return t=Ut(12,n,e,i|2),t.elementType=$h,t.lanes=s,t;case Wh:return t=Ut(13,n,e,i),t.elementType=Wh,t.lanes=s,t;case Hh:return t=Ut(19,n,e,i),t.elementType=Hh,t.lanes=s,t;case r_:return Wu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t_:o=10;break e;case n_:o=9;break e;case bf:o=11;break e;case kf:o=14;break e;case Zn:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Ut(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ni(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function Wu(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=r_,t.lanes=n,t.stateNode={isHidden:!1},t}function dh(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function fh(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kc(0),this.expirationTimes=Kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dp(t,e,n,r,i,s,o,a,u){return t=new X2(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ut(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qf(s),t}function J2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ri,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Gx(t){if(!t)return _r;t=t._reactInternals;e:{if(pi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Et(n))return G_(t,n,e)}return e}function Qx(t,e,n,r,i,s,o,a,u){return t=dp(n,r,!0,t,i,s,o,a,u),t.context=Gx(null),n=t.current,r=pt(),i=dr(n),s=An(r,i),s.callback=e??null,cr(n,s,i),t.current.lanes=i,ha(t,i,r),Tt(t,r),t}function Hu(t,e,n,r){var i=e.current,s=pt(),o=dr(i);return n=Gx(n),e.context===null?e.context=n:e.pendingContext=n,e=An(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cr(i,e,o),t!==null&&(Zt(t,i,o,s),_l(t,i,o)),o}function lu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fp(t,e){Qy(t,e),(t=t.alternate)&&Qy(t,e)}function Z2(){return null}var Yx=typeof reportError=="function"?reportError:function(t){console.error(t)};function pp(t){this._internalRoot=t}qu.prototype.render=pp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Hu(t,e,null,null)};qu.prototype.unmount=pp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){Hu(null,t,null,null)}),e[Nn]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=C_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tr.length&&e!==0&&e<tr[n].priority;n++);tr.splice(n,0,t),n===0&&R_(t)}};function mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function eC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=lu(o);s.call(c)}}var o=Qx(e,r,t,0,null,!1,!1,"",Yy);return t._reactRootContainer=o,t[Nn]=o.current,Bo(t.nodeType===8?t.parentNode:t),li(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=lu(u);a.call(c)}}var u=dp(t,0,!1,null,null,!1,!1,"",Yy);return t._reactRootContainer=u,t[Nn]=u.current,Bo(t.nodeType===8?t.parentNode:t),li(function(){Hu(e,u,n,r)}),u}function Gu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=lu(o);a.call(u)}}Hu(e,o,t,i)}else o=eC(n,e,t,i,r);return lu(o)}I_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=so(e.pendingLanes);n!==0&&(Df(e,n|1),Tt(e,Ve()),!(oe&6)&&(us=Ve()+500,Nr()))}break;case 13:li(function(){var r=Vn(t,1);if(r!==null){var i=pt();Zt(r,t,1,i)}}),fp(t,1)}};Mf=function(t){if(t.tag===13){var e=Vn(t,134217728);if(e!==null){var n=pt();Zt(e,t,134217728,n)}fp(t,134217728)}};A_=function(t){if(t.tag===13){var e=dr(t),n=Vn(t,e);if(n!==null){var r=pt();Zt(n,t,e,r)}fp(t,e)}};C_=function(){return le};P_=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};td=function(t,e,n){switch(e){case"input":if(Gh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ou(r);if(!i)throw Error(B(90));s_(r),Gh(r,i)}}}break;case"textarea":a_(t,n);break;case"select":e=n.value,e!=null&&Ki(t,!!n.multiple,e,!1)}};p_=lp;m_=li;var tC={usingClientEntryPoint:!1,Events:[fa,Di,Ou,d_,f_,lp]},eo={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nC={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=v_(t),t===null?null:t.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||Z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Du=rl.inject(nC),dn=rl}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;Nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mp(e))throw Error(B(200));return J2(t,e,null,n)};Nt.createRoot=function(t,e){if(!mp(t))throw Error(B(299));var n=!1,r="",i=Yx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dp(t,1,!1,null,null,n,!1,r,i),t[Nn]=e.current,Bo(t.nodeType===8?t.parentNode:t),new pp(e)};Nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=v_(e),t=t===null?null:t.stateNode,t};Nt.flushSync=function(t){return li(t)};Nt.hydrate=function(t,e,n){if(!Ku(e))throw Error(B(200));return Gu(null,t,e,!0,n)};Nt.hydrateRoot=function(t,e,n){if(!mp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Yx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Qx(e,null,t,1,n??null,i,!1,s,o),t[Nn]=e.current,Bo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qu(e)};Nt.render=function(t,e,n){if(!Ku(e))throw Error(B(200));return Gu(null,t,e,!1,n)};Nt.unmountComponentAtNode=function(t){if(!Ku(t))throw Error(B(40));return t._reactRootContainer?(li(function(){Gu(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};Nt.unstable_batchedUpdates=lp;Nt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ku(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Gu(t,e,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function Xx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xx)}catch(t){console.error(t)}}Xx(),Xw.exports=Nt;var rC=Xw.exports,Xy=rC;Uh.createRoot=Xy.createRoot,Uh.hydrateRoot=Xy.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jy="popstate";function iC(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Dd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qo(i)}return oC(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sC(){return Math.random().toString(36).substring(2,10)}function Zy(t,e){return{usr:t.state,key:t.key,idx:e}}function Dd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Es(e):e,state:n,key:e&&e.key||r||sC()}}function Qo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Es(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oC(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let R=h(),_=R==null?null:R-c;c=R,u&&u({action:a,location:A.location,delta:_})}function m(R,_){a="PUSH";let w=Dd(A.location,R,_);c=h()+1;let E=Zy(w,c),N=A.createHref(w);try{o.pushState(E,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}s&&u&&u({action:a,location:A.location,delta:1})}function y(R,_){a="REPLACE";let w=Dd(A.location,R,_);c=h();let E=Zy(w,c),N=A.createHref(w);o.replaceState(E,"",N),s&&u&&u({action:a,location:A.location,delta:0})}function S(R){return aC(R)}let A={get action(){return a},get location(){return t(i,o)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Jy,f),u=R,()=>{i.removeEventListener(Jy,f),u=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let _=S(R);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:y,go(R){return o.go(R)}};return A}function aC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Te(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Qo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Jx(t,e,n="/"){return lC(t,e,n,!1)}function lC(t,e,n,r){let i=typeof e=="string"?Es(e):e,s=Mn(i.pathname||"/",n);if(s==null)return null;let o=Zx(t);uC(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=_C(s);a=vC(o[u],c,r)}return a}function Zx(t,e=[],n=[],r="",i=!1){let s=(o,a,u=i,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;Te(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=Cn([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(Te(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Zx(o.children,e,m,f,u)),!(o.path==null&&!o.index)&&e.push({path:f,score:gC(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of e1(o.path))s(o,a,!0,c)}),e}function e1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=e1(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function uC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cC=/^:[\w-]+$/,hC=3,dC=2,fC=1,pC=10,mC=-2,ev=t=>t==="*";function gC(t,e){let n=t.split("/"),r=n.length;return n.some(ev)&&(r+=mC),e&&(r+=dC),n.filter(i=>!ev(i)).reduce((i,s)=>i+(cC.test(s)?hC:s===""?fC:pC),r)}function yC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vC(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Cn([s,f.pathname]),pathnameBase:IC(Cn([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Cn([s,f.pathnameBase]))}return o}function uu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},m)=>{if(h==="*"){let S=a[m]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=a[m];return f&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function wC(t,e=!1,n=!0){tn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var xC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EC=t=>xC.test(t);function TC(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Es(t):t,s;if(n)if(EC(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=tv(n.substring(1),"/"):s=tv(n,e)}else s=e;return{pathname:s,search:AC(r),hash:CC(i)}}function tv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ph(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t1(t){let e=SC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function n1(t,e,n,r=!1){let i;typeof t=="string"?i=Es(t):(i={...t},Te(!i.pathname||!i.pathname.includes("?"),ph("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),ph("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),ph("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=TC(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var Cn=t=>t.join("/").replace(/\/\/+/g,"/"),IC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function RC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var r1=["POST","PUT","PATCH","DELETE"];new Set(r1);var bC=["GET",...r1];new Set(bC);var Ts=k.createContext(null);Ts.displayName="DataRouter";var Qu=k.createContext(null);Qu.displayName="DataRouterState";k.createContext(!1);var i1=k.createContext({isTransitioning:!1});i1.displayName="ViewTransition";var kC=k.createContext(new Map);kC.displayName="Fetchers";var NC=k.createContext(null);NC.displayName="Await";var rn=k.createContext(null);rn.displayName="Navigation";var ma=k.createContext(null);ma.displayName="Location";var $n=k.createContext({outlet:null,matches:[],isDataRoute:!1});$n.displayName="Route";var gp=k.createContext(null);gp.displayName="RouteError";function VC(t,{relative:e}={}){Te(ga(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(rn),{hash:i,pathname:s,search:o}=ya(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Cn([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ga(){return k.useContext(ma)!=null}function Vr(){return Te(ga(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ma).location}var s1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o1(t){k.useContext(rn).static||k.useLayoutEffect(t)}function DC(){let{isDataRoute:t}=k.useContext($n);return t?KC():MC()}function MC(){Te(ga(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ts),{basename:e,navigator:n}=k.useContext(rn),{matches:r}=k.useContext($n),{pathname:i}=Vr(),s=JSON.stringify(t1(r)),o=k.useRef(!1);return o1(()=>{o.current=!0}),k.useCallback((u,c={})=>{if(tn(o.current,s1),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=n1(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Cn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}k.createContext(null);function ya(t,{relative:e}={}){let{matches:n}=k.useContext($n),{pathname:r}=Vr(),i=JSON.stringify(t1(n));return k.useMemo(()=>n1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function jC(t,e){return a1(t,e)}function a1(t,e,n,r,i){var w;Te(ga(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(rn),{matches:o}=k.useContext($n),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let E=f&&f.path||"";l1(c,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=Vr(),y;if(e){let E=typeof e=="string"?Es(e):e;Te(h==="/"||((w=E.pathname)==null?void 0:w.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=m;let S=y.pathname||"/",A=S;if(h!=="/"){let E=h.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=Jx(t,{pathname:A});tn(f||R!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),tn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=UC(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Cn([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Cn([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,i);return e&&_?k.createElement(ma.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function LC(){let t=qC(),e=PC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,o)}var OC=k.createElement(LC,null),FC=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement($n.Provider,{value:this.props.routeContext},k.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BC({routeContext:t,match:e,children:n}){let r=k.useContext(Ts);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement($n.Provider,{value:t},n)}function UC(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let h=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Te(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,u=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:y}=n,S=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||S){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&r?(h,f)=>{var m,y;r(h,{location:n.location,params:((y=(m=n.matches)==null?void 0:m[0])==null?void 0:y.params)??{},unstable_pattern:RC(n.matches),errorInfo:f})}:void 0;return s.reduceRight((h,f,m)=>{let y,S=!1,A=null,R=null;n&&(y=o&&f.route.id?o[f.route.id]:void 0,A=f.route.errorElement||OC,a&&(u<0&&m===0?(l1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):u===m&&(S=!0,R=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,m+1)),w=()=>{let E;return y?E=A:S?E=R:f.route.Component?E=k.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,k.createElement(BC,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?k.createElement(FC,{location:n.location,revalidation:n.revalidation,component:A,error:y,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:c}):w()},null)}function yp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zC(t){let e=k.useContext(Ts);return Te(e,yp(t)),e}function $C(t){let e=k.useContext(Qu);return Te(e,yp(t)),e}function WC(t){let e=k.useContext($n);return Te(e,yp(t)),e}function vp(t){let e=WC(t),n=e.matches[e.matches.length-1];return Te(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HC(){return vp("useRouteId")}function qC(){var r;let t=k.useContext(gp),e=$C("useRouteError"),n=vp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function KC(){let{router:t}=zC("useNavigate"),e=vp("useNavigate"),n=k.useRef(!1);return o1(()=>{n.current=!0}),k.useCallback(async(i,s={})=>{tn(n.current,s1),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var nv={};function l1(t,e,n){!e&&!nv[t]&&(nv[t]=!0,tn(!1,n))}k.memo(GC);function GC({routes:t,future:e,state:n,unstable_onError:r}){return a1(t,void 0,n,r,e)}function Cl(t){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Te(!ga(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=Es(n));let{pathname:c="/",search:h="",hash:f="",state:m=null,key:y="default"}=n,S=k.useMemo(()=>{let A=Mn(c,a);return A==null?null:{location:{pathname:A,search:h,hash:f,state:m,key:y},navigationType:r}},[a,c,h,f,m,y,r]);return tn(S!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(rn.Provider,{value:u},k.createElement(ma.Provider,{children:e,value:S}))}function YC({children:t,location:e}){return jC(Md(t),e)}function Md(t,e=[]){let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,Md(r.props.children,s));return}Te(r.type===Cl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Md(r.props.children,s)),n.push(o)}),n}var Pl="get",Rl="application/x-www-form-urlencoded";function Yu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function XC(t){return Yu(t)&&t.tagName.toLowerCase()==="button"}function JC(t){return Yu(t)&&t.tagName.toLowerCase()==="form"}function ZC(t){return Yu(t)&&t.tagName.toLowerCase()==="input"}function eP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tP(t,e){return t.button===0&&(!e||e==="_self")&&!eP(t)}var il=null;function nP(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var rP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mh(t){return t!=null&&!rP.has(t)?(tn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rl}"`),null):t}function iP(t,e){let n,r,i,s,o;if(JC(t)){let a=t.getAttribute("action");r=a?Mn(a,e):null,n=t.getAttribute("method")||Pl,i=mh(t.getAttribute("enctype"))||Rl,s=new FormData(t)}else if(XC(t)||ZC(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?Mn(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Pl,i=mh(t.getAttribute("formenctype"))||mh(a.getAttribute("enctype"))||Rl,s=new FormData(a,t),!nP()){let{name:c,type:h,value:f}=t;if(h==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,f)}}else{if(Yu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pl,r=null,i=Rl,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Mn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lP(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await oP(s,n);return o.links?o.links():[]}return[]}));return dP(r.flat(1).filter(aP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rv(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?e.filter((u,c)=>{var f;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function uP(t,e,{includeHydrateFallback:n}={}){return cP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function cP(t){return[...new Set(t)]}function hP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(hP(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function u1(){let t=k.useContext(Ts);return wp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fP(){let t=k.useContext(Qu);return wp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _p=k.createContext(void 0);_p.displayName="FrameworkContext";function c1(){let t=k.useContext(_p);return wp(t,"You must render this element inside a <HydratedRouter> element"),t}function pP(t,e){let n=k.useContext(_p),[r,i]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,m=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let A=_=>{_.forEach(w=>{o(w.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[t]),k.useEffect(()=>{if(r){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[r]);let y=()=>{i(!0)},S=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:to(a,y),onBlur:to(u,S),onMouseEnter:to(c,y),onMouseLeave:to(h,S),onTouchStart:to(f,y)}]:[!1,m,{}]}function to(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mP({page:t,...e}){let{router:n}=u1(),r=k.useMemo(()=>Jx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(yP,{page:t,matches:r,...e}):null}function gP(t){let{manifest:e,routeModules:n}=c1(),[r,i]=k.useState([]);return k.useEffect(()=>{let s=!1;return lP(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function yP({page:t,matches:e,...n}){let r=Vr(),{manifest:i,routeModules:s}=c1(),{basename:o}=u1(),{loaderData:a,matches:u}=fP(),c=k.useMemo(()=>rv(t,e,u,i,r,"data"),[t,e,u,i,r]),h=k.useMemo(()=>rv(t,e,u,i,r,"assets"),[t,e,u,i,r]),f=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(_=>{var E;let w=i.routes[_.route.id];!w||!w.hasLoader||(!c.some(N=>N.route.id===_.route.id)&&_.route.id in a&&((E=s[_.route.id])!=null&&E.shouldRevalidate)||w.hasClientLoader?A=!0:S.add(_.route.id))}),S.size===0)return[];let R=sP(t,o,"data");return A&&S.size>0&&R.searchParams.set("_routes",e.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[R.pathname+R.search]},[o,a,r,i,c,e,t,s]),m=k.useMemo(()=>uP(h,i),[h,i]),y=gP(h);return k.createElement(k.Fragment,null,f.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),m.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:A})=>k.createElement("link",{key:S,nonce:n.nonce,...A})))}function vP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h1&&(window.__reactRouterVersion="7.10.1")}catch{}function wP({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=k.useRef();i.current==null&&(i.current=iC({window:r,v5Compat:!0}));let s=i.current,[o,a]=k.useState({action:s.action,location:s.location}),u=k.useCallback(c=>{n===!1?a(c):k.startTransition(()=>a(c))},[n]);return k.useLayoutEffect(()=>s.listen(u),[s,u]),k.createElement(QC,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n===!0})}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ui=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f,...m},y){let{basename:S,unstable_useTransitions:A}=k.useContext(rn),R=typeof c=="string"&&d1.test(c),_,w=!1;if(typeof c=="string"&&R&&(_=c,h1))try{let C=new URL(window.location.href),b=c.startsWith("//")?new URL(C.protocol+c):new URL(c),V=Mn(b.pathname,S);b.origin===C.origin&&V!=null?c=V+b.search+b.hash:w=!0}catch{tn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=VC(c,{relative:i}),[N,M,L]=pP(r,m),T=TP(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:f,unstable_useTransitions:A});function v(C){e&&e(C),C.defaultPrevented||T(C)}let I=k.createElement("a",{...m,...L,href:_||E,onClick:w||s?e:v,ref:vP(y,M),target:u,"data-discover":!R&&n==="render"?"true":void 0});return N&&!R?k.createElement(k.Fragment,null,I,k.createElement(mP,{page:E})):I});Ui.displayName="Link";var _P=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},h){let f=ya(o,{relative:c.relative}),m=Vr(),y=k.useContext(Qu),{navigator:S,basename:A}=k.useContext(rn),R=y!=null&&PP(f)&&a===!0,_=S.encodeLocation?S.encodeLocation(f).pathname:f.pathname,w=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&A&&(E=Mn(E,A)||E);const N=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=w===_||!i&&w.startsWith(_)&&w.charAt(N)==="/",L=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),T={isActive:M,isPending:L,isTransitioning:R},v=M?e:void 0,I;typeof r=="function"?I=r(T):I=[r,M?"active":null,L?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(T):s;return k.createElement(Ui,{...c,"aria-current":v,className:I,ref:h,style:C,to:o,viewTransition:a},typeof u=="function"?u(T):u)});_P.displayName="NavLink";var xP=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Pl,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:f,...m},y)=>{let{unstable_useTransitions:S}=k.useContext(rn),A=AP(),R=CP(a,{relative:c}),_=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&d1.test(a),E=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let M=N.nativeEvent.submitter,L=(M==null?void 0:M.getAttribute("formmethod"))||o,T=()=>A(M||N.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f});S&&n!==!1?k.startTransition(()=>T()):T()};return k.createElement("form",{ref:y,method:_,action:R,onSubmit:r?u:E,...m,"data-discover":!w&&t==="render"?"true":void 0})});xP.displayName="Form";function EP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f1(t){let e=k.useContext(Ts);return Te(e,EP(t)),e}function TP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:a}={}){let u=DC(),c=Vr(),h=ya(t,{relative:s});return k.useCallback(f=>{if(tP(f,e)){f.preventDefault();let m=n!==void 0?n:Qo(c)===Qo(h),y=()=>u(t,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o});a?k.startTransition(()=>y()):y()}},[c,u,h,n,r,e,t,i,s,o,a])}var SP=0,IP=()=>`__${String(++SP)}__`;function AP(){let{router:t}=f1("useSubmit"),{basename:e}=k.useContext(rn),n=HC(),r=t.fetch,i=t.navigate;return k.useCallback(async(s,o={})=>{let{action:a,method:u,encType:c,formData:h,body:f}=iP(s,e);if(o.navigate===!1){let m=o.fetcherKey||IP();await r(m,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function CP(t,{relative:e}={}){let{basename:n}=k.useContext(rn),r=k.useContext($n);Te(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ya(t||".",{relative:e})},o=Vr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cn([n,s.pathname])),Qo(s)}function PP(t,{relative:e}={}){let n=k.useContext(i1);Te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=f1("useViewTransitionState"),i=ya(t,{relative:e});if(!n.isTransitioning)return!1;let s=Mn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Mn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uu(i.pathname,o)!=null||uu(i.pathname,s)!=null}const RP=({onJoinWaitlist:t,themeMode:e})=>{const[n,r]=k.useState(!1),i=Vr();k.useEffect(()=>{const u=()=>{r(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const s=i.pathname==="/",o=i.pathname==="/about",a=i.pathname==="/roadmap";return p.jsx("nav",{className:`fixed w-full z-40 transition-all duration-500 ${n?"bg-white/70 backdrop-blur-xl shadow-sm border-b border-white/20 py-4":"bg-transparent py-6"}`,children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:p.jsx(Ui,{to:"/",className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-700",children:"Woffy.ai"})}),p.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[p.jsx(Ui,{to:"/",className:`text-sm font-medium hover:text-brand-indigo transition-colors ${s?"text-brand-indigo":"text-slate-600"}`,children:"Home"}),p.jsx(Ui,{to:"/about",className:`text-sm font-medium hover:text-brand-indigo transition-colors ${o?"text-brand-indigo":"text-slate-600"}`,children:"About"}),p.jsx(Ui,{to:"/roadmap",className:`text-sm font-medium hover:text-brand-indigo transition-colors ${a?"text-brand-indigo":"text-slate-600"}`,children:"Roadmap"})]}),p.jsx("div",{className:"flex items-center gap-4",children:p.jsx("button",{onClick:t,className:"px-5 py-2 rounded-full bg-slate-900 text-white text-sm font-bold hover:bg-slate-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Join Waitlist"})})]})})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>k.createElement("svg",{ref:h,...bP,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${kP(t)}`,a].join(" "),...c},[...e.map(([f,m])=>k.createElement(f,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=ce("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=ce("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ce("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=ce("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=ce("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=ce("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),rR=()=>p.jsx("footer",{className:"bg-brand-dark text-slate-400 py-12 md:py-16 border-t border-slate-800",children:p.jsxs("div",{className:"container mx-auto px-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-white mb-6",children:"Woffy.ai"}),p.jsx("p",{className:"mb-6 leading-relaxed",children:"Your AI pet companion that brings joy, comfort, and unconditional support to your digital life."}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("a",{href:"#",className:"hover:text-brand-rose transition-colors",children:p.jsx(ZP,{className:"w-5 h-5"})}),p.jsx("a",{href:"#",className:"hover:text-brand-rose transition-colors",children:p.jsx(WP,{className:"w-5 h-5"})}),p.jsx("a",{href:"#",className:"hover:text-brand-rose transition-colors",children:p.jsx(UP,{className:"w-5 h-5"})}),p.jsx("a",{href:"#",className:"hover:text-brand-rose transition-colors",children:p.jsx(qP,{className:"w-5 h-5"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white font-bold mb-6",children:"Company"}),p.jsxs("ul",{className:"space-y-4",children:[p.jsx("li",{children:p.jsx("a",{href:"#about",className:"hover:text-brand-rose transition-colors",children:"About Us"})}),p.jsx("li",{children:p.jsx("a",{href:"#features",className:"hover:text-brand-rose transition-colors",children:"Features"})}),p.jsx("li",{children:p.jsx("a",{href:"#roadmap",className:"hover:text-brand-rose transition-colors",children:"Roadmap"})}),p.jsx("li",{children:p.jsx("a",{href:"#investors",className:"hover:text-brand-rose transition-colors",children:"For Investors"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white font-bold mb-6",children:"Resources"}),p.jsxs("ul",{className:"space-y-4",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-brand-rose transition-colors",children:"Documentation"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-brand-rose transition-colors",children:"Press Kit"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-brand-rose transition-colors",children:"Support Center"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white font-bold mb-6",children:"Contact"}),p.jsxs("ul",{className:"space-y-4",children:[p.jsx("li",{children:"hello@woffy.ai"}),p.jsx("li",{children:"Coimbatore, Tamil Nadu"})]})]})]}),p.jsxs("div",{className:"border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm",children:[p.jsx("div",{className:"mb-4 md:mb-0",children:" 2025 Woffy.ai. All rights reserved."}),p.jsxs("div",{className:"flex space-x-8",children:[p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookie Policy"})]})]}),p.jsx("div",{className:"mt-12 text-center border-t border-slate-800 pt-8",children:p.jsxs("p",{className:"text-sm flex items-center justify-center gap-1 text-slate-500",children:["Made with ",p.jsx("span",{className:"text-brand-rose animate-pulse",children:""})," by",p.jsx("span",{className:"font-bold text-slate-300 ml-1 tracking-tight",children:"onwords"})]})})]})}),xp=k.createContext({});function Ep(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ju=k.createContext(null),Tp=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class iR extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sR({children:t,isPresent:e}){const n=k.useId(),r=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=k.useContext(Tp);return k.useInsertionEffect(()=>{const{width:o,height:a,top:u,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${u}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),p.jsx(iR,{isPresent:e,childRef:r,sizeRef:i,children:k.cloneElement(t,{ref:r})})}const oR=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Ep(aR),u=k.useId(),c=k.useCallback(f=>{a.set(f,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),h=k.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),c]:[n,c]);return k.useMemo(()=>{a.forEach((f,m)=>a.set(m,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(sR,{isPresent:n,children:t})),p.jsx(Ju.Provider,{value:h,children:t})};function aR(){return new Map}function m1(t=!0){const e=k.useContext(Ju);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=k.useId();k.useEffect(()=>{t&&i(s)},[t]);const o=k.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const sl=t=>t.key||"";function iv(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Sp=typeof window<"u",g1=Sp?k.useLayoutEffect:k.useEffect,y1=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,u]=m1(o),c=k.useMemo(()=>iv(t),[t]),h=o&&!a?[]:c.map(sl),f=k.useRef(!0),m=k.useRef(c),y=Ep(()=>new Map),[S,A]=k.useState(c),[R,_]=k.useState(c);g1(()=>{f.current=!1,m.current=c;for(let N=0;N<R.length;N++){const M=sl(R[N]);h.includes(M)?y.delete(M):y.get(M)!==!0&&y.set(M,!1)}},[R,h.length,h.join("-")]);const w=[];if(c!==S){let N=[...c];for(let M=0;M<R.length;M++){const L=R[M],T=sl(L);h.includes(T)||(N.splice(M,0,L),w.push(L))}s==="wait"&&w.length&&(N=w),_(iv(N)),A(c);return}const{forceRender:E}=k.useContext(xp);return p.jsx(p.Fragment,{children:R.map(N=>{const M=sl(N),L=o&&!a?!1:c===R||h.includes(M),T=()=>{if(y.has(M))y.set(M,!0);else return;let v=!0;y.forEach(I=>{I||(v=!1)}),v&&(E==null||E(),_(m.current),o&&(u==null||u()),r&&r())};return p.jsx(oR,{isPresent:L,initial:!f.current||n?void 0:!1,custom:L?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:L?void 0:T,children:N},M)})})},Pt=t=>t;let v1=Pt;function Ip(t){let e;return()=>(e===void 0&&(e=t()),e)}const cs=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Pn=t=>t*1e3,Rn=t=>t/1e3,lR={useManualTiming:!1};function uR(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,h=!1,f=!1)=>{const y=f&&r?e:n;return h&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,u.process(c))}};return u}const ol=["read","resolveKeyframes","update","preRender","render","postRender"],cR=40;function w1(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ol.reduce((_,w)=>(_[w]=uR(s),_),{}),{read:a,resolveKeyframes:u,update:c,preRender:h,render:f,postRender:m}=o,y=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,cR),1),i.timestamp=_,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),h.process(i),f.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},S=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:ol.reduce((_,w)=>{const E=o[w];return _[w]=(N,M=!1,L=!1)=>(n||S(),E.schedule(N,M,L)),_},{}),cancel:_=>{for(let w=0;w<ol.length;w++)o[ol[w]].cancel(_)},state:i,steps:o}}const{schedule:ye,cancel:xr,state:Qe,steps:gh}=w1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pt,!0),_1=k.createContext({strict:!1}),sv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hs={};for(const t in sv)hs[t]={isEnabled:e=>sv[t].some(n=>!!e[n])};function hR(t){for(const e in t)hs[e]={...hs[e],...t[e]}}const dR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||dR.has(t)}let x1=t=>!cu(t);function fR(t){t&&(x1=e=>e.startsWith("on")?!cu(e):t(e))}try{fR(require("@emotion/is-prop-valid").default)}catch{}function pR(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(x1(i)||n===!0&&cu(i)||!e&&!cu(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function mR(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Zu=k.createContext({});function Yo(t){return typeof t=="string"||Array.isArray(t)}function ec(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ap=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cp=["initial",...Ap];function tc(t){return ec(t.animate)||Cp.some(e=>Yo(t[e]))}function E1(t){return!!(tc(t)||t.variants)}function gR(t,e){if(tc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yo(n)?n:void 0,animate:Yo(r)?r:void 0}}return t.inherit!==!1?e:{}}function yR(t){const{initial:e,animate:n}=gR(t,k.useContext(Zu));return k.useMemo(()=>({initial:e,animate:n}),[ov(e),ov(n)])}function ov(t){return Array.isArray(t)?t.join(" "):t}const vR=Symbol.for("motionComponentSymbol");function zi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wR(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zi(n)&&(n.current=r))},[e])}const Pp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_R="framerAppearId",T1="data-"+Pp(_R),{schedule:Rp}=w1(queueMicrotask,!1),S1=k.createContext({});function xR(t,e,n,r,i){var s,o;const{visualElement:a}=k.useContext(Zu),u=k.useContext(_1),c=k.useContext(Ju),h=k.useContext(Tp).reducedMotion,f=k.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,y=k.useContext(S1);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&ER(f.current,n,i,y);const S=k.useRef(!1);k.useInsertionEffect(()=>{m&&S.current&&m.update(n,c)});const A=n[T1],R=k.useRef(!!A&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,A))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,A)));return g1(()=>{m&&(S.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Rp.render(m.render),R.current&&m.animationState&&m.animationState.animateChanges())}),k.useEffect(()=>{m&&(!R.current&&m.animationState&&m.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,A)}),R.current=!1))}),m}function ER(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:I1(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&zi(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}function I1(t){if(t)return t.options.allowProjection!==!1?t.projection:I1(t.parent)}function TR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&hR(t);function a(c,h){let f;const m={...k.useContext(Tp),...c,layoutId:SR(c)},{isStatic:y}=m,S=yR(c),A=r(c,y);if(!y&&Sp){IR();const R=AR(m);f=R.MeasureLayout,S.visualElement=xR(i,A,m,e,R.ProjectionNode)}return p.jsxs(Zu.Provider,{value:S,children:[f&&S.visualElement?p.jsx(f,{visualElement:S.visualElement,...m}):null,n(i,c,wR(A,S.visualElement,h),A,y,S.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const u=k.forwardRef(a);return u[vR]=i,u}function SR({layoutId:t}){const e=k.useContext(xp).id;return e&&t!==void 0?e+"-"+t:t}function IR(t,e){k.useContext(_1).strict}function AR(t){const{drag:e,layout:n}=hs;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const CR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bp(t){return typeof t!="string"||t.includes("-")?!1:!!(CR.indexOf(t)>-1||/[A-Z]/u.test(t))}function av(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function kp(t,e,n,r){if(typeof e=="function"){const[i,s]=av(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=av(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const jd=t=>Array.isArray(t),PR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),RR=t=>jd(t)?t[t.length-1]||0:t,ut=t=>!!(t&&t.getVelocity);function bl(t){const e=ut(t)?t.get():t;return PR(e)?e.toValue():e}function bR({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:kR(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const A1=t=>(e,n)=>{const r=k.useContext(Zu),i=k.useContext(Ju),s=()=>bR(t,e,r,i);return n?s():Ep(s)};function kR(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=bl(s[m]);let{initial:o,animate:a}=t;const u=tc(t),c=E1(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!ec(f)){const m=Array.isArray(f)?f:[f];for(let y=0;y<m.length;y++){const S=kp(t,m[y]);if(S){const{transitionEnd:A,transition:R,..._}=S;for(const w in _){let E=_[w];if(Array.isArray(E)){const N=h?E.length-1:0;E=E[N]}E!==null&&(i[w]=E)}for(const w in A)i[w]=A[w]}}}return i}const Ss=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mi=new Set(Ss),C1=t=>e=>typeof e=="string"&&e.startsWith(t),P1=C1("--"),NR=C1("var(--"),Np=t=>NR(t)?VR.test(t.split("/*")[0].trim()):!1,VR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,R1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,jn=(t,e,n)=>n>e?e:n<t?t:n,Is={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xo={...Is,transform:t=>jn(0,1,t)},al={...Is,default:1},va=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jn=va("deg"),pn=va("%"),G=va("px"),DR=va("vh"),MR=va("vw"),lv={...pn,parse:t=>pn.parse(t)/100,transform:t=>pn.transform(t*100)},jR={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G},LR={rotate:Jn,rotateX:Jn,rotateY:Jn,rotateZ:Jn,scale:al,scaleX:al,scaleY:al,scaleZ:al,skew:Jn,skewX:Jn,skewY:Jn,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Xo,originX:lv,originY:lv,originZ:G},uv={...Is,transform:Math.round},Vp={...jR,...LR,zIndex:uv,size:G,fillOpacity:Xo,strokeOpacity:Xo,numOctaves:uv},OR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FR=Ss.length;function BR(t,e,n){let r="",i=!0;for(let s=0;s<FR;s++){const o=Ss[s],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const c=R1(a,Vp[o]);if(!u){i=!1;const h=OR[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Dp(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const u in e){const c=e[u];if(mi.has(u)){o=!0;continue}else if(P1(u)){i[u]=c;continue}else{const h=R1(c,Vp[u]);u.startsWith("origin")?(a=!0,s[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=BR(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${c} ${h}`}}const UR={offset:"stroke-dashoffset",array:"stroke-dasharray"},zR={offset:"strokeDashoffset",array:"strokeDasharray"};function $R(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?UR:zR;t[s.offset]=G.transform(-r);const o=G.transform(e),a=G.transform(n);t[s.array]=`${o} ${a}`}function cv(t,e,n){return typeof t=="string"?t:G.transform(e+n*t)}function WR(t,e,n){const r=cv(e,t.x,t.width),i=cv(n,t.y,t.height);return`${r} ${i}`}function Mp(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,f){if(Dp(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:S}=t;m.transform&&(S&&(y.transform=m.transform),delete m.transform),S&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=WR(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&$R(m,o,a,u,!1)}const jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),b1=()=>({...jp(),attrs:{}}),Lp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k1(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const N1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V1(t,e,n,r){k1(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(N1.has(i)?i:Pp(i),e.attrs[i])}const hu={};function HR(t){Object.assign(hu,t)}function D1(t,{layout:e,layoutId:n}){return mi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hu[t]||t==="opacity")}function Op(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(ut(i[o])||e.style&&ut(e.style[o])||D1(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function M1(t,e,n){const r=Op(t,e,n);for(const i in t)if(ut(t[i])||ut(e[i])){const s=Ss.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function qR(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hv=["x","y","width","height","cx","cy","r"],KR={useVisualState:A1({scrapeMotionValuesFromProps:M1,createRenderState:b1,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(mi.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<hv.length;a++){const u=hv[a];t[u]!==e[u]&&(o=!0)}o&&ye.read(()=>{qR(n,r),ye.render(()=>{Mp(r,i,Lp(n.tagName),t.transformTemplate),V1(n,r)})})}})},GR={useVisualState:A1({scrapeMotionValuesFromProps:Op,createRenderState:jp})};function j1(t,e,n){for(const r in e)!ut(e[r])&&!D1(r,n)&&(t[r]=e[r])}function QR({transformTemplate:t},e){return k.useMemo(()=>{const n=jp();return Dp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function YR(t,e){const n=t.style||{},r={};return j1(r,n,t),Object.assign(r,QR(t,e)),r}function XR(t,e){const n={},r=YR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function JR(t,e,n,r){const i=k.useMemo(()=>{const s=b1();return Mp(s,e,Lp(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};j1(s,t.style,t),i.style={...s,...i.style}}return i}function ZR(t=!1){return(n,r,i,{latestValues:s},o)=>{const u=(bp(n)?JR:XR)(r,s,o,n),c=pR(r,typeof n=="string",t),h=n!==k.Fragment?{...c,...u,ref:i}:{},{children:f}=r,m=k.useMemo(()=>ut(f)?f.get():f,[f]);return k.createElement(n,{...h,children:m})}}function eb(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...bp(r)?KR:GR,preloadedFeatures:t,useRender:ZR(i),createVisualElement:e,Component:r};return TR(o)}}function L1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function nc(t,e,n){const r=t.getProps();return kp(r,e,n!==void 0?n:r.custom,t)}const tb=Ip(()=>window.ScrollTimeline!==void 0);class nb{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(tb()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class rb extends nb{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Fp(t,e){return t?t[e]||t.default||t:void 0}const Ld=2e4;function O1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ld;)e+=n,r=t.next(e);return e>=Ld?1/0:e}function Bp(t){return typeof t=="function"}function dv(t,e){t.timeline=e,t.onfinish=null}const Up=t=>Array.isArray(t)&&typeof t[0]=="number",ib={linearEasing:void 0};function sb(t,e){const n=Ip(t);return()=>{var r;return(r=ib[e])!==null&&r!==void 0?r:n()}}const du=sb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),F1=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(cs(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function B1(t){return!!(typeof t=="function"&&du()||!t||typeof t=="string"&&(t in Od||du())||Up(t)||Array.isArray(t)&&t.every(B1))}const ao=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Od={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ao([0,.65,.55,1]),circOut:ao([.55,0,1,.45]),backIn:ao([.31,.01,.66,-.59]),backOut:ao([.33,1.53,.69,.99])};function U1(t,e){if(t)return typeof t=="function"&&du()?F1(t,e):Up(t)?ao(t):Array.isArray(t)?t.map(n=>U1(n,e)||Od.easeOut):Od[t]}const Kt={x:!1,y:!1};function z1(){return Kt.x||Kt.y}function ob(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function $1(t,e){const n=ob(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function fv(t){return e=>{e.pointerType==="touch"||z1()||t(e)}}function ab(t,e,n={}){const[r,i,s]=$1(t,n),o=fv(a=>{const{target:u}=a,c=e(a);if(typeof c!="function"||!u)return;const h=fv(f=>{c(f),u.removeEventListener("pointerleave",h)});u.addEventListener("pointerleave",h,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const W1=(t,e)=>e?t===e?!0:W1(t,e.parentElement):!1,zp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ub(t){return lb.has(t.tagName)||t.tabIndex!==-1}const lo=new WeakSet;function pv(t){return e=>{e.key==="Enter"&&t(e)}}function yh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cb=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pv(()=>{if(lo.has(n))return;yh(n,"down");const i=pv(()=>{yh(n,"up")}),s=()=>yh(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function mv(t){return zp(t)&&!z1()}function hb(t,e,n={}){const[r,i,s]=$1(t,n),o=a=>{const u=a.currentTarget;if(!mv(a)||lo.has(u))return;lo.add(u);const c=e(a),h=(y,S)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!mv(y)||!lo.has(u))&&(lo.delete(u),typeof c=="function"&&c(y,{success:S}))},f=y=>{h(y,n.useGlobalTarget||W1(u,y.target))},m=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{!ub(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>cb(c,i),i)}),s}function db(t){return t==="x"||t==="y"?Kt[t]?null:(Kt[t]=!0,()=>{Kt[t]=!1}):Kt.x||Kt.y?null:(Kt.x=Kt.y=!0,()=>{Kt.x=Kt.y=!1})}const H1=new Set(["width","height","top","left","right","bottom",...Ss]);let kl;function fb(){kl=void 0}const mn={now:()=>(kl===void 0&&mn.set(Qe.isProcessing||lR.useManualTiming?Qe.timestamp:performance.now()),kl),set:t=>{kl=t,queueMicrotask(fb)}};function $p(t,e){t.indexOf(e)===-1&&t.push(e)}function Wp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Hp{constructor(){this.subscriptions=[]}add(e){return $p(this.subscriptions,e),()=>Wp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function q1(t,e){return e?t*(1e3/e):0}const gv=30,pb=t=>!isNaN(parseFloat(t));class mb{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=mn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pb(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hp);const r=this.events[e].add(n);return e==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>gv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,gv);return q1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Jo(t,e){return new mb(t,e)}function gb(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Jo(n))}function yb(t,e){const n=nc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=RR(s[o]);gb(t,o,a)}}function vb(t){return!!(ut(t)&&t.add)}function Fd(t,e){const n=t.getValue("willChange");if(vb(n))return n.add(e)}function K1(t){return t.props[T1]}const G1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wb=1e-7,_b=12;function xb(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=G1(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>wb&&++a<_b);return o}function wa(t,e,n,r){if(t===e&&n===r)return Pt;const i=s=>xb(s,0,1,t,n);return s=>s===0||s===1?s:G1(i(s),e,r)}const Q1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y1=t=>e=>1-t(1-e),X1=wa(.33,1.53,.69,.99),qp=Y1(X1),J1=Q1(qp),Z1=t=>(t*=2)<1?.5*qp(t):.5*(2-Math.pow(2,-10*(t-1))),Kp=t=>1-Math.sin(Math.acos(t)),eE=Y1(Kp),tE=Q1(Kp),nE=t=>/^0[^.\s]+$/u.test(t);function Eb(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nE(t):!0}const To=t=>Math.round(t*1e5)/1e5,Gp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Tb(t){return t==null}const Sb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qp=(t,e)=>n=>!!(typeof n=="string"&&Sb.test(n)&&n.startsWith(t)||e&&!Tb(n)&&Object.prototype.hasOwnProperty.call(n,e)),rE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Gp);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ib=t=>jn(0,255,t),vh={...Is,transform:t=>Math.round(Ib(t))},Jr={test:Qp("rgb","red"),parse:rE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vh.transform(t)+", "+vh.transform(e)+", "+vh.transform(n)+", "+To(Xo.transform(r))+")"};function Ab(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Bd={test:Qp("#"),parse:Ab,transform:Jr.transform},$i={test:Qp("hsl","hue"),parse:rE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pn.transform(To(e))+", "+pn.transform(To(n))+", "+To(Xo.transform(r))+")"},st={test:t=>Jr.test(t)||Bd.test(t)||$i.test(t),parse:t=>Jr.test(t)?Jr.parse(t):$i.test(t)?$i.parse(t):Bd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Jr.transform(t):$i.transform(t)},Cb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pb(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Gp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Cb))===null||n===void 0?void 0:n.length)||0)>0}const iE="number",sE="color",Rb="var",bb="var(",yv="${}",kb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zo(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(kb,u=>(st.test(u)?(r.color.push(s),i.push(sE),n.push(st.parse(u))):u.startsWith(bb)?(r.var.push(s),i.push(Rb),n.push(u)):(r.number.push(s),i.push(iE),n.push(parseFloat(u))),++s,yv)).split(yv);return{values:n,split:a,indexes:r,types:i}}function oE(t){return Zo(t).values}function aE(t){const{split:e,types:n}=Zo(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===iE?s+=To(i[o]):a===sE?s+=st.transform(i[o]):s+=i[o]}return s}}const Nb=t=>typeof t=="number"?0:t;function Vb(t){const e=oE(t);return aE(t)(e.map(Nb))}const Er={test:Pb,parse:oE,createTransformer:aE,getAnimatableNone:Vb},Db=new Set(["brightness","contrast","saturate","opacity"]);function Mb(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Gp)||[];if(!r)return t;const i=n.replace(r,"");let s=Db.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const jb=/\b([a-z-]*)\(.*?\)/gu,Ud={...Er,getAnimatableNone:t=>{const e=t.match(jb);return e?e.map(Mb).join(" "):t}},Lb={...Vp,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:Ud,WebkitFilter:Ud},Yp=t=>Lb[t];function lE(t,e){let n=Yp(t);return n!==Ud&&(n=Er),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Ob=new Set(["auto","none","0"]);function Fb(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Ob.has(s)&&Zo(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=lE(n,i)}const vv=t=>t===Is||t===G,wv=(t,e)=>parseFloat(t.split(", ")[e]),_v=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return wv(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?wv(s[1],t):0}},Bb=new Set(["x","y","z"]),Ub=Ss.filter(t=>!Bb.has(t));function zb(t){const e=[];return Ub.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ds={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_v(4,13),y:_v(5,14)};ds.translateX=ds.x;ds.translateY=ds.y;const ri=new Set;let zd=!1,$d=!1;function uE(){if($d){const t=Array.from(ri).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=zb(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$d=!1,zd=!1,ri.forEach(t=>t.complete()),ri.clear()}function cE(){ri.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($d=!0)})}function $b(){cE(),uE()}class Xp{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ri.add(this),zd||(zd=!0,ye.read(cE),ye.resolveKeyframes(uE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ri.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ri.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const hE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Wb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hb(t){const e=Wb.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function dE(t,e,n=1){const[r,i]=Hb(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return hE(o)?parseFloat(o):o}return Np(i)?dE(i,e,n+1):i}const fE=t=>e=>e.test(t),qb={test:t=>t==="auto",parse:t=>t},pE=[Is,G,pn,Jn,MR,DR,qb],xv=t=>pE.find(fE(t));class mE extends Xp{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),Np(c))){const h=dE(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!H1.has(r)||e.length!==2)return;const[i,s]=e,o=xv(i),a=xv(s);if(o!==a)if(vv(o)&&vv(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Eb(e[i])&&r.push(i);r.length&&Fb(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ds[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,c])=>{n.getValue(u).set(c)}),this.resolveNoneKeyframes()}}const Ev=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Er.test(t)||t==="0")&&!t.startsWith("url("));function Kb(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Gb(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Ev(i,e),a=Ev(s,e);return!o||!a?!1:Kb(t)||(n==="spring"||Bp(n))&&r}const Qb=t=>t!==null;function rc(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Qb),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Yb=40;class gE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Yb?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$b(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=mn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:u,isGenerator:c}=this.options;if(!c&&!Gb(e,r,i,s))if(o)this.options.duration=0;else{u&&u(rc(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const xe=(t,e,n)=>t+(e-t)*n;function wh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Xb({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=wh(u,a,t+1/3),s=wh(u,a,t),o=wh(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function fu(t,e){return n=>n>0?e:t}const _h=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Jb=[Bd,Jr,$i],Zb=t=>Jb.find(e=>e.test(t));function Tv(t){const e=Zb(t);if(!e)return!1;let n=e.parse(t);return e===$i&&(n=Xb(n)),n}const Sv=(t,e)=>{const n=Tv(t),r=Tv(e);if(!n||!r)return fu(t,e);const i={...n};return s=>(i.red=_h(n.red,r.red,s),i.green=_h(n.green,r.green,s),i.blue=_h(n.blue,r.blue,s),i.alpha=xe(n.alpha,r.alpha,s),Jr.transform(i))},ek=(t,e)=>n=>e(t(n)),_a=(...t)=>t.reduce(ek),Wd=new Set(["none","hidden"]);function tk(t,e){return Wd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nk(t,e){return n=>xe(t,e,n)}function Jp(t){return typeof t=="number"?nk:typeof t=="string"?Np(t)?fu:st.test(t)?Sv:sk:Array.isArray(t)?yE:typeof t=="object"?st.test(t)?Sv:rk:fu}function yE(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Jp(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function rk(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Jp(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function ik(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],u=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=u,i[o]++}return r}const sk=(t,e)=>{const n=Er.createTransformer(e),r=Zo(t),i=Zo(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Wd.has(t)&&!i.values.length||Wd.has(e)&&!r.values.length?tk(t,e):_a(yE(ik(r,i),i.values),n):fu(t,e)};function vE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xe(t,e,n):Jp(t)(t,e)}const ok=5;function wE(t,e,n){const r=Math.max(e-ok,0);return q1(n-t(r),e-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xh=.001;function ak({duration:t=Ce.duration,bounce:e=Ce.bounce,velocity:n=Ce.velocity,mass:r=Ce.mass}){let i,s,o=1-e;o=jn(Ce.minDamping,Ce.maxDamping,o),t=jn(Ce.minDuration,Ce.maxDuration,Rn(t)),o<1?(i=c=>{const h=c*o,f=h*t,m=h-n,y=Hd(c,o),S=Math.exp(-f);return xh-m/y*S},s=c=>{const f=c*o*t,m=f*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,S=Math.exp(-f),A=Hd(Math.pow(c,2),o);return(-i(c)+xh>0?-1:1)*((m-y)*S)/A}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-xh+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,u=uk(i,s,a);if(t=Pn(t),isNaN(u))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const lk=12;function uk(t,e,n){let r=n;for(let i=1;i<lk;i++)r=r-t(r)/e(r);return r}function Hd(t,e){return t*Math.sqrt(1-e*e)}const ck=["duration","bounce"],hk=["stiffness","damping","mass"];function Iv(t,e){return e.some(n=>t[n]!==void 0)}function dk(t){let e={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...t};if(!Iv(t,hk)&&Iv(t,ck))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*jn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ce.mass,stiffness:i,damping:s}}else{const n=ak(t);e={...e,...n,mass:Ce.mass},e.isResolvedFromDuration=!0}return e}function _E(t=Ce.visualDuration,e=Ce.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:c,mass:h,duration:f,velocity:m,isResolvedFromDuration:y}=dk({...n,velocity:-Rn(n.velocity||0)}),S=m||0,A=c/(2*Math.sqrt(u*h)),R=o-s,_=Rn(Math.sqrt(u/h)),w=Math.abs(R)<5;r||(r=w?Ce.restSpeed.granular:Ce.restSpeed.default),i||(i=w?Ce.restDelta.granular:Ce.restDelta.default);let E;if(A<1){const M=Hd(_,A);E=L=>{const T=Math.exp(-A*_*L);return o-T*((S+A*_*R)/M*Math.sin(M*L)+R*Math.cos(M*L))}}else if(A===1)E=M=>o-Math.exp(-_*M)*(R+(S+_*R)*M);else{const M=_*Math.sqrt(A*A-1);E=L=>{const T=Math.exp(-A*_*L),v=Math.min(M*L,300);return o-T*((S+A*_*R)*Math.sinh(v)+M*R*Math.cosh(v))/M}}const N={calculatedDuration:y&&f||null,next:M=>{const L=E(M);if(y)a.done=M>=f;else{let T=0;A<1&&(T=M===0?Pn(S):wE(E,M,L));const v=Math.abs(T)<=r,I=Math.abs(o-L)<=i;a.done=v&&I}return a.value=a.done?o:L,a},toString:()=>{const M=Math.min(O1(N),Ld),L=F1(T=>N.next(M*T).value,M,30);return M+"ms "+L}};return N}function Av({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},y=v=>a!==void 0&&v<a||u!==void 0&&v>u,S=v=>a===void 0?u:u===void 0||Math.abs(a-v)<Math.abs(u-v)?a:u;let A=n*e;const R=f+A,_=o===void 0?R:o(R);_!==R&&(A=_-f);const w=v=>-A*Math.exp(-v/r),E=v=>_+w(v),N=v=>{const I=w(v),C=E(v);m.done=Math.abs(I)<=c,m.value=m.done?_:C};let M,L;const T=v=>{y(m.value)&&(M=v,L=_E({keyframes:[m.value,S(m.value)],velocity:wE(E,v,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return T(0),{calculatedDuration:null,next:v=>{let I=!1;return!L&&M===void 0&&(I=!0,N(v),T(v)),M!==void 0&&v>=M?L.next(v-M):(!I&&N(v),m)}}}const fk=wa(.42,0,1,1),pk=wa(0,0,.58,1),xE=wa(.42,0,.58,1),mk=t=>Array.isArray(t)&&typeof t[0]!="number",gk={linear:Pt,easeIn:fk,easeInOut:xE,easeOut:pk,circIn:Kp,circInOut:tE,circOut:eE,backIn:qp,backInOut:J1,backOut:X1,anticipate:Z1},Cv=t=>{if(Up(t)){v1(t.length===4);const[e,n,r,i]=t;return wa(e,n,r,i)}else if(typeof t=="string")return gk[t];return t};function yk(t,e,n){const r=[],i=n||vE,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Pt:e;a=_a(u,a)}r.push(a)}return r}function vk(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(v1(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=yk(e,r,i),u=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=cs(t[f],t[f+1],h);return a[f](m)};return n?h=>c(jn(t[0],t[s-1],h)):c}function wk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=cs(0,e,r);t.push(xe(n,1,i))}}function _k(t){const e=[0];return wk(e,t.length-1),e}function xk(t,e){return t.map(n=>n*e)}function Ek(t,e){return t.map(()=>e||xE).splice(0,t.length-1)}function pu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=mk(r)?r.map(Cv):Cv(r),s={done:!1,value:e[0]},o=xk(n&&n.length===e.length?n:_k(e),t),a=vk(o,e,{ease:Array.isArray(i)?i:Ek(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}const Tk=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ye.update(e,!0),stop:()=>xr(e),now:()=>Qe.isProcessing?Qe.timestamp:mn.now()}},Sk={decay:Av,inertia:Av,tween:pu,keyframes:pu,spring:_E},Ik=t=>t/100;class Zp extends gE{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Xp,a=(u,c)=>this.onKeyframesResolved(u,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Bp(n)?n:Sk[n]||pu;let u,c;a!==pu&&typeof e[0]!="number"&&(u=_a(Ik,vE(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=O1(h));const{calculatedDuration:f}=h,m=f+i,y=m*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:m,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:v}=this.options;return{done:!0,value:v[v.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:y,repeatType:S,repeatDelay:A,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-m*(this.speed>=0?1:-1),w=this.speed>=0?_<0:_>h;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,N=s;if(y){const v=Math.min(this.currentTime,h)/f;let I=Math.floor(v),C=v%1;!C&&v>=1&&(C=1),C===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(S==="reverse"?(C=1-C,A&&(C-=A/f)):S==="mirror"&&(N=o)),E=jn(0,1,C)*f}const M=w?{done:!1,value:u[0]}:N.next(E);a&&(M.value=a(M.value));let{done:L}=M;!w&&c!==null&&(L=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return T&&i!==void 0&&(M.value=rc(u,this.options,i)),R&&R(M.value),T&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Rn(e.calculatedDuration):0}get time(){return Rn(this.currentTime)}set time(e){e=Pn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Tk,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Ak=new Set(["opacity","clipPath","filter","transform"]);function Ck(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=U1(a,i);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Pk=Ip(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mu=10,Rk=2e4;function bk(t){return Bp(t.type)||t.type==="spring"||!B1(t.ease)}function kk(t,e){const n=new Zp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Rk;)r=n.sample(s),i.push(r.value),s+=mu;return{times:void 0,keyframes:i,duration:s-mu,ease:"linear"}}const EE={anticipate:Z1,backInOut:J1,circInOut:tE};function Nk(t){return t in EE}class Pv extends gE{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new mE(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:u,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&du()&&Nk(s)&&(s=EE[s]),bk(this.options)){const{onComplete:f,onUpdate:m,motionValue:y,element:S,...A}=this.options,R=kk(e,A);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,i=R.times,s=R.ease,o="keyframes"}const h=Ck(a.owner.current,u,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(dv(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(rc(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Rn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Rn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Pn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Pt;const{animation:r}=n;dv(r,e)}return Pt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:m,...y}=this.options,S=new Zp({...y,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),A=Pn(this.time);c.setWithVelocity(S.sample(A-mu).value,S.sample(A).value,mu)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=n.owner.getProps();return Pk()&&r&&Ak.has(r)&&!u&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Vk={type:"spring",stiffness:500,damping:25,restSpeed:10},Dk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Mk={type:"keyframes",duration:.8},jk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lk=(t,{keyframes:e})=>e.length>2?Mk:mi.has(t)?t.startsWith("scale")?Dk(e[1]):Vk:jk;function Ok({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const em=(t,e,n,r={},i,s)=>o=>{const a=Fp(r,t)||{},u=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Pn(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Ok(a)||(h={...h,...Lk(t,h)}),h.duration&&(h.duration=Pn(h.duration)),h.repeatDelay&&(h.repeatDelay=Pn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const m=rc(h.keyframes,a);if(m!==void 0)return ye.update(()=>{h.onUpdate(m),h.onComplete()}),new rb([])}return!s&&Pv.supports(h)?new Pv(h):new Zp(h)};function Fk({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function TE(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in u){const m=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),y=u[f];if(y===void 0||h&&Fk(h,f))continue;const S={delay:n,...Fp(o||{},f)};let A=!1;if(window.MotionHandoffAnimation){const _=K1(t);if(_){const w=window.MotionHandoffAnimation(_,f,ye);w!==null&&(S.startTime=w,A=!0)}}Fd(t,f),m.start(em(f,m,y,t.shouldReduceMotion&&H1.has(f)?{type:!1}:S,t,A));const R=m.animation;R&&c.push(R)}return a&&Promise.all(c).then(()=>{ye.update(()=>{a&&yb(t,a)})}),c}function qd(t,e,n={}){var r;const i=nc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(TE(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=s;return Bk(t,e,h+c,f,m,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[c,h]=u==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function Bk(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,u=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Uk).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(qd(c,e,{...s,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Uk(t,e){return t.sortNodePosition(e)}function zk(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>qd(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=qd(t,e,n);else{const i=typeof e=="function"?nc(t,e,n.custom):e;r=Promise.all(TE(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const $k=Cp.length;function SE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$k;n++){const r=Cp[n],i=t.props[r];(Yo(i)||i===!1)&&(e[r]=i)}return e}const Wk=[...Ap].reverse(),Hk=Ap.length;function qk(t){return e=>Promise.all(e.map(({animation:n,options:r})=>zk(t,n,r)))}function Kk(t){let e=qk(t),n=Rv(),r=!0;const i=u=>(c,h)=>{var f;const m=nc(t,h,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:y,transitionEnd:S,...A}=m;c={...c,...A,...S}}return c};function s(u){e=u(t)}function o(u){const{props:c}=t,h=SE(t.parent)||{},f=[],m=new Set;let y={},S=1/0;for(let R=0;R<Hk;R++){const _=Wk[R],w=n[_],E=c[_]!==void 0?c[_]:h[_],N=Yo(E),M=_===u?w.isActive:null;M===!1&&(S=R);let L=E===h[_]&&E!==c[_]&&N;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),w.protectedKeys={...y},!w.isActive&&M===null||!E&&!w.prevProp||ec(E)||typeof E=="boolean")continue;const T=Gk(w.prevProp,E);let v=T||_===u&&w.isActive&&!L&&N||R>S&&N,I=!1;const C=Array.isArray(E)?E:[E];let b=C.reduce(i(_),{});M===!1&&(b={});const{prevResolvedValues:V={}}=w,P={...V,...b},De=Re=>{v=!0,m.has(Re)&&(I=!0,m.delete(Re)),w.needsAnimating[Re]=!0;const z=t.getValue(Re);z&&(z.liveStyle=!1)};for(const Re in P){const z=b[Re],K=V[Re];if(y.hasOwnProperty(Re))continue;let X=!1;jd(z)&&jd(K)?X=!L1(z,K):X=z!==K,X?z!=null?De(Re):m.add(Re):z!==void 0&&m.has(Re)?De(Re):w.protectedKeys[Re]=!0}w.prevProp=E,w.prevResolvedValues=b,w.isActive&&(y={...y,...b}),r&&t.blockInitialAnimation&&(v=!1),v&&(!(L&&T)||I)&&f.push(...C.map(Re=>({animation:Re,options:{type:_}})))}if(m.size){const R={};m.forEach(_=>{const w=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),R[_]=w??null}),f.push({animation:R})}let A=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(f):Promise.resolve()}function a(u,c){var h;if(n[u].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(u,c)}),n[u].isActive=c;const f=o(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Rv(),r=!0}}}function Gk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!L1(e,t):!1}function $r(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rv(){return{animate:$r(!0),whileInView:$r(),whileHover:$r(),whileTap:$r(),whileDrag:$r(),whileFocus:$r(),exit:$r()}}class Dr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qk extends Dr{constructor(e){super(e),e.animationState||(e.animationState=Kk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ec(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Yk=0;class Xk extends Dr{constructor(){super(...arguments),this.id=Yk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Jk={animation:{Feature:Qk},exit:{Feature:Xk}};function ea(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xa(t){return{point:{x:t.pageX,y:t.pageY}}}const Zk=t=>e=>zp(e)&&t(e,xa(e));function So(t,e,n,r){return ea(t,e,Zk(n),r)}const bv=(t,e)=>Math.abs(t-e);function eN(t,e){const n=bv(t.x,e.x),r=bv(t.y,e.y);return Math.sqrt(n**2+r**2)}class IE{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Th(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=eN(f.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:S}=f,{timestamp:A}=Qe;this.history.push({...S,timestamp:A});const{onStart:R,onMove:_}=this.handlers;m||(R&&R(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Eh(m,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:S,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Th(f.type==="pointercancel"?this.lastMoveEventInfo:Eh(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,R),S&&S(f,R)},!zp(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=xa(e),a=Eh(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=Qe;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Th(a,this.history)),this.removeListeners=_a(So(this.contextWindow,"pointermove",this.handlePointerMove),So(this.contextWindow,"pointerup",this.handlePointerUp),So(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xr(this.updatePoint)}}function Eh(t,e){return e?{point:e(t.point)}:t}function kv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Th({point:t},e){return{point:t,delta:kv(t,AE(e)),offset:kv(t,tN(e)),velocity:nN(e,.1)}}function tN(t){return t[0]}function AE(t){return t[t.length-1]}function nN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=AE(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Pn(e)));)n--;if(!r)return{x:0,y:0};const s=Rn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const CE=1e-4,rN=1-CE,iN=1+CE,PE=.01,sN=0-PE,oN=0+PE;function kt(t){return t.max-t.min}function aN(t,e,n){return Math.abs(t-e)<=n}function Nv(t,e,n,r=.5){t.origin=r,t.originPoint=xe(e.min,e.max,t.origin),t.scale=kt(n)/kt(e),t.translate=xe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rN&&t.scale<=iN||isNaN(t.scale))&&(t.scale=1),(t.translate>=sN&&t.translate<=oN||isNaN(t.translate))&&(t.translate=0)}function Io(t,e,n,r){Nv(t.x,e.x,n.x,r?r.originX:void 0),Nv(t.y,e.y,n.y,r?r.originY:void 0)}function Vv(t,e,n){t.min=n.min+e.min,t.max=t.min+kt(e)}function lN(t,e,n){Vv(t.x,e.x,n.x),Vv(t.y,e.y,n.y)}function Dv(t,e,n){t.min=e.min-n.min,t.max=t.min+kt(e)}function Ao(t,e,n){Dv(t.x,e.x,n.x),Dv(t.y,e.y,n.y)}function uN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xe(n,t,r.max):Math.min(t,n)),t}function Mv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cN(t,{top:e,left:n,bottom:r,right:i}){return{x:Mv(t.x,n,i),y:Mv(t.y,e,r)}}function jv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hN(t,e){return{x:jv(t.x,e.x),y:jv(t.y,e.y)}}function dN(t,e){let n=.5;const r=kt(t),i=kt(e);return i>r?n=cs(e.min,e.max-r,t.min):r>i&&(n=cs(t.min,t.max-i,e.min)),jn(0,1,n)}function fN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kd=.35;function pN(t=Kd){return t===!1?t=0:t===!0&&(t=Kd),{x:Lv(t,"left","right"),y:Lv(t,"top","bottom")}}function Lv(t,e,n){return{min:Ov(t,e),max:Ov(t,n)}}function Ov(t,e){return typeof t=="number"?t:t[e]||0}const Fv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wi=()=>({x:Fv(),y:Fv()}),Bv=()=>({min:0,max:0}),ke=()=>({x:Bv(),y:Bv()});function jt(t){return[t("x"),t("y")]}function RE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sh(t){return t===void 0||t===1}function Gd({scale:t,scaleX:e,scaleY:n}){return!Sh(t)||!Sh(e)||!Sh(n)}function qr(t){return Gd(t)||bE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bE(t){return Uv(t.x)||Uv(t.y)}function Uv(t){return t&&t!=="0%"}function gu(t,e,n){const r=t-n,i=e*r;return n+i}function zv(t,e,n,r,i){return i!==void 0&&(t=gu(t,i,r)),gu(t,n,r)+e}function Qd(t,e=0,n=1,r,i){t.min=zv(t.min,e,n,r,i),t.max=zv(t.max,e,n,r,i)}function kE(t,{x:e,y:n}){Qd(t.x,e.translate,e.scale,e.originPoint),Qd(t.y,n.translate,n.scale,n.originPoint)}const $v=.999999999999,Wv=1.0000000000001;function yN(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qi(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kE(t,o)),r&&qr(s.latestValues)&&qi(t,s.latestValues))}e.x<Wv&&e.x>$v&&(e.x=1),e.y<Wv&&e.y>$v&&(e.y=1)}function Hi(t,e){t.min=t.min+e,t.max=t.max+e}function Hv(t,e,n,r,i=.5){const s=xe(t.min,t.max,i);Qd(t,e,n,s,r)}function qi(t,e){Hv(t.x,e.x,e.scaleX,e.scale,e.originX),Hv(t.y,e.y,e.scaleY,e.scale,e.originY)}function NE(t,e){return RE(gN(t.getBoundingClientRect(),e))}function vN(t,e,n){const r=NE(t,n),{scroll:i}=e;return i&&(Hi(r.x,i.offset.x),Hi(r.y,i.offset.y)),r}const VE=({current:t})=>t?t.ownerDocument.defaultView:null,wN=new WeakMap;class _N{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xa(h).point)},s=(h,f)=>{const{drag:m,dragPropagation:y,onDragStart:S}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=db(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jt(R=>{let _=this.getAxisMotionValue(R).get()||0;if(pn.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[R];E&&(_=kt(E)*(parseFloat(_)/100))}}this.originPoint[R]=_}),S&&ye.postRender(()=>S(h,f)),Fd(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:S,onDrag:A}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:R}=f;if(y&&this.currentDirection===null){this.currentDirection=xN(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",f.point,R),this.updateAxis("y",f.point,R),this.visualElement.render(),A&&A(h,f)},a=(h,f)=>this.stop(h,f),u=()=>jt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new IE(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:VE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ye.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ll(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=uN(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&zi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=cN(i.layoutBox,n):this.constraints=!1,this.elastic=pN(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&jt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fN(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=vN(r,i.root,this.visualElement.getTransformPagePoint());let o=hN(i.layout.layoutBox,s);if(n){const a=n(mN(o));this.hasMutatedConstraints=!!a,a&&(o=RE(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=jt(h=>{if(!ll(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,S={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,S)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Fd(this.visualElement,e),r.start(em(e,r,0,n,this.visualElement,!1))}stopAnimation(){jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jt(n=>{const{drag:r}=this.getProps();if(!ll(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-xe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();i[o]=dN({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jt(o=>{if(!ll(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(xe(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;wN.set(this.visualElement,this);const e=this.visualElement.current,n=So(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();zi(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ye.read(r);const o=ea(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(jt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Kd,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ll(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class EN extends Dr{constructor(e){super(e),this.removeGroupControls=Pt,this.removeListeners=Pt,this.controls=new _N(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pt}unmount(){this.removeGroupControls(),this.removeListeners()}}const qv=t=>(e,n)=>{t&&ye.postRender(()=>t(e,n))};class TN extends Dr{constructor(){super(...arguments),this.removePointerDownListener=Pt}onPointerDown(e){this.session=new IE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:qv(e),onStart:qv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ye.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=So(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const no={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=Kv(t,e.target.x),r=Kv(t,e.target.y);return`${n}% ${r}%`}},SN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Er.parse(t);if(i.length>5)return r;const s=Er.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=xe(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class IN extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;HR(AN),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DE(t){const[e,n]=m1(),r=k.useContext(xp);return p.jsx(IN,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(S1),isPresent:e,safeToRemove:n})}const AN={borderRadius:{...no,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:no,borderTopRightRadius:no,borderBottomLeftRadius:no,borderBottomRightRadius:no,boxShadow:SN};function CN(t,e,n){const r=ut(t)?t:Jo(t);return r.start(em("",r,e,n)),r.animation}function PN(t){return t instanceof SVGElement&&t.tagName!=="svg"}const RN=(t,e)=>t.depth-e.depth;class bN{constructor(){this.children=[],this.isDirty=!1}add(e){$p(this.children,e),this.isDirty=!0}remove(e){Wp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RN),this.isDirty=!1,this.children.forEach(e)}}function kN(t,e){const n=mn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(xr(r),t(s-e))};return ye.read(r,!0),()=>xr(r)}const ME=["TopLeft","TopRight","BottomLeft","BottomRight"],NN=ME.length,Gv=t=>typeof t=="string"?parseFloat(t):t,Qv=t=>typeof t=="number"||G.test(t);function VN(t,e,n,r,i,s){i?(t.opacity=xe(0,n.opacity!==void 0?n.opacity:1,DN(r)),t.opacityExit=xe(e.opacity!==void 0?e.opacity:1,0,MN(r))):s&&(t.opacity=xe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<NN;o++){const a=`border${ME[o]}Radius`;let u=Yv(e,a),c=Yv(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Qv(u)===Qv(c)?(t[a]=Math.max(xe(Gv(u),Gv(c),r),0),(pn.test(c)||pn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=xe(e.rotate||0,n.rotate||0,r))}function Yv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DN=jE(0,.5,eE),MN=jE(.5,.95,Pt);function jE(t,e,n){return r=>r<t?0:r>e?1:n(cs(t,e,r))}function Xv(t,e){t.min=e.min,t.max=e.max}function Mt(t,e){Xv(t.x,e.x),Xv(t.y,e.y)}function Jv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Zv(t,e,n,r,i){return t-=e,t=gu(t,1/n,r),i!==void 0&&(t=gu(t,1/i,r)),t}function jN(t,e=0,n=1,r=.5,i,s=t,o=t){if(pn.test(e)&&(e=parseFloat(e),e=xe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=xe(s.min,s.max,r);t===s&&(a-=e),t.min=Zv(t.min,e,n,a,i),t.max=Zv(t.max,e,n,a,i)}function e0(t,e,[n,r,i],s,o){jN(t,e[n],e[r],e[i],e.scale,s,o)}const LN=["x","scaleX","originX"],ON=["y","scaleY","originY"];function t0(t,e,n,r){e0(t.x,e,LN,n?n.x:void 0,r?r.x:void 0),e0(t.y,e,ON,n?n.y:void 0,r?r.y:void 0)}function n0(t){return t.translate===0&&t.scale===1}function LE(t){return n0(t.x)&&n0(t.y)}function r0(t,e){return t.min===e.min&&t.max===e.max}function FN(t,e){return r0(t.x,e.x)&&r0(t.y,e.y)}function i0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OE(t,e){return i0(t.x,e.x)&&i0(t.y,e.y)}function s0(t){return kt(t.x)/kt(t.y)}function o0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class BN{constructor(){this.members=[]}add(e){$p(this.members,e),e.scheduleRender()}remove(e){if(Wp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UN(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:m,skewX:y,skewY:S}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const Kr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},uo=typeof window<"u"&&window.MotionDebug!==void 0,Ih=["","X","Y","Z"],zN={visibility:"hidden"},a0=1e3;let $N=0;function Ah(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function FE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=K1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&FE(r)}function BE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$N++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uo&&(Kr.totalNodes=Kr.resolvedTargetDeltas=Kr.recalculatedProjection=0),this.nodes.forEach(qN),this.nodes.forEach(XN),this.nodes.forEach(JN),this.nodes.forEach(KN),uo&&window.MotionDebug.record(Kr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new bN)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hp),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PN(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=kN(m,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(u0))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||rV,{onLayoutAnimationStart:R,onLayoutAnimationComplete:_}=h.getProps(),w=!this.targetLayout||!OE(this.targetLayout,S)||y,E=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const N={...Fp(A,"layout"),onPlay:R,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||u0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(l0);return}this.isUpdating||this.nodes.forEach(QN),this.isUpdating=!1,this.nodes.forEach(YN),this.nodes.forEach(WN),this.nodes.forEach(HN),this.clearAllSnapshots();const a=mn.now();Qe.delta=jn(0,1e3/60,a-Qe.timestamp),Qe.timestamp=a,Qe.isProcessing=!0,gh.update.process(Qe),gh.preRender.process(Qe),gh.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GN),this.sharedNodes.forEach(eV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!LE(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||qr(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),iV(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ke();const u=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(sV))){const{scroll:h}=this.root;h&&(Hi(u.x,h.offset.x),Hi(u.y,h.offset.y))}return u}removeElementScroll(o){var a;const u=ke();if(Mt(u,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Mt(u,o),Hi(u.x,f.offset.x),Hi(u.y,f.offset.y))}return u}applyTransform(o,a=!1){const u=ke();Mt(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qi(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),qr(h.latestValues)&&qi(u,h.latestValues)}return qr(this.latestValues)&&qi(u,this.latestValues),u}removeTransform(o){const a=ke();Mt(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!qr(c.latestValues))continue;Gd(c.latestValues)&&c.updateSnapshot();const h=ke(),f=c.measurePageBox();Mt(h,f),t0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return qr(this.latestValues)&&t0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Ao(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mt(this.target,this.layout.layoutBox),kE(this.target,this.targetDelta)):Mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Ao(this.relativeTargetOrigin,this.target,y.target),Mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uo&&Kr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gd(this.parent.latestValues)||bE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Mt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;yN(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ke());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jv(this.prevProjectionDelta.x,this.projectionDelta.x),Jv(this.prevProjectionDelta.y,this.projectionDelta.y)),Io(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!o0(this.projectionDelta.x,this.prevProjectionDelta.x)||!o0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),uo&&Kr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wi(),this.projectionDelta=Wi(),this.projectionDeltaWithTransform=Wi()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=Wi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=ke(),y=u?u.source:void 0,S=this.layout?this.layout.source:void 0,A=y!==S,R=this.getStack(),_=!R||R.members.length<=1,w=!!(A&&!_&&this.options.crossfade===!0&&!this.path.some(nV));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const M=N/1e3;c0(f.x,o.x,M),c0(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ao(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tV(this.relativeTarget,this.relativeTargetOrigin,m,M),E&&FN(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ke()),Mt(E,this.relativeTarget)),A&&(this.animationValues=h,VN(h,c,this.latestValues,M,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Nl.hasAnimatedSinceResize=!0,this.currentAnimation=CN(0,a0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&UE(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||ke();const f=kt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const m=kt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}Mt(a,u),qi(a,h),Io(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BN),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Ah("z",o,c,this.animationValues);for(let h=0;h<Ih.length;h++)Ah(`rotate${Ih[h]}`,o,c,this.animationValues),Ah(`skew${Ih[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zN;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=bl(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=bl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!qr(this.latestValues)&&(A.transform=h?h({},""):"none",this.hasProjected=!1),A}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=UN(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:y,y:S}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${S.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const A in hu){if(m[A]===void 0)continue;const{correct:R,applyTo:_}=hu[A],w=c.transform==="none"?m[A]:R(m[A],f);if(_){const E=_.length;for(let N=0;N<E;N++)c[_[N]]=w}else c[A]=w}return this.options.layoutId&&(c.pointerEvents=f===this?bl(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(l0),this.root.sharedNodes.clear()}}}function WN(t){t.updateLayout()}function HN(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?jt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=kt(m);m.min=r[f].min,m.max=m.min+y}):UE(s,n.layoutBox,r)&&jt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=kt(r[f]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=Wi();Io(a,r,n.layoutBox);const u=Wi();o?Io(u,t.applyTransform(i,!0),n.measuredBox):Io(u,r,n.layoutBox);const c=!LE(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const S=ke();Ao(S,n.layoutBox,m.layoutBox);const A=ke();Ao(A,r,y.layoutBox),OE(S,A)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=S,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function qN(t){uo&&Kr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GN(t){t.clearSnapshot()}function l0(t){t.clearMeasurements()}function QN(t){t.isLayoutDirty=!1}function YN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function u0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XN(t){t.resolveTargetDelta()}function JN(t){t.calcProjection()}function ZN(t){t.resetSkewAndRotation()}function eV(t){t.removeLeadSnapshot()}function c0(t,e,n){t.translate=xe(e.translate,0,n),t.scale=xe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function h0(t,e,n,r){t.min=xe(e.min,n.min,r),t.max=xe(e.max,n.max,r)}function tV(t,e,n,r){h0(t.x,e.x,n.x,r),h0(t.y,e.y,n.y,r)}function nV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rV={duration:.45,ease:[.4,0,.1,1]},d0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),f0=d0("applewebkit/")&&!d0("chrome/")?Math.round:Pt;function p0(t){t.min=f0(t.min),t.max=f0(t.max)}function iV(t){p0(t.x),p0(t.y)}function UE(t,e,n){return t==="position"||t==="preserve-aspect"&&!aN(s0(e),s0(n),.2)}function sV(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const oV=BE({attachResizeListener:(t,e)=>ea(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ch={current:void 0},zE=BE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ch.current){const t=new oV({});t.mount(window),t.setOptions({layoutScroll:!0}),Ch.current=t}return Ch.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aV={pan:{Feature:TN},drag:{Feature:EN,ProjectionNode:zE,MeasureLayout:DE}};function m0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ye.postRender(()=>s(e,xa(e)))}class lV extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=ab(e,n=>(m0(this.node,n,"Start"),r=>m0(this.node,r,"End"))))}unmount(){}}class uV extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_a(ea(this.node.current,"focus",()=>this.onFocus()),ea(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g0(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ye.postRender(()=>s(e,xa(e)))}class cV extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=hb(e,n=>(g0(this.node,n,"Start"),(r,{success:i})=>g0(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yd=new WeakMap,Ph=new WeakMap,hV=t=>{const e=Yd.get(t.target);e&&e(t)},dV=t=>{t.forEach(hV)};function fV({root:t,...e}){const n=t||document;Ph.has(n)||Ph.set(n,{});const r=Ph.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(dV,{root:t,...e})),r[i]}function pV(t,e,n){const r=fV(e);return Yd.set(t,n),r.observe(t),()=>{Yd.delete(t),r.unobserve(t)}}const mV={some:0,all:1};class gV extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mV[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=c?h:f;m&&m(u)};return pV(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(yV(e,n))&&this.startObserver()}unmount(){}}function yV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const vV={inView:{Feature:gV},tap:{Feature:cV},focus:{Feature:uV},hover:{Feature:lV}},wV={layout:{ProjectionNode:zE,MeasureLayout:DE}},Xd={current:null},$E={current:!1};function _V(){if($E.current=!0,!!Sp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xd.current=t.matches;t.addListener(e),e()}else Xd.current=!1}const xV=[...pE,st,Er],EV=t=>xV.find(fE(t)),y0=new WeakMap;function TV(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ut(i))t.addValue(r,i);else if(ut(s))t.addValue(r,Jo(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Jo(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const v0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=mn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ye.render(this.render,!1,!0))};const{latestValues:u,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=tc(n),this.isVariantNode=E1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const S=m[y];u[y]!==void 0&&ut(S)&&S.set(u[y],!1)}}mount(e){this.current=e,y0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$E.current||_V(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){y0.delete(this.current),this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=mi.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hs){const n=hs[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<v0.length;r++){const i=v0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=TV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Jo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(hE(i)||nE(i))?i=parseFloat(i):!EV(i)&&Er.test(n)&&(i=lE(e,n)),this.setBaseTarget(e,ut(i)?i.get():i)),ut(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=kp(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ut(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WE extends SV{constructor(){super(...arguments),this.KeyframeResolver=mE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IV(t){return window.getComputedStyle(t)}class AV extends WE{constructor(){super(...arguments),this.type="html",this.renderInstance=k1}readValueFromInstance(e,n){if(mi.has(n)){const r=Yp(n);return r&&r.default||0}else{const r=IV(e),i=(P1(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NE(e,n)}build(e,n,r){Dp(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Op(e,n,r)}}class CV extends WE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mi.has(n)){const r=Yp(n);return r&&r.default||0}return n=N1.has(n)?n:Pp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return M1(e,n,r)}build(e,n,r){Mp(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){V1(e,n,r,i)}mount(e){this.isSVGTag=Lp(e.tagName),super.mount(e)}}const PV=(t,e)=>bp(t)?new CV(e):new AV(e,{allowProjection:t!==k.Fragment}),RV=eb({...Jk,...vV,...aV,...wV},PV),ee=mR(RV),bV=()=>{};var w0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new NV;const m=s<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const S=c<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VV=function(t){const e=HE(t);return qE.encodeByteArray(e,!0)},yu=function(t){return VV(t).replace(/\./g,"")},DV=function(t){try{return qE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=()=>MV().__FIREBASE_DEFAULTS__,LV=()=>{if(typeof process>"u"||typeof w0>"u")return;const t=w0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DV(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return bV()||jV()||LV()||OV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FV=t=>{var e,n;return(n=(e=tm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},BV=t=>{const e=FV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KE=()=>{var t;return(t=tm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zV(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yu(JSON.stringify(n)),yu(JSON.stringify(o)),""].join(".")}const Co={};function WV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Co))Co[e]?t.emulator.push(e):t.prod.push(e);return t}function HV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _0=!1;function qV(t,e){if(typeof window>"u"||typeof document>"u"||!nm(window.location.host)||Co[t]===e||Co[t]||_0)return;Co[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=WV().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{_0=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=HV(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;a(E),h(R,A);const N=c();u(w,_),E.append(w,S,R,N),document.body.appendChild(E)}s?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GV(){var e;const t=(e=tm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YV(){return!GV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GE(){try{return typeof indexedDB=="object"}catch{return!1}}function QE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function XV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JV,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mr(i,a,r)}}function ZV(t,e){return t.replace(eD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eD=/\{\$([^}]+)}/g;function ta(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(x0(s)&&x0(o)){if(!ta(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function x0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=1e3,nD=2,rD=4*60*60*1e3,iD=.5;function E0(t,e=tD,n=nD){const r=e*Math.pow(n,t),i=Math.round(iD*r*(Math.random()-.5)*2);return Math.min(rD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t){return t&&t._delegate?t._delegate:t}class On{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aD(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oD(t){return t===Gr?void 0:t}function aD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const uD={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},cD=se.INFO,hD={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},dD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rm{constructor(e){this.name=e,this._logLevel=cD,this._logHandler=dD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const fD=(t,e)=>e.some(n=>t instanceof n);let T0,S0;function pD(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mD(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Jd=new WeakMap,XE=new WeakMap,Rh=new WeakMap,im=new WeakMap;function gD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,t)}).catch(()=>{}),im.set(e,t),e}function yD(t){if(Jd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jd.set(t,e)}let Zd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vD(t){Zd=t(Zd)}function wD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bh(this),e,...n);return XE.set(r,e.sort?e.sort():[e]),pr(r)}:mD().includes(t)?function(...e){return t.apply(bh(this),e),pr(YE.get(this))}:function(...e){return pr(t.apply(bh(this),e))}}function _D(t){return typeof t=="function"?wD(t):(t instanceof IDBTransaction&&yD(t),fD(t,pD())?new Proxy(t,Zd):t)}function pr(t){if(t instanceof IDBRequest)return gD(t);if(Rh.has(t))return Rh.get(t);const e=_D(t);return e!==t&&(Rh.set(t,e),im.set(e,t)),e}const bh=t=>im.get(t);function JE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=pr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pr(o.result),u.oldVersion,u.newVersion,pr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const xD=["get","getKey","getAll","getAllKeys","count"],ED=["put","add","delete","clear"],kh=new Map;function I0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kh.get(e))return kh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ED.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xD.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return kh.set(e,s),s}vD(t=>({...t,get:(e,n,r)=>I0(e,n)||t.get(e,n,r),has:(e,n)=>!!I0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ef="@firebase/app",A0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new rm("@firebase/app"),ID="@firebase/app-compat",AD="@firebase/analytics-compat",CD="@firebase/analytics",PD="@firebase/app-check-compat",RD="@firebase/app-check",bD="@firebase/auth",kD="@firebase/auth-compat",ND="@firebase/database",VD="@firebase/data-connect",DD="@firebase/database-compat",MD="@firebase/functions",jD="@firebase/functions-compat",LD="@firebase/installations",OD="@firebase/installations-compat",FD="@firebase/messaging",BD="@firebase/messaging-compat",UD="@firebase/performance",zD="@firebase/performance-compat",$D="@firebase/remote-config",WD="@firebase/remote-config-compat",HD="@firebase/storage",qD="@firebase/storage-compat",KD="@firebase/firestore",GD="@firebase/ai",QD="@firebase/firestore-compat",YD="firebase",XD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="[DEFAULT]",JD={[ef]:"fire-core",[ID]:"fire-core-compat",[CD]:"fire-analytics",[AD]:"fire-analytics-compat",[RD]:"fire-app-check",[PD]:"fire-app-check-compat",[bD]:"fire-auth",[kD]:"fire-auth-compat",[ND]:"fire-rtdb",[VD]:"fire-data-connect",[DD]:"fire-rtdb-compat",[MD]:"fire-fn",[jD]:"fire-fn-compat",[LD]:"fire-iid",[OD]:"fire-iid-compat",[FD]:"fire-fcm",[BD]:"fire-fcm-compat",[UD]:"fire-perf",[zD]:"fire-perf-compat",[$D]:"fire-rc",[WD]:"fire-rc-compat",[HD]:"fire-gcs",[qD]:"fire-gcs-compat",[KD]:"fire-fst",[QD]:"fire-fst-compat",[GD]:"fire-vertex","fire-js":"fire-js",[YD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Map,ZD=new Map,nf=new Map;function C0(t,e){try{t.container.addComponent(e)}catch(n){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){const e=t.name;if(nf.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;nf.set(e,t);for(const n of vu.values())C0(n,t);for(const n of ZD.values())C0(n,t);return!0}function Ea(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function e4(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new ic("app","Firebase",t4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=XD;function ZE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:tf,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mr.create("bad-app-name",{appName:String(i)});if(n||(n=KE()),!n)throw mr.create("no-options");const s=vu.get(i);if(s){if(ta(n,s.options)&&ta(r,s.config))return s;throw mr.create("duplicate-app",{appName:i})}const o=new lD(i);for(const u of nf.values())o.addComponent(u);const a=new n4(n,r,o);return vu.set(i,a),a}function eT(t=tf){const e=vu.get(t);if(!e&&t===tf&&KE())return ZE();if(!e)throw mr.create("no-app",{appName:t});return e}function gn(t,e,n){let r=JD[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(o.join(" "));return}Tr(new On(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="firebase-heartbeat-database",s4=1,na="firebase-heartbeat-store";let Nh=null;function tT(){return Nh||(Nh=JE(i4,s4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(na)}catch(n){console.warn(n)}}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),Nh}async function o4(t){try{const n=(await tT()).transaction(na),r=await n.objectStore(na).get(nT(t));return await n.done,r}catch(e){if(e instanceof Mr)Fn.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fn.warn(n.message)}}}async function P0(t,e){try{const r=(await tT()).transaction(na,"readwrite");await r.objectStore(na).put(e,nT(t)),await r.done}catch(n){if(n instanceof Mr)Fn.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fn.warn(r.message)}}}function nT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1024,l4=30;class u4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>l4){const o=d4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R0(),{heartbeatsToSend:r,unsentEntries:i}=c4(this._heartbeatsCache.heartbeats),s=yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fn.warn(n),""}}}function R0(){return new Date().toISOString().substring(0,10)}function c4(t,e=a4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),b0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class h4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GE()?QE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function b0(t){return yu(JSON.stringify({version:2,heartbeats:t})).length}function d4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){Tr(new On("platform-logger",e=>new TD(e),"PRIVATE")),Tr(new On("heartbeat",e=>new u4(e),"PRIVATE")),gn(ef,A0,t),gn(ef,A0,"esm2020"),gn("fire-js","")}f4("");var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,rT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function I(){}I.prototype=v.prototype,T.F=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.D=function(C,b,V){for(var P=Array(arguments.length-2),De=2;De<arguments.length;De++)P[De-2]=arguments[De];return v.prototype[b].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);const C=Array(16);if(typeof v=="string")for(var b=0;b<16;++b)C[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;b<16;++b)C[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],b=T.g[2];let V=T.g[3],P;P=v+(V^I&(b^V))+C[0]+3614090360&4294967295,v=I+(P<<7&4294967295|P>>>25),P=V+(b^v&(I^b))+C[1]+3905402710&4294967295,V=v+(P<<12&4294967295|P>>>20),P=b+(I^V&(v^I))+C[2]+606105819&4294967295,b=V+(P<<17&4294967295|P>>>15),P=I+(v^b&(V^v))+C[3]+3250441966&4294967295,I=b+(P<<22&4294967295|P>>>10),P=v+(V^I&(b^V))+C[4]+4118548399&4294967295,v=I+(P<<7&4294967295|P>>>25),P=V+(b^v&(I^b))+C[5]+1200080426&4294967295,V=v+(P<<12&4294967295|P>>>20),P=b+(I^V&(v^I))+C[6]+2821735955&4294967295,b=V+(P<<17&4294967295|P>>>15),P=I+(v^b&(V^v))+C[7]+4249261313&4294967295,I=b+(P<<22&4294967295|P>>>10),P=v+(V^I&(b^V))+C[8]+1770035416&4294967295,v=I+(P<<7&4294967295|P>>>25),P=V+(b^v&(I^b))+C[9]+2336552879&4294967295,V=v+(P<<12&4294967295|P>>>20),P=b+(I^V&(v^I))+C[10]+4294925233&4294967295,b=V+(P<<17&4294967295|P>>>15),P=I+(v^b&(V^v))+C[11]+2304563134&4294967295,I=b+(P<<22&4294967295|P>>>10),P=v+(V^I&(b^V))+C[12]+1804603682&4294967295,v=I+(P<<7&4294967295|P>>>25),P=V+(b^v&(I^b))+C[13]+4254626195&4294967295,V=v+(P<<12&4294967295|P>>>20),P=b+(I^V&(v^I))+C[14]+2792965006&4294967295,b=V+(P<<17&4294967295|P>>>15),P=I+(v^b&(V^v))+C[15]+1236535329&4294967295,I=b+(P<<22&4294967295|P>>>10),P=v+(b^V&(I^b))+C[1]+4129170786&4294967295,v=I+(P<<5&4294967295|P>>>27),P=V+(I^b&(v^I))+C[6]+3225465664&4294967295,V=v+(P<<9&4294967295|P>>>23),P=b+(v^I&(V^v))+C[11]+643717713&4294967295,b=V+(P<<14&4294967295|P>>>18),P=I+(V^v&(b^V))+C[0]+3921069994&4294967295,I=b+(P<<20&4294967295|P>>>12),P=v+(b^V&(I^b))+C[5]+3593408605&4294967295,v=I+(P<<5&4294967295|P>>>27),P=V+(I^b&(v^I))+C[10]+38016083&4294967295,V=v+(P<<9&4294967295|P>>>23),P=b+(v^I&(V^v))+C[15]+3634488961&4294967295,b=V+(P<<14&4294967295|P>>>18),P=I+(V^v&(b^V))+C[4]+3889429448&4294967295,I=b+(P<<20&4294967295|P>>>12),P=v+(b^V&(I^b))+C[9]+568446438&4294967295,v=I+(P<<5&4294967295|P>>>27),P=V+(I^b&(v^I))+C[14]+3275163606&4294967295,V=v+(P<<9&4294967295|P>>>23),P=b+(v^I&(V^v))+C[3]+4107603335&4294967295,b=V+(P<<14&4294967295|P>>>18),P=I+(V^v&(b^V))+C[8]+1163531501&4294967295,I=b+(P<<20&4294967295|P>>>12),P=v+(b^V&(I^b))+C[13]+2850285829&4294967295,v=I+(P<<5&4294967295|P>>>27),P=V+(I^b&(v^I))+C[2]+4243563512&4294967295,V=v+(P<<9&4294967295|P>>>23),P=b+(v^I&(V^v))+C[7]+1735328473&4294967295,b=V+(P<<14&4294967295|P>>>18),P=I+(V^v&(b^V))+C[12]+2368359562&4294967295,I=b+(P<<20&4294967295|P>>>12),P=v+(I^b^V)+C[5]+4294588738&4294967295,v=I+(P<<4&4294967295|P>>>28),P=V+(v^I^b)+C[8]+2272392833&4294967295,V=v+(P<<11&4294967295|P>>>21),P=b+(V^v^I)+C[11]+1839030562&4294967295,b=V+(P<<16&4294967295|P>>>16),P=I+(b^V^v)+C[14]+4259657740&4294967295,I=b+(P<<23&4294967295|P>>>9),P=v+(I^b^V)+C[1]+2763975236&4294967295,v=I+(P<<4&4294967295|P>>>28),P=V+(v^I^b)+C[4]+1272893353&4294967295,V=v+(P<<11&4294967295|P>>>21),P=b+(V^v^I)+C[7]+4139469664&4294967295,b=V+(P<<16&4294967295|P>>>16),P=I+(b^V^v)+C[10]+3200236656&4294967295,I=b+(P<<23&4294967295|P>>>9),P=v+(I^b^V)+C[13]+681279174&4294967295,v=I+(P<<4&4294967295|P>>>28),P=V+(v^I^b)+C[0]+3936430074&4294967295,V=v+(P<<11&4294967295|P>>>21),P=b+(V^v^I)+C[3]+3572445317&4294967295,b=V+(P<<16&4294967295|P>>>16),P=I+(b^V^v)+C[6]+76029189&4294967295,I=b+(P<<23&4294967295|P>>>9),P=v+(I^b^V)+C[9]+3654602809&4294967295,v=I+(P<<4&4294967295|P>>>28),P=V+(v^I^b)+C[12]+3873151461&4294967295,V=v+(P<<11&4294967295|P>>>21),P=b+(V^v^I)+C[15]+530742520&4294967295,b=V+(P<<16&4294967295|P>>>16),P=I+(b^V^v)+C[2]+3299628645&4294967295,I=b+(P<<23&4294967295|P>>>9),P=v+(b^(I|~V))+C[0]+4096336452&4294967295,v=I+(P<<6&4294967295|P>>>26),P=V+(I^(v|~b))+C[7]+1126891415&4294967295,V=v+(P<<10&4294967295|P>>>22),P=b+(v^(V|~I))+C[14]+2878612391&4294967295,b=V+(P<<15&4294967295|P>>>17),P=I+(V^(b|~v))+C[5]+4237533241&4294967295,I=b+(P<<21&4294967295|P>>>11),P=v+(b^(I|~V))+C[12]+1700485571&4294967295,v=I+(P<<6&4294967295|P>>>26),P=V+(I^(v|~b))+C[3]+2399980690&4294967295,V=v+(P<<10&4294967295|P>>>22),P=b+(v^(V|~I))+C[10]+4293915773&4294967295,b=V+(P<<15&4294967295|P>>>17),P=I+(V^(b|~v))+C[1]+2240044497&4294967295,I=b+(P<<21&4294967295|P>>>11),P=v+(b^(I|~V))+C[8]+1873313359&4294967295,v=I+(P<<6&4294967295|P>>>26),P=V+(I^(v|~b))+C[15]+4264355552&4294967295,V=v+(P<<10&4294967295|P>>>22),P=b+(v^(V|~I))+C[6]+2734768916&4294967295,b=V+(P<<15&4294967295|P>>>17),P=I+(V^(b|~v))+C[13]+1309151649&4294967295,I=b+(P<<21&4294967295|P>>>11),P=v+(b^(I|~V))+C[4]+4149444226&4294967295,v=I+(P<<6&4294967295|P>>>26),P=V+(I^(v|~b))+C[11]+3174756917&4294967295,V=v+(P<<10&4294967295|P>>>22),P=b+(v^(V|~I))+C[2]+718787259&4294967295,b=V+(P<<15&4294967295|P>>>17),P=I+(V^(b|~v))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(b+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+V&4294967295}r.prototype.v=function(T,v){v===void 0&&(v=T.length);const I=v-this.blockSize,C=this.C;let b=this.h,V=0;for(;V<v;){if(b==0)for(;V<=I;)i(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<v;)if(C[b++]=T.charCodeAt(V++),b==this.blockSize){i(this,C),b=0;break}}else for(;V<v;)if(C[b++]=T[V++],b==this.blockSize){i(this,C),b=0;break}}this.h=b,this.o+=v},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;v=this.o*8;for(var I=T.length-8;I<T.length;++I)T[I]=v&255,v/=256;for(this.v(T),T=Array(16),v=0,I=0;I<4;++I)for(let C=0;C<32;C+=8)T[v++]=this.g[I]>>>C&255;return T};function s(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function o(T,v){this.h=v;const I=[];let C=!0;for(let b=T.length-1;b>=0;b--){const V=T[b]|0;C&&V==v||(I[b]=V,C=!1)}this.g=I}var a={};function u(T){return-128<=T&&T<128?s(T,function(v){return new o([v|0],v<0?-1:0)}):new o([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return R(c(-T));const v=[];let I=1;for(let C=0;T>=I;C++)v[C]=T/I|0,I*=4294967296;return new o(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=c(Math.pow(v,8));let C=f;for(let V=0;V<T.length;V+=8){var b=Math.min(8,T.length-V);const P=parseInt(T.substring(V,V+b),v);b<8?(b=c(Math.pow(v,b)),C=C.j(b).add(c(P))):(C=C.j(I),C=C.add(c(P)))}return C}var f=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(A(this))return-R(this).m();let T=0,v=1;for(let I=0;I<this.g.length;I++){const C=this.i(I);T+=(C>=0?C:4294967296+C)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(A(this))return"-"+R(this).toString(T);const v=c(Math.pow(T,6));var I=this;let C="";for(;;){const b=N(I,v).g;I=_(I,b.j(v));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(T);if(I=b,S(I))return V+C;for(;V.length<6;)V="0"+V;C=V+C}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function A(T){return T.h==-1}t.l=function(T){return T=_(this,T),A(T)?-1:S(T)?0:1};function R(T){const v=T.g.length,I=[];for(let C=0;C<v;C++)I[C]=~T.g[C];return new o(I,~T.h).add(m)}t.abs=function(){return A(this)?R(this):this},t.add=function(T){const v=Math.max(this.g.length,T.g.length),I=[];let C=0;for(let b=0;b<=v;b++){let V=C+(this.i(b)&65535)+(T.i(b)&65535),P=(V>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);C=P>>>16,V&=65535,P&=65535,I[b]=P<<16|V}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(T,v){return T.add(R(v))}t.j=function(T){if(S(this)||S(T))return f;if(A(this))return A(T)?R(this).j(R(T)):R(R(this).j(T));if(A(T))return R(this.j(R(T)));if(this.l(y)<0&&T.l(y)<0)return c(this.m()*T.m());const v=this.g.length+T.g.length,I=[];for(var C=0;C<2*v;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(let b=0;b<T.g.length;b++){const V=this.i(C)>>>16,P=this.i(C)&65535,De=T.i(b)>>>16,sn=T.i(b)&65535;I[2*C+2*b]+=P*sn,w(I,2*C+2*b),I[2*C+2*b+1]+=V*sn,w(I,2*C+2*b+1),I[2*C+2*b+1]+=P*De,w(I,2*C+2*b+1),I[2*C+2*b+2]+=V*De,w(I,2*C+2*b+2)}for(T=0;T<v;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=v;T<2*v;T++)I[T]=0;return new o(I,0)};function w(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function E(T,v){this.g=T,this.h=v}function N(T,v){if(S(v))throw Error("division by zero");if(S(T))return new E(f,f);if(A(T))return v=N(R(T),v),new E(R(v.g),R(v.h));if(A(v))return v=N(T,R(v)),new E(R(v.g),v.h);if(T.g.length>30){if(A(T)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,C=v;C.l(T)<=0;)I=M(I),C=M(C);var b=L(I,1),V=L(C,1);for(C=L(C,2),I=L(I,2);!S(C);){var P=V.add(C);P.l(T)<=0&&(b=b.add(I),V=P),C=L(C,1),I=L(I,1)}return v=_(T,b.j(v)),new E(b,v)}for(b=f;T.l(v)>=0;){for(I=Math.max(1,Math.floor(T.m()/v.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),V=c(I),P=V.j(v);A(P)||P.l(T)>0;)I-=C,V=c(I),P=V.j(v);S(V)&&(V=m),b=b.add(V),T=_(T,P)}return new E(b,T)}t.B=function(T){return N(this,T).h},t.and=function(T){const v=Math.max(this.g.length,T.g.length),I=[];for(let C=0;C<v;C++)I[C]=this.i(C)&T.i(C);return new o(I,this.h&T.h)},t.or=function(T){const v=Math.max(this.g.length,T.g.length),I=[];for(let C=0;C<v;C++)I[C]=this.i(C)|T.i(C);return new o(I,this.h|T.h)},t.xor=function(T){const v=Math.max(this.g.length,T.g.length),I=[];for(let C=0;C<v;C++)I[C]=this.i(C)^T.i(C);return new o(I,this.h^T.h)};function M(T){const v=T.g.length+1,I=[];for(let C=0;C<v;C++)I[C]=T.i(C)<<1|T.i(C-1)>>>31;return new o(I,T.h)}function L(T,v){const I=v>>5;v%=32;const C=T.g.length-I,b=[];for(let V=0;V<C;V++)b[V]=v>0?T.i(V+I)>>>v|T.i(V+I+1)<<32-v:T.i(V+I);return new o(b,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,gr=o}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,co,sT,Vl,rf,oT,aT,lT;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ul=="object"&&ul];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var g=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var D=l[x];if(!(D in g))break e;g=g[D]}l=l[l.length-1],x=g[l],d=d(x),d!=x&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(d){var g=[],x;for(x in d)Object.prototype.hasOwnProperty.call(d,x)&&g.push([x,d[x]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function u(l,d,g){return l.call.apply(l.bind,arguments)}function c(l,d,g){return c=u,c.apply(null,arguments)}function h(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function f(l,d){function g(){}g.prototype=d.prototype,l.Z=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(x,D,j){for(var U=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)U[Z-2]=arguments[Z];return d.prototype[D].apply(x,U)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const d=l.length;if(d>0){const g=Array(d);for(let x=0;x<d;x++)g[x]=l[x];return g}return[]}function S(l,d){for(let x=1;x<arguments.length;x++){const D=arguments[x];var g=typeof D;if(g=g!="object"?g:D?Array.isArray(D)?"array":g:"null",g=="array"||g=="object"&&typeof D.length=="number"){g=l.length||0;const j=D.length||0;l.length=g+j;for(let U=0;U<j;U++)l[g+U]=D[U]}else l.push(D)}}class A{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(l){o.setTimeout(()=>{throw l},0)}function _(){var l=T;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class w{constructor(){this.h=this.g=null}add(d,g){const x=E.get();x.set(d,g),this.h?this.h.next=x:this.g=x,this.h=x}}var E=new A(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let M,L=!1,T=new w,v=()=>{const l=Promise.resolve(void 0);M=()=>{l.then(I)}};function I(){for(var l;l=_();){try{l.h.call(l.g)}catch(g){R(g)}var d=E;d.j(l),d.h<100&&(d.h++,l.next=d.g,d.g=l)}L=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,d),o.removeEventListener("test",g,d)}catch{}return l}();function P(l){return/^[\s\xa0]*$/.test(l)}function De(l,d){b.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,d)}f(De,b),De.prototype.init=function(l,d){const g=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget,d||(g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement)),this.relatedTarget=d,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var sn="closure_listenable_"+(Math.random()*1e6|0),_i=0;function Re(l,d,g,x,D){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!x,this.ha=D,this.key=++_i,this.da=this.fa=!1}function z(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function K(l,d,g){for(const x in l)d.call(g,l[x],x,l)}function X(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function ve(l){const d={};for(const g in l)d[g]=l[g];return d}const be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jr(l,d){let g,x;for(let D=1;D<arguments.length;D++){x=arguments[D];for(g in x)l[g]=x[g];for(let j=0;j<be.length;j++)g=be[j],Object.prototype.hasOwnProperty.call(x,g)&&(l[g]=x[g])}}function Dt(l){this.src=l,this.g={},this.h=0}Dt.prototype.add=function(l,d,g,x,D){const j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);const U=Ht(l,d,x,D);return U>-1?(d=l[U],g||(d.fa=!1)):(d=new Re(d,this.src,j,!!x,D),d.fa=g,l.push(d)),d};function Lr(l,d){const g=d.type;if(g in l.g){var x=l.g[g],D=Array.prototype.indexOf.call(x,d,void 0),j;(j=D>=0)&&Array.prototype.splice.call(x,D,1),j&&(z(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Ht(l,d,g,x){for(let D=0;D<l.length;++D){const j=l[D];if(!j.da&&j.listener==d&&j.capture==!!g&&j.ha==x)return D}return-1}var Wn="closure_lm_"+(Math.random()*1e6|0),xc={};function Hm(l,d,g,x,D){if(Array.isArray(d)){for(let j=0;j<d.length;j++)Hm(l,d[j],g,x,D);return null}return g=Gm(g),l&&l[sn]?l.J(d,g,a(x)?!!x.capture:!1,D):tI(l,d,g,!1,x,D)}function tI(l,d,g,x,D,j){if(!d)throw Error("Invalid event type");const U=a(D)?!!D.capture:!!D;let Z=Tc(l);if(Z||(l[Wn]=Z=new Dt(l)),g=Z.add(d,g,x,U,j),g.proxy)return g;if(x=nI(),g.proxy=x,x.src=l,x.listener=g,l.addEventListener)V||(D=U),D===void 0&&(D=!1),l.addEventListener(d.toString(),x,D);else if(l.attachEvent)l.attachEvent(Km(d.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function nI(){function l(g){return d.call(l.src,l.listener,g)}const d=rI;return l}function qm(l,d,g,x,D){if(Array.isArray(d))for(var j=0;j<d.length;j++)qm(l,d[j],g,x,D);else x=a(x)?!!x.capture:!!x,g=Gm(g),l&&l[sn]?(l=l.i,j=String(d).toString(),j in l.g&&(d=l.g[j],g=Ht(d,g,x,D),g>-1&&(z(d[g]),Array.prototype.splice.call(d,g,1),d.length==0&&(delete l.g[j],l.h--)))):l&&(l=Tc(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Ht(d,g,x,D)),(g=l>-1?d[l]:null)&&Ec(g))}function Ec(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[sn])Lr(d.i,l);else{var g=l.type,x=l.proxy;d.removeEventListener?d.removeEventListener(g,x,l.capture):d.detachEvent?d.detachEvent(Km(g),x):d.addListener&&d.removeListener&&d.removeListener(x),(g=Tc(d))?(Lr(g,l),g.h==0&&(g.src=null,d[Wn]=null)):z(l)}}}function Km(l){return l in xc?xc[l]:xc[l]="on"+l}function rI(l,d){if(l.da)l=!0;else{d=new De(d,this);const g=l.listener,x=l.ha||l.src;l.fa&&Ec(l),l=g.call(x,d)}return l}function Tc(l){return l=l[Wn],l instanceof Dt?l:null}var Sc="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gm(l){return typeof l=="function"?l:(l[Sc]||(l[Sc]=function(d){return l.handleEvent(d)}),l[Sc])}function tt(){C.call(this),this.i=new Dt(this),this.M=this,this.G=null}f(tt,C),tt.prototype[sn]=!0,tt.prototype.removeEventListener=function(l,d,g,x){qm(this,l,d,g,x)};function ht(l,d){var g,x=l.G;if(x)for(g=[];x;x=x.G)g.push(x);if(l=l.M,x=d.type||d,typeof d=="string")d=new b(d,l);else if(d instanceof b)d.target=d.target||l;else{var D=d;d=new b(x,l),jr(d,D)}D=!0;let j,U;if(g)for(U=g.length-1;U>=0;U--)j=d.g=g[U],D=Ra(j,x,!0,d)&&D;if(j=d.g=l,D=Ra(j,x,!0,d)&&D,D=Ra(j,x,!1,d)&&D,g)for(U=0;U<g.length;U++)j=d.g=g[U],D=Ra(j,x,!1,d)&&D}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var l=this.i;for(const d in l.g){const g=l.g[d];for(let x=0;x<g.length;x++)z(g[x]);delete l.g[d],l.h--}}this.G=null},tt.prototype.J=function(l,d,g,x){return this.i.add(String(l),d,!1,g,x)},tt.prototype.K=function(l,d,g,x){return this.i.add(String(l),d,!0,g,x)};function Ra(l,d,g,x){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let j=0;j<d.length;++j){const U=d[j];if(U&&!U.da&&U.capture==g){const Z=U.listener,Fe=U.ha||U.src;U.fa&&Lr(l.i,U),D=Z.call(Fe,x)!==!1&&D}}return D&&!x.defaultPrevented}function iI(l,d){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(l,d||0)}function Qm(l){l.g=iI(()=>{l.g=null,l.i&&(l.i=!1,Qm(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class sI extends C{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Qm(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(l){C.call(this),this.h=l,this.g={}}f(ks,C);var Ym=[];function Xm(l){K(l.g,function(d,g){this.g.hasOwnProperty(g)&&Ec(d)},l),l.g={}}ks.prototype.N=function(){ks.Z.N.call(this),Xm(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ic=o.JSON.stringify,oI=o.JSON.parse,aI=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Jm(){}function Zm(){}var Ns={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ac(){b.call(this,"d")}f(Ac,b);function Cc(){b.call(this,"c")}f(Cc,b);var Or={},eg=null;function ba(){return eg=eg||new tt}Or.Ia="serverreachability";function tg(l){b.call(this,Or.Ia,l)}f(tg,b);function Vs(l){const d=ba();ht(d,new tg(d))}Or.STAT_EVENT="statevent";function ng(l,d){b.call(this,Or.STAT_EVENT,l),this.stat=d}f(ng,b);function dt(l){const d=ba();ht(d,new ng(d,l))}Or.Ja="timingevent";function rg(l,d){b.call(this,Or.Ja,l),this.size=d}f(rg,b);function Ds(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},d)}function Ms(){this.g=!0}Ms.prototype.ua=function(){this.g=!1};function lI(l,d,g,x,D,j){l.info(function(){if(l.g)if(j){var U="",Z=j.split("&");for(let ue=0;ue<Z.length;ue++){var Fe=Z[ue].split("=");if(Fe.length>1){const $e=Fe[0];Fe=Fe[1];const an=$e.split("_");U=an.length>=2&&an[1]=="type"?U+($e+"="+Fe+"&"):U+($e+"=redacted&")}}}else U=null;else U=j;return"XMLHTTP REQ ("+x+") [attempt "+D+"]: "+d+`
`+g+`
`+U})}function uI(l,d,g,x,D,j,U){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+D+"]: "+d+`
`+g+`
`+j+" "+U})}function xi(l,d,g,x){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+hI(l,g)+(x?" "+x:"")})}function cI(l,d){l.info(function(){return"TIMEOUT: "+d})}Ms.prototype.info=function(){};function hI(l,d){if(!l.g)return d;if(!d)return null;try{const j=JSON.parse(d);if(j){for(l=0;l<j.length;l++)if(Array.isArray(j[l])){var g=j[l];if(!(g.length<2)){var x=g[1];if(Array.isArray(x)&&!(x.length<1)){var D=x[0];if(D!="noop"&&D!="stop"&&D!="close")for(let U=1;U<x.length;U++)x[U]=""}}}}return Ic(j)}catch{return d}}var ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ig={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sg;function Pc(){}f(Pc,Jm),Pc.prototype.g=function(){return new XMLHttpRequest},sg=new Pc;function js(l){return encodeURIComponent(String(l))}function dI(l){var d=1;l=l.split(":");const g=[];for(;d>0&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function Hn(l,d,g,x){this.j=l,this.i=d,this.l=g,this.S=x||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new og}function og(){this.i=null,this.g="",this.h=!1}var ag={},Rc={};function bc(l,d,g){l.M=1,l.A=Va(on(d)),l.u=g,l.R=!0,lg(l,null)}function lg(l,d){l.F=Date.now(),Na(l),l.B=on(l.A);var g=l.B,x=l.S;Array.isArray(x)||(x=[String(x)]),xg(g.i,"t",x),l.C=0,g=l.j.L,l.h=new og,l.g=Fg(l.j,g?d:null,!l.u),l.P>0&&(l.O=new sI(c(l.Y,l,l.g),l.P)),d=l.V,g=l.g,x=l.ba;var D="readystatechange";Array.isArray(D)||(D&&(Ym[0]=D.toString()),D=Ym);for(let j=0;j<D.length;j++){const U=Hm(g,D[j],x||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=l.J?ve(l.J):{},l.u?(l.v||(l.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,d)):(l.v="GET",l.g.ea(l.B,l.v,null,d)),Vs(),lI(l.i,l.v,l.B,l.l,l.S,l.u)}Hn.prototype.ba=function(l){l=l.target;const d=this.O;d&&Gn(l)==3?d.j():this.Y(l)},Hn.prototype.Y=function(l){try{if(l==this.g)e:{const Z=Gn(this.g),Fe=this.g.ya(),ue=this.g.ca();if(!(Z<3)&&(Z!=3||this.g&&(this.h.h||this.g.la()||Pg(this.g)))){this.K||Z!=4||Fe==7||(Fe==8||ue<=0?Vs(3):Vs(2)),kc(this);var d=this.g.ca();this.X=d;var g=fI(this);if(this.o=d==200,uI(this.i,this.v,this.B,this.l,this.S,Z,d),this.o){if(this.U&&!this.L){t:{if(this.g){var x,D=this.g;if((x=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(x)){var j=x;break t}}j=null}if(l=j)xi(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nc(this,l);else{this.o=!1,this.m=3,dt(12),Fr(this),Ls(this);break e}}if(this.R){l=!0;let $e;for(;!this.K&&this.C<g.length;)if($e=pI(this,g),$e==Rc){Z==4&&(this.m=4,dt(14),l=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if($e==ag){this.m=4,dt(15),xi(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else xi(this.i,this.l,$e,null),Nc(this,$e);if(ug(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Z!=4||g.length!=0||this.h.h||(this.m=1,dt(16),l=!1),this.o=this.o&&l,!l)xi(this.i,this.l,g,"[Invalid Chunked Response]"),Fr(this),Ls(this);else if(g.length>0&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.aa&&!U.P&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Bc(U),U.P=!0,dt(11))}}else xi(this.i,this.l,g,null),Nc(this,g);Z==4&&Fr(this),this.o&&!this.K&&(Z==4?Mg(this.j,this):(this.o=!1,Na(this)))}else PI(this.g),d==400&&g.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),Fr(this),Ls(this)}}}catch{}finally{}};function fI(l){if(!ug(l))return l.g.la();const d=Pg(l.g);if(d==="")return"";let g="";const x=d.length,D=Gn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Fr(l),Ls(l),"";l.h.i=new o.TextDecoder}for(let j=0;j<x;j++)l.h.h=!0,g+=l.h.i.decode(d[j],{stream:!(D&&j==x-1)});return d.length=0,l.h.g+=g,l.C=0,l.h.g}function ug(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function pI(l,d){var g=l.C,x=d.indexOf(`
`,g);return x==-1?Rc:(g=Number(d.substring(g,x)),isNaN(g)?ag:(x+=1,x+g>d.length?Rc:(d=d.slice(x,x+g),l.C=x+g,d)))}Hn.prototype.cancel=function(){this.K=!0,Fr(this)};function Na(l){l.T=Date.now()+l.H,cg(l,l.H)}function cg(l,d){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Ds(c(l.aa,l),d)}function kc(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Hn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(cI(this.i,this.B),this.M!=2&&(Vs(),dt(17)),Fr(this),this.m=2,Ls(this)):cg(this,this.T-l)};function Ls(l){l.j.I==0||l.K||Mg(l.j,l)}function Fr(l){kc(l);var d=l.O;d&&typeof d.dispose=="function"&&d.dispose(),l.O=null,Xm(l.V),l.g&&(d=l.g,l.g=null,d.abort(),d.dispose())}function Nc(l,d){try{var g=l.j;if(g.I!=0&&(g.g==l||Vc(g.h,l))){if(!l.L&&Vc(g.h,l)&&g.I==3){try{var x=g.Ba.g.parse(d)}catch{x=null}if(Array.isArray(x)&&x.length==3){var D=x;if(D[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Oa(g),ja(g);else break e;Fc(g),dt(18)}}else g.xa=D[1],0<g.xa-g.K&&D[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Ds(c(g.Va,g),6e3));fg(g.h)<=1&&g.ta&&(g.ta=void 0)}else Ur(g,11)}else if((l.L||g.g==l)&&Oa(g),!P(d))for(D=g.Ba.g.parse(d),d=0;d<D.length;d++){let ue=D[d];const $e=ue[0];if(!($e<=g.K))if(g.K=$e,ue=ue[1],g.I==2)if(ue[0]=="c"){g.M=ue[1],g.ba=ue[2];const an=ue[3];an!=null&&(g.ka=an,g.j.info("VER="+g.ka));const zr=ue[4];zr!=null&&(g.za=zr,g.j.info("SVER="+g.za));const Qn=ue[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(x=1.5*Qn,g.O=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const Yn=l.g;if(Yn){const Ba=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var j=x.h;j.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Dc(j,j.h),j.h=null))}if(x.G){const Uc=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uc&&(x.wa=Uc,fe(x.J,x.G,Uc))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),x=g;var U=l;if(x.na=Og(x,x.L?x.ba:null,x.W),U.L){pg(x.h,U);var Z=U,Fe=x.O;Fe&&(Z.H=Fe),Z.D&&(kc(Z),Na(Z)),x.g=U}else Vg(x);g.i.length>0&&La(g)}else ue[0]!="stop"&&ue[0]!="close"||Ur(g,7);else g.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Ur(g,7):Oc(g):ue[0]!="noop"&&g.l&&g.l.qa(ue),g.A=0)}}Vs(4)}catch{}}var mI=class{constructor(l,d){this.g=l,this.map=d}};function hg(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function fg(l){return l.h?1:l.g?l.g.size:0}function Vc(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Dc(l,d){l.g?l.g.add(d):l.h=d}function pg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}hg.prototype.cancel=function(){if(this.i=mg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function mg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.G);return d}return y(l.i)}var gg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gI(l,d){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const x=l[g].indexOf("=");let D,j=null;x>=0?(D=l[g].substring(0,x),j=l[g].substring(x+1)):D=l[g],d(D,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function qn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;l instanceof qn?(this.l=l.l,Os(this,l.j),this.o=l.o,this.g=l.g,Fs(this,l.u),this.h=l.h,Mc(this,Eg(l.i)),this.m=l.m):l&&(d=String(l).match(gg))?(this.l=!1,Os(this,d[1]||"",!0),this.o=Bs(d[2]||""),this.g=Bs(d[3]||"",!0),Fs(this,d[4]),this.h=Bs(d[5]||"",!0),Mc(this,d[6]||"",!0),this.m=Bs(d[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}qn.prototype.toString=function(){const l=[];var d=this.j;d&&l.push(Us(d,yg,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Us(d,yg,!0),"@"),l.push(js(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Us(g,g.charAt(0)=="/"?wI:vI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Us(g,xI)),l.join("")},qn.prototype.resolve=function(l){const d=on(this);let g=!!l.j;g?Os(d,l.j):g=!!l.o,g?d.o=l.o:g=!!l.g,g?d.g=l.g:g=l.u!=null;var x=l.h;if(g)Fs(d,l.u);else if(g=!!l.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var D=d.h.lastIndexOf("/");D!=-1&&(x=d.h.slice(0,D+1)+x)}if(D=x,D==".."||D==".")x="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){x=D.lastIndexOf("/",0)==0,D=D.split("/");const j=[];for(let U=0;U<D.length;){const Z=D[U++];Z=="."?x&&U==D.length&&j.push(""):Z==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),x&&U==D.length&&j.push("")):(j.push(Z),x=!0)}x=j.join("/")}else x=D}return g?d.h=x:g=l.i.toString()!=="",g?Mc(d,Eg(l.i)):g=!!l.m,g&&(d.m=l.m),d};function on(l){return new qn(l)}function Os(l,d,g){l.j=g?Bs(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Fs(l,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);l.u=d}else l.u=null}function Mc(l,d,g){d instanceof zs?(l.i=d,EI(l.i,l.l)):(g||(d=Us(d,_I)),l.i=new zs(d,l.l))}function fe(l,d,g){l.i.set(d,g)}function Va(l){return fe(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Bs(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Us(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,yI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function yI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var yg=/[#\/\?@]/g,vI=/[#\?:]/g,wI=/[#\?]/g,_I=/[#\?@]/g,xI=/#/g;function zs(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Br(l){l.g||(l.g=new Map,l.h=0,l.i&&gI(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=zs.prototype,t.add=function(l,d){Br(this),this.i=null,l=Ei(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function vg(l,d){Br(l),d=Ei(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wg(l,d){return Br(l),d=Ei(l,d),l.g.has(d)}t.forEach=function(l,d){Br(this),this.g.forEach(function(g,x){g.forEach(function(D){l.call(d,D,x,this)},this)},this)};function _g(l,d){Br(l);let g=[];if(typeof d=="string")wg(l,d)&&(g=g.concat(l.g.get(Ei(l,d))));else for(l=Array.from(l.g.values()),d=0;d<l.length;d++)g=g.concat(l[d]);return g}t.set=function(l,d){return Br(this),this.i=null,l=Ei(this,l),wg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=_g(this,l),l.length>0?String(l[0]):d):d};function xg(l,d,g){vg(l,d),g.length>0&&(l.i=null,l.g.set(Ei(l,d),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(let x=0;x<d.length;x++){var g=d[x];const D=js(g);g=_g(this,g);for(let j=0;j<g.length;j++){let U=D;g[j]!==""&&(U+="="+js(g[j])),l.push(U)}}return this.i=l.join("&")};function Eg(l){const d=new zs;return d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),d}function Ei(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function EI(l,d){d&&!l.j&&(Br(l),l.i=null,l.g.forEach(function(g,x){const D=x.toLowerCase();x!=D&&(vg(this,x),xg(this,D,g))},l)),l.j=d}function TI(l,d){const g=new Ms;if(o.Image){const x=new Image;x.onload=h(Kn,g,"TestLoadImage: loaded",!0,d,x),x.onerror=h(Kn,g,"TestLoadImage: error",!1,d,x),x.onabort=h(Kn,g,"TestLoadImage: abort",!1,d,x),x.ontimeout=h(Kn,g,"TestLoadImage: timeout",!1,d,x),o.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else d(!1)}function SI(l,d){const g=new Ms,x=new AbortController,D=setTimeout(()=>{x.abort(),Kn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:x.signal}).then(j=>{clearTimeout(D),j.ok?Kn(g,"TestPingServer: ok",!0,d):Kn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Kn(g,"TestPingServer: error",!1,d)})}function Kn(l,d,g,x,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),x(g)}catch{}}function II(){this.g=new aI}function jc(l){this.i=l.Sb||null,this.h=l.ab||!1}f(jc,Jm),jc.prototype.g=function(){return new Da(this.i,this.h)};function Da(l,d){tt.call(this),this.H=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Da,tt),t=Da.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=d,this.readyState=1,Ws(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(d.body=l),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tg(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tg(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?$s(this):Ws(this),this.readyState==3&&Tg(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,$s(this))},t.Na=function(l){this.g&&(this.response=l,$s(this))},t.ga=function(){this.g&&$s(this)};function $s(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Ws(l)}t.setRequestHeader=function(l,d){this.A.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Ws(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Sg(l){let d="";return K(l,function(g,x){d+=x,d+=":",d+=g,d+=`\r
`}),d}function Lc(l,d,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=Sg(g),typeof l=="string"?g!=null&&js(g):fe(l,d,g))}function Ae(l){tt.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ae,tt);var AI=/^https?$/i,CI=["POST","PUT"];t=Ae.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,d,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sg.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){Ig(this,j);return}if(l=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var D in x)g.set(D,x[D]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const j of x.keys())g.set(j,x.get(j));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),D=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(CI,d,void 0)>=0)||x||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,U]of g)this.g.setRequestHeader(j,U);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(j){Ig(this,j)}};function Ig(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.o=5,Ag(l),Ma(l)}function Ag(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,ht(this,"complete"),ht(this,"abort"),Ma(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ma(this,!0)),Ae.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Cg(this):this.Xa())},t.Xa=function(){Cg(this)};function Cg(l){if(l.h&&typeof s<"u"){if(l.v&&Gn(l)==4)setTimeout(l.Ca.bind(l),0);else if(ht(l,"readystatechange"),Gn(l)==4){l.h=!1;try{const j=l.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var x;if(x=j===0){let U=String(l.D).match(gg)[1]||null;!U&&o.self&&o.self.location&&(U=o.self.location.protocol.slice(0,-1)),x=!AI.test(U?U.toLowerCase():"")}g=x}if(g)ht(l,"complete"),ht(l,"success");else{l.o=6;try{var D=Gn(l)>2?l.g.statusText:""}catch{D=""}l.l=D+" ["+l.ca()+"]",Ag(l)}}finally{Ma(l)}}}}function Ma(l,d){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,d||ht(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gn(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),oI(d)}};function Pg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function PI(l){const d={};l=(l.g&&Gn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(P(l[x]))continue;var g=dI(l[x]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=d[D]||[];d[D]=j,j.push(g)}X(d,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function Rg(l){this.za=0,this.i=[],this.j=new Ms,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hs("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hs("baseRetryDelayMs",5e3,l),this.Za=Hs("retryDelaySeedMs",1e4,l),this.Ta=Hs("forwardChannelMaxRetries",2,l),this.va=Hs("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new hg(l&&l.concurrentRequestLimit),this.Ba=new II,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Rg.prototype,t.ka=8,t.I=1,t.connect=function(l,d,g,x){dt(0),this.W=l,this.H=d||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.J=Og(this,null,this.W),La(this)};function Oc(l){if(bg(l),l.I==3){var d=l.V++,g=on(l.J);if(fe(g,"SID",l.M),fe(g,"RID",d),fe(g,"TYPE","terminate"),qs(l,g),d=new Hn(l,l.j,d),d.M=2,d.A=Va(on(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=d.A,g=!0),g||(d.g=Fg(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Na(d)}Lg(l)}function ja(l){l.g&&(Bc(l),l.g.cancel(),l.g=null)}function bg(l){ja(l),l.v&&(o.clearTimeout(l.v),l.v=null),Oa(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function La(l){if(!dg(l.h)&&!l.m){l.m=!0;var d=l.Ea;M||v(),L||(M(),L=!0),T.add(d,l),l.D=0}}function RI(l,d){return fg(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=d.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Ds(c(l.Ea,l,d),jg(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const D=new Hn(this,this.j,l);let j=this.o;if(this.U&&(j?(j=ve(j),jr(j,this.U)):j=this.U),this.u!==null||this.R||(D.J=j,j=null),this.S)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(d+=x,d>4096){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Ng(this,D,d),g=on(this.J),fe(g,"RID",l),fe(g,"CVER",22),this.G&&fe(g,"X-HTTP-Session-Id",this.G),qs(this,g),j&&(this.R?d="headers="+js(Sg(j))+"&"+d:this.u&&Lc(g,this.u,j)),Dc(this.h,D),this.Ra&&fe(g,"TYPE","init"),this.S?(fe(g,"$req",d),fe(g,"SID","null"),D.U=!0,bc(D,g,null)):bc(D,g,d),this.I=2}}else this.I==3&&(l?kg(this,l):this.i.length==0||dg(this.h)||kg(this))};function kg(l,d){var g;d?g=d.l:g=l.V++;const x=on(l.J);fe(x,"SID",l.M),fe(x,"RID",g),fe(x,"AID",l.K),qs(l,x),l.u&&l.o&&Lc(x,l.u,l.o),g=new Hn(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),d&&(l.i=d.G.concat(l.i)),d=Ng(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Dc(l.h,g),bc(g,x,d)}function qs(l,d){l.H&&K(l.H,function(g,x){fe(d,x,g)}),l.l&&K({},function(g,x){fe(d,x,g)})}function Ng(l,d,g){g=Math.min(l.i.length,g);const x=l.l?c(l.l.Ka,l.l,l):null;e:{var D=l.i;let Z=-1;for(;;){const Fe=["count="+g];Z==-1?g>0?(Z=D[0].g,Fe.push("ofs="+Z)):Z=0:Fe.push("ofs="+Z);let ue=!0;for(let $e=0;$e<g;$e++){var j=D[$e].g;const an=D[$e].map;if(j-=Z,j<0)Z=Math.max(0,D[$e].g-100),ue=!1;else try{j="req"+j+"_"||"";try{var U=an instanceof Map?an:Object.entries(an);for(const[zr,Qn]of U){let Yn=Qn;a(Qn)&&(Yn=Ic(Qn)),Fe.push(j+zr+"="+encodeURIComponent(Yn))}}catch(zr){throw Fe.push(j+"type="+encodeURIComponent("_badmap")),zr}}catch{x&&x(an)}}if(ue){U=Fe.join("&");break e}}U=void 0}return l=l.i.splice(0,g),d.G=l,U}function Vg(l){if(!l.g&&!l.v){l.Y=1;var d=l.Da;M||v(),L||(M(),L=!0),T.add(d,l),l.A=0}}function Fc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Ds(c(l.Da,l),jg(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Dg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Ds(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),ja(this),Dg(this))};function Bc(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Dg(l){l.g=new Hn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var d=on(l.na);fe(d,"RID","rpc"),fe(d,"SID",l.M),fe(d,"AID",l.K),fe(d,"CI",l.F?"0":"1"),!l.F&&l.ia&&fe(d,"TO",l.ia),fe(d,"TYPE","xmlhttp"),qs(l,d),l.u&&l.o&&Lc(d,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Va(on(d)),g.u=null,g.R=!0,lg(g,l)}t.Va=function(){this.C!=null&&(this.C=null,ja(this),Fc(this),dt(19))};function Oa(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Mg(l,d){var g=null;if(l.g==d){Oa(l),Bc(l),l.g=null;var x=2}else if(Vc(l.h,d))g=d.G,pg(l.h,d),x=1;else return;if(l.I!=0){if(d.o)if(x==1){g=d.u?d.u.length:0,d=Date.now()-d.F;var D=l.D;x=ba(),ht(x,new rg(x,g)),La(l)}else Vg(l);else if(D=d.m,D==3||D==0&&d.X>0||!(x==1&&RI(l,d)||x==2&&Fc(l)))switch(g&&g.length>0&&(d=l.h,d.i=d.i.concat(g)),D){case 1:Ur(l,5);break;case 4:Ur(l,10);break;case 3:Ur(l,6);break;default:Ur(l,2)}}}function jg(l,d){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*d}function Ur(l,d){if(l.j.info("Error code "+d),d==2){var g=c(l.bb,l),x=l.Ua;const D=!x;x=new qn(x||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Os(x,"https"),Va(x),D?TI(x.toString(),g):SI(x.toString(),g)}else dt(2);l.I=0,l.l&&l.l.pa(d),Lg(l),bg(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Lg(l){if(l.I=0,l.ja=[],l.l){const d=mg(l.h);(d.length!=0||l.i.length!=0)&&(S(l.ja,d),S(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function Og(l,d,g){var x=g instanceof qn?on(g):new qn(g);if(x.g!="")d&&(x.g=d+"."+x.g),Fs(x,x.u);else{var D=o.location;x=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;const j=new qn(null);x&&Os(j,x),d&&(j.g=d),D&&Fs(j,D),g&&(j.h=g),x=j}return g=l.G,d=l.wa,g&&d&&fe(x,g,d),fe(x,"VER",l.ka),qs(l,x),x}function Fg(l,d,g){if(d&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Aa&&!l.ma?new Ae(new jc({ab:g})):new Ae(l.ma),d.Fa(l.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bg(){}t=Bg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fa(){}Fa.prototype.g=function(l,d){return new St(l,d)};function St(l,d){tt.call(this),this.g=new Rg(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(l?l["X-WebChannel-Client-Profile"]=d.sa:l={"X-WebChannel-Client-Profile":d.sa}),this.g.U=l,(l=d&&d.Qb)&&!P(l)&&(this.g.u=l),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!P(d)&&(this.g.G=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ti(this)}f(St,tt),St.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Oc(this.g)},St.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Ic(l),l=g);d.i.push(new mI(d.Ya++,l)),d.I==3&&La(d)},St.prototype.N=function(){this.g.l=null,delete this.j,Oc(this.g),delete this.g,St.Z.N.call(this)};function Ug(l){Ac.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}f(Ug,Ac);function zg(){Cc.call(this),this.status=1}f(zg,Cc);function Ti(l){this.g=l}f(Ti,Bg),Ti.prototype.ra=function(){ht(this.g,"a")},Ti.prototype.qa=function(l){ht(this.g,new Ug(l))},Ti.prototype.pa=function(l){ht(this.g,new zg)},Ti.prototype.oa=function(){ht(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,lT=function(){return new Fa},aT=function(){return ba()},oT=Or,rf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Vl=ka,ig.COMPLETE="complete",sT=ig,Zm.EventType=Ns,Ns.OPEN="a",Ns.CLOSE="b",Ns.ERROR="c",Ns.MESSAGE="d",tt.prototype.listen=tt.prototype.J,co=Zm,Ae.prototype.listenOnce=Ae.prototype.K,Ae.prototype.getLastError=Ae.prototype.Ha,Ae.prototype.getLastErrorCode=Ae.prototype.ya,Ae.prototype.getStatus=Ae.prototype.ca,Ae.prototype.getResponseJson=Ae.prototype.La,Ae.prototype.getResponseText=Ae.prototype.la,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Fa,iT=Ae}).apply(typeof ul<"u"?ul:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",V0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new rm("@firebase/firestore");function Ii(){return ui.logLevel}function $(t,...e){if(ui.logLevel<=se.DEBUG){const n=e.map(sm);ui.debug(`Firestore (${As}): ${t}`,...n)}}function Bn(t,...e){if(ui.logLevel<=se.ERROR){const n=e.map(sm);ui.error(`Firestore (${As}): ${t}`,...n)}}function fs(t,...e){if(ui.logLevel<=se.WARN){const n=e.map(sm);ui.warn(`Firestore (${As}): ${t}`,...n)}}function sm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uT(t,r,n)}function uT(t,e,n){let r=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bn(r),new Error(r)}function ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||uT(e,i,r)}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}}class m4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g4{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ae(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new cT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new ot(e)}}class y4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,e4(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ae(this.o===void 0,3512);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function sf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Vh(i)===Vh(s)?ne(i,s):Vh(i)?1:-1}return ne(t.length,e.length)}const x4=55296,E4=57343;function Vh(t){const e=t.charCodeAt(0);return e>=x4&&e<=E4}function ps(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__name__";class cn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=cn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ne(e.length,n.length)}static compareSegments(e,n){const r=cn.isNumericId(e),i=cn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?cn.extractNumericId(e).compare(cn.extractNumericId(n)):sf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class he extends cn{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const T4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends cn{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return T4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new Xe([M0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(he.fromString(e))}static fromName(e){return new q(he.fromString(e).popFirst(5))}static empty(){return new q(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new he(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e,n){if(!n)throw new W(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S4(t,e,n,r){if(e===!0&&r===!0)throw new W(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j0(t){if(!q.isDocumentKey(t))throw new W(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L0(t){if(q.isDocumentKey(t))throw new W(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function wu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sc(t);throw new W(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ta(t,e){if(!dT(t))throw new W(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new W(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-62135596800,F0=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F0);return new me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O0)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ta(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Oe("string",me._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static fromTimestamp(e){return new Y(e)}static min(){return new Y(new me(0,0))}static max(){return new Y(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=-1;function I4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new Sr(i,q.empty(),e)}function A4(t){return new Sr(t.readTime,t.key,ra)}class Sr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Sr(Y.min(),q.empty(),ra)}static max(){return new Sr(Y.max(),q.empty(),ra)}}function C4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==P4)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function b4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ps(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=-1;function ac(t){return t==null}function _u(t){return t===0&&1/t==-1/0}function k4(t){return typeof t=="number"&&Number.isInteger(t)&&!_u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="";function N4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=B0(e)),e=V4(t.get(n),e);return B0(e)}function V4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case fT:n+="";break;default:n+=s}}return n}function B0(t){return t+fT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cl(this.root,e,this.comparator,!0)}}class cl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=s??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new ze(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mT("Invalid base64 string: "+s):s}}(e);return new et(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const D4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(ae(!!t,39018),typeof t=="string"){let e=0;const n=D4.exec(t);if(ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ar(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",yT="__type__",vT="__previous_value__",wT="__local_write_time__";function lm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yT])==null?void 0:r.stringValue)===gT}function lc(t){const e=t.mapValue.fields[vT];return lm(e)?lc(e):e}function ia(t){const e=Ir(t.mapValue.fields[wT].timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i,s,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const xu="(default)";class sa{constructor(e,n){this.projectId=e,this.database=n||xu}static empty(){return new sa("","")}get isDefaultDatabase(){return this.database===xu}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__type__",j4="__max__",hl={mapValue:{}},xT="__vector__",Eu="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lm(t)?4:O4(t)?9007199254740991:L4(t)?10:11:Q(28295,{value:t})}function xn(t,e){if(t===e)return!0;const n=Cr(t);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ia(t).isEqual(ia(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ir(i.timestampValue),a=Ir(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ar(i.bytesValue).isEqual(Ar(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ne(i.doubleValue),a=Ne(s.doubleValue);return o===a?_u(o)===_u(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ps(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(U0(o)!==U0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!xn(o[u],a[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function oa(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function ms(t,e){if(t===e)return 0;const n=Cr(t),r=Cr(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ne(s.integerValue||s.doubleValue),u=Ne(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return $0(t.timestampValue,e.timestampValue);case 4:return $0(ia(t),ia(e));case 5:return sf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ar(s),u=Ar(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ne(a[c],u[c]);if(h!==0)return h}return ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ne(Ne(s.latitude),Ne(o.latitude));return a!==0?a:ne(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var m,y,S,A;const a=s.fields||{},u=o.fields||{},c=(m=a[Eu])==null?void 0:m.arrayValue,h=(y=u[Eu])==null?void 0:y.arrayValue,f=ne(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return f!==0?f:W0(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===hl.mapValue&&o===hl.mapValue)return 0;if(s===hl.mapValue)return 1;if(o===hl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=sf(u[f],h[f]);if(m!==0)return m;const y=ms(a[u[f]],c[h[f]]);if(y!==0)return y}return ne(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function $0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);const n=Ir(t),r=Ir(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function W0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ms(n[i],r[i]);if(s)return s}return ne(n.length,r.length)}function gs(t){return of(t)}function of(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ar(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=of(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${of(n.fields[o])}`;return i+"}"}(t.mapValue):Q(61005,{value:t})}function Dl(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lc(t);return e?16+Dl(e):16;case 5:return 2*t.stringValue.length;case 6:return Ar(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Dl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return gi(r.fields,(s,o)=>{i+=s.length+Dl(o)}),i}(t.mapValue);default:throw Q(13486,{value:t})}}function H0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function af(t){return!!t&&"integerValue"in t}function um(t){return!!t&&"arrayValue"in t}function q0(t){return!!t&&"nullValue"in t}function K0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ml(t){return!!t&&"mapValue"in t}function L4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_T])==null?void 0:r.stringValue)===xT}function Po(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Po(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Po(t.arrayValue.values[n]);return e}return{...t}}function O4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===j4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ml(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Po(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ml(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ml(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(Po(this.value))}}function ET(t){const e=[];return gi(t.fields,(n,r)=>{const i=new Xe([n]);if(Ml(r)){const s=ET(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new lt(e,0,Y.min(),Y.min(),Y.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new lt(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new lt(e,2,n,Y.min(),Y.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new lt(e,3,n,Y.min(),Y.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.position=e,this.inclusive=n}}function G0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=ms(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n="asc"){this.field=e,this.dir=n}}function F4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{}class Le extends TT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U4(e,n,r):n==="array-contains"?new W4(e,r):n==="in"?new H4(e,r):n==="not-in"?new q4(e,r):n==="array-contains-any"?new K4(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z4(e,r):new $4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ms(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends TT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new nn(e,n)}matches(e){return ST(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ST(t){return t.op==="and"}function IT(t){return B4(t)&&ST(t)}function B4(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}function lf(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+gs(t.value);if(IT(t))return t.filters.map(e=>lf(e)).join(",");{const e=t.filters.map(n=>lf(n)).join(",");return`${t.op}(${e})`}}function AT(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)}(t,e):t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&AT(o,i.filters[a]),!0):!1}(t,e):void Q(19439)}function CT(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${gs(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(CT).join(" ,")+"}"}(t):"Filter"}class U4 extends Le{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class z4 extends Le{constructor(e,n){super(e,"in",n),this.keys=PT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $4 extends Le{constructor(e,n){super(e,"not-in",n),this.keys=PT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PT(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class W4 extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return um(n)&&oa(n.arrayValue,this.value)}}class H4 extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oa(this.value.arrayValue,n)}}class q4 extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oa(this.value.arrayValue,n)}}class K4 extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Y0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new G4(t,e,n,r,i,s,o)}function cm(t){const e=J(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gs(r)).join(",")),e.Te=n}return e.Te}function hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q0(t.startAt,e.startAt)&&Q0(t.endAt,e.endAt)}function uf(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q4(t,e,n,r,i,s,o,a){return new Sa(t,e,n,r,i,s,o,a)}function RT(t){return new Sa(t)}function X0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bT(t){return t.collectionGroup!==null}function Ro(t){const e=J(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ze(Xe.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Su(s,r))}),n.has(Xe.keyField().canonicalString())||e.Ie.push(new Su(Xe.keyField(),r))}return e.Ie}function yn(t){const e=J(t);return e.Ee||(e.Ee=Y4(e,Ro(t))),e.Ee}function Y4(t,e){if(t.limitType==="F")return Y0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Su(i.field,s)});const n=t.endAt?new Tu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tu(t.startAt.position,t.startAt.inclusive):null;return Y0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cf(t,e){const n=t.filters.concat([e]);return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hf(t,e,n){return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uc(t,e){return hm(yn(t),yn(e))&&t.limitType===e.limitType}function kT(t){return`${cm(yn(t))}|lt:${t.limitType}`}function Ai(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CT(i)).join(", ")}]`),ac(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gs(i)).join(",")),`Target(${r})`}(yn(t))}; limitType=${t.limitType})`}function cc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ro(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=G0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Ro(r),i)||r.endAt&&!function(o,a,u){const c=G0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Ro(r),i))}(t,e)}function X4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NT(t){return(e,n)=>{let r=!1;for(const i of Ro(t)){const s=J4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J4(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?ms(u,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new Ie(q.comparator);function Un(){return Z4}const VT=new Ie(q.comparator);function ho(...t){let e=VT;for(const n of t)e=e.insert(n.key,n);return e}function DT(t){let e=VT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zr(){return bo()}function MT(){return bo()}function bo(){return new yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const eM=new Ie(q.comparator),tM=new ze(q.comparator);function re(...t){let e=tM;for(const n of t)e=e.add(n);return e}const nM=new ze(ne);function rM(){return nM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_u(e)?"-0":e}}function jT(t){return{integerValue:""+t}}function iM(t,e){return k4(e)?jT(e):dm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this._=void 0}}function sM(t,e,n){return t instanceof aa?function(i,s){const o={fields:{[yT]:{stringValue:gT},[wT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lm(s)&&(s=lc(s)),s&&(o.fields[vT]=s),{mapValue:o}}(n,e):t instanceof la?OT(t,e):t instanceof ua?FT(t,e):function(i,s){const o=LT(i,s),a=J0(o)+J0(i.Ae);return af(o)&&af(i.Ae)?jT(a):dm(i.serializer,a)}(t,e)}function oM(t,e,n){return t instanceof la?OT(t,e):t instanceof ua?FT(t,e):n}function LT(t,e){return t instanceof Iu?function(r){return af(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class aa extends hc{}class la extends hc{constructor(e){super(),this.elements=e}}function OT(t,e){const n=BT(e);for(const r of t.elements)n.some(i=>xn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ua extends hc{constructor(e){super(),this.elements=e}}function FT(t,e){let n=BT(e);for(const r of t.elements)n=n.filter(i=>!xn(i,r));return{arrayValue:{values:n}}}class Iu extends hc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function J0(t){return Ne(t.integerValue||t.doubleValue)}function BT(t){return um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.field=e,this.transform=n}}function lM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof la&&i instanceof la||r instanceof ua&&i instanceof ua?ps(r.elements,i.elements,xn):r instanceof Iu&&i instanceof Iu?xn(r.Ae,i.Ae):r instanceof aa&&i instanceof aa}(t.transform,e.transform)}class uM{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dc{}function UT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $T(t.key,bn.none()):new Ia(t.key,t.data,bn.none());{const n=t.data,r=Ft.empty();let i=new ze(Xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vi(t.key,r,new Xt(i.toArray()),bn.none())}}function cM(t,e,n){t instanceof Ia?function(i,s,o){const a=i.value.clone(),u=ew(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vi?function(i,s,o){if(!jl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ew(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(zT(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ko(t,e,n,r){return t instanceof Ia?function(s,o,a,u){if(!jl(s.precondition,o))return a;const c=s.value.clone(),h=tw(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof vi?function(s,o,a,u){if(!jl(s.precondition,o))return a;const c=tw(s.fieldTransforms,u,o),h=o.data;return h.setAll(zT(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return jl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=LT(r.transform,i||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,s))}return n||null}function Z0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ps(r,i,(s,o)=>lM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ia extends dc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vi extends dc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ew(t,e,n){const r=new Map;ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oM(o,a,n[i]))}return r}function tw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sM(s,o,e))}return r}class $T extends dc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dM extends dc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ko(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ko(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=UT(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(n,r)=>Z0(n,r))&&ps(this.baseMutations,e.baseMutations,(n,r)=>Z0(n,r))}}class fm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return eM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,ie;function gM(t){switch(t){case O.OK:return Q(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function WT(t){if(t===void 0)return Bn("GRPC error has no .code"),O.UNKNOWN;switch(t){case Me.OK:return O.OK;case Me.CANCELLED:return O.CANCELLED;case Me.UNKNOWN:return O.UNKNOWN;case Me.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Me.INTERNAL:return O.INTERNAL;case Me.UNAVAILABLE:return O.UNAVAILABLE;case Me.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Me.NOT_FOUND:return O.NOT_FOUND;case Me.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Me.ABORTED:return O.ABORTED;case Me.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Me.DATA_LOSS:return O.DATA_LOSS;default:return Q(39323,{code:t})}}(ie=Me||(Me={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new gr([4294967295,4294967295],0);function nw(t){const e=yM().encode(t),n=new rT;return n.update(e),new Uint8Array(n.digest())}function rw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gr([n,r],0),new gr([i,s],0)]}class pm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fo(`Invalid padding: ${n}`);if(r<0)throw new fo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(gr.fromNumber(r)));return i.compare(vM)===1&&(i=new gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nw(e),[r,i]=rw(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new pm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=nw(e),[r,i]=rw(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fc(Y.min(),i,new Ie(ne),Un(),re())}}class Aa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Aa(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class HT{constructor(e,n){this.targetId=e,this.Ce=n}}class qT{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iw{constructor(){this.ve=0,this.Fe=sw(),this.Me=et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=re(),n=re(),r=re();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:s})}}),new Aa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=sw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Un(),this.Je=dl(),this.He=dl(),this.Ye=new Ie(ne)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(uf(s))if(r===0){const o=new q(s.path);this.et(n,o,lt.newNoDocument(o,Y.min()))}else ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ar(r).toUint8Array()}catch(u){if(u instanceof mT)return fs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pm(o,i,s)}catch(u){return fs(u instanceof fo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&uf(a.target)){const u=new q(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,lt.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=re();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new fc(e,n,this.Ye,this.je,r);return this.je=Un(),this.Je=dl(),this.He=dl(),this.Ye=new Ie(ne),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ze(ne),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ze(ne),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dl(){return new Ie(q.comparator)}function sw(){return new Ie(q.comparator)}const _M={asc:"ASCENDING",desc:"DESCENDING"},xM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EM={and:"AND",or:"OR"};class TM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function df(t,e){return t.useProto3Json||ac(e)?e:{value:e}}function Au(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SM(t,e){return Au(t,e.toTimestamp())}function vn(t){return ae(!!t,49232),Y.fromTimestamp(function(n){const r=Ir(n);return new me(r.seconds,r.nanos)}(t))}function mm(t,e){return ff(t,e).canonicalString()}function ff(t,e){const n=function(i){return new he(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GT(t){const e=he.fromString(t);return ae(ZT(e),10190,{key:e.toString()}),e}function pf(t,e){return mm(t.databaseId,e.path)}function Dh(t,e){const n=GT(e);if(n.get(1)!==t.databaseId.projectId)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(YT(n))}function QT(t,e){return mm(t.databaseId,e)}function IM(t){const e=GT(t);return e.length===4?he.emptyPath():YT(e)}function mf(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YT(t){return ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ow(t,e,n){return{name:pf(t,e),fields:n.value.mapValue.fields}}function AM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ae(h===void 0||typeof h=="string",58123),et.fromBase64String(h||"")):(ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?O.UNKNOWN:WT(c.code);return new W(h,c.message||"")}(o);n=new qT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dh(t,r.document.name),s=vn(r.document.updateTime),o=r.document.createTime?vn(r.document.createTime):Y.min(),a=new Ft({mapValue:{fields:r.document.fields}}),u=lt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Ll(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dh(t,r.document),s=r.readTime?vn(r.readTime):Y.min(),o=lt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ll([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dh(t,r.document),s=r.removedTargetIds||[];n=new Ll([],s,i,null)}else{if(!("filter"in e))return Q(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mM(i,s),a=r.targetId;n=new HT(a,o)}}return n}function CM(t,e){let n;if(e instanceof Ia)n={update:ow(t,e.key,e.value)};else if(e instanceof $T)n={delete:pf(t,e.key)};else if(e instanceof vi)n={update:ow(t,e.key,e.data),updateMask:jM(e.fieldMask)};else{if(!(e instanceof dM))return Q(16599,{Vt:e.type});n={verify:pf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof aa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof la)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ua)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Q(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:SM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(t,e.precondition)),n}function PM(t,e){return t&&t.length>0?(ae(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?vn(i.updateTime):vn(s);return o.isEqual(Y.min())&&(o=vn(s)),new uM(o,i.transformResults||[])}(n,e))):[]}function RM(t,e){return{documents:[QT(t,e.path)]}}function bM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QT(t,i);const s=function(c){if(c.length!==0)return JT(nn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Ci(m.field),direction:VM(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=df(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function kM(t){let e=IM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const m=XT(f);return m instanceof nn&&IT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new Su(Pi(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,ac(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,y=f.values||[];return new Tu(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,y=f.values||[];return new Tu(y,m)}(n.endAt)),Q4(e,i,o,s,a,"F",u,c)}function NM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pi(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pi(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pi(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pi(n.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Pi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>XT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function VM(t){return _M[t]}function DM(t){return xM[t]}function MM(t){return EM[t]}function Ci(t){return{fieldPath:t.canonicalString()}}function Pi(t){return Xe.fromServerFormat(t.fieldPath)}function JT(t){return t instanceof Le?function(n){if(n.op==="=="){if(K0(n.value))return{unaryFilter:{field:Ci(n.field),op:"IS_NAN"}};if(q0(n.value))return{unaryFilter:{field:Ci(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K0(n.value))return{unaryFilter:{field:Ci(n.field),op:"IS_NOT_NAN"}};if(q0(n.value))return{unaryFilter:{field:Ci(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ci(n.field),op:DM(n.op),value:n.value}}}(t):t instanceof nn?function(n){const r=n.getFilters().map(i=>JT(i));return r.length===1?r[0]:{compositeFilter:{op:MM(n.op),filters:r}}}(t):Q(54877,{filter:t})}function jM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,i,s=Y.min(),o=Y.min(),a=et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.yt=e}}function OM(t){const e=kM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.Cn=new BM}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Sr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class BM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eS=41943040;class vt{static withCacheSize(e){return new vt(e,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vt.DEFAULT_COLLECTION_PERCENTILE=10,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vt.DEFAULT=new vt(eS,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vt.DISABLED=new vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ys(0)}static cr(){return new ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="LruGarbageCollector",UM=1048576;function uw([t,e],[n,r]){const i=ne(t,n);return i===0?ne(e,r):i}class zM{constructor(e){this.Ir=e,this.buffer=new ze(uw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $M{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$(lw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ps(n)?$(lw,"Ignoring IndexedDB error during garbage collection: ",n):await Cs(n)}await this.Vr(3e5)})}}class WM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(oc.ce);const r=new zM(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(aw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ii()<=se.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function HM(t,e){return new WM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.changes=new yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ko(r.mutation,i,Xt.empty(),me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ho();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Un();const o=bo(),a=function(){return bo()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof vi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ko(h.mutation,c,h.mutation.getFieldMask(),me.now())):o.set(c.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new KM(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=bo();let i=new Ie((o,a)=>o-a),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Xt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=MT();h.forEach(m=>{if(!s.has(m)){const y=UT(n.get(m),r.get(m));y!==null&&f.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(Zr());let a=ra,u=s;return o.next(c=>F.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,re())).next(h=>({batchId:a,changes:DT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=ho();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ho();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,u=>{const c=function(f,m){return new Sa(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,lt.newInvalidDocument(h)))});let a=ho();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&ko(h.mutation,c,Xt.empty(),me.now()),cc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:OM(i.bundledQuery),readTime:vn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.overlays=new Ie(q.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zr();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Zr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ie((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Zr(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pM(n,r));let s=this.qr.get(n);s===void 0&&(s=re(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Qr=new ze(We.$r),this.Ur=new ze(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new We(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new We(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new q(new he([])),r=new We(n,e),i=new We(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new q(new he([])),r=new We(n,e),i=new We(n,e+1);let s=re();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new We(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class We{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return q.comparator(e.key,n.key)||ne(e.Yr,n.Yr)}static Kr(e,n){return ne(e.Yr,n.Yr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ze(We.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new We(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?am:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(ne);return n.forEach(i=>{const s=new We(i,0),o=new We(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new We(new q(s),0);let a=new ze(ne);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Yr)),!0)},o),F.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,i=>{const s=new We(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new We(n,0),i=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.ri=e,this.docs=function(){return new Ie(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(n))}getEntries(e,n){let r=Un();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():lt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Un();const o=n.path,a=new q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C4(A4(h),r)<=0||(i.has(h.key)||cc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ej(this)}getSize(e){return F.resolve(this.size)}}class ej extends qM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.persistence=e,this.si=new yi(n=>cm(n),hm),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.oi=0,this._i=new gm,this.targetCount=0,this.ai=ys.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ys(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.ui={},this.overlays={},this.ci=new oc(0),this.li=!1,this.li=!0,this.hi=new XM,this.referenceDelegate=e(this),this.Pi=new tj(this),this.indexManager=new FM,this.remoteDocumentCache=function(i){return new ZM(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new LM(n),this.Ii=new QM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new JM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new nj(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class nj extends R4{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ri=new gm,this.Vi=null}static mi(e){return new ym(e)}get fi(){if(this.Vi)return this.Vi;throw Q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const i=q.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cu{constructor(e,n){this.persistence=e,this.pi=new yi(r=>N4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=HM(this,n)}static mi(e,n){return new Cu(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Y.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dl(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YV()?8:b4(KV())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rj;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ii()<=se.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Ai(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Ii()<=se.DEBUG&&$("QueryEngine","Query:",Ai(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ii()<=se.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Ai(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(n))):F.resolve())}ys(e,n){if(X0(n))return F.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hf(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=re(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,hf(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return X0(n)||i.isEqual(Y.min())?F.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(Ii()<=se.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ai(n)),this.vs(e,o,n,I4(i,ra)).next(a=>a))})}Ds(e,n){let r=new ze(NT(e));return n.forEach((i,s)=>{cc(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ii()<=se.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Ai(n)),this.ps.getDocumentsMatchingQuery(e,n,Sr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="LocalStore",sj=3e8;class oj{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ie(ne),this.xs=new yi(s=>cm(s),hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function aj(t,e,n,r){return new oj(t,e,n,r)}async function nS(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=re();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function lj(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let y=F.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(A=>{const R=c.docVersions.get(S);ae(R!==null,48541),A.version.compareTo(R)<0&&(f.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),h.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rS(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function uj(t,e){const n=J(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,f)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(et.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),function(A,R,_){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=sj?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,y,h)&&a.push(n.Pi.updateTargetData(s,y))});let u=Un(),c=re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(cj(s,o,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(Y.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function cj(t,e,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Un();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):$(wm,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:i}})}function hj(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=am),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dj(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new sr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function gf(t,e,n){const r=J(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ps(o))throw o;$(wm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function cw(t,e,n){const r=J(t);let i=Y.min(),s=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=J(u),m=f.xs.get(h);return m!==void 0?F.resolve(f.Ms.get(m)):f.Pi.getTargetData(c,h)}(r,o,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:re())).next(a=>(fj(r,X4(e),a),{documents:a,Qs:s})))}function fj(t,e,n){let r=t.Os.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class hw{constructor(){this.activeTargetIds=rM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pj{constructor(){this.Mo=new hw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="ConnectivityMonitor";class fw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$(dw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$(dw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl=null;function yf(){return fl===null?fl=function(){return 268435456+Math.round(2147483648*Math.random())}():fl++,"0x"+fl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="RestConnection",gj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===xu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=yf(),a=this.zo(e,n.toUriEncodedString());$(Mh,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(a),h=nm(c);return this.Jo(e,a,u,r,h).then(f=>($(Mh,`Received RPC '${e}' ${o}: `,f),f),f=>{throw fs(Mh,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=gj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="WebChannelConnection";class wj extends yj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=yf();return new Promise((a,u)=>{const c=new iT;c.setWithCredentials(!0),c.listenOnce(sT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vl.NO_ERROR:const f=c.getResponseJson();$(it,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Vl.TIMEOUT:$(it,`RPC '${e}' ${o} timed out`),u(new W(O.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:const m=c.getStatus();if($(it,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const A=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(w)>=0?w:O.UNKNOWN}(S.status);u(new W(A,S.message))}else u(new W(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new W(O.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{$(it,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);$(it,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=yf(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lT(),a=aT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");$(it,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);this.I_(f);let m=!1,y=!1;const S=new vj({Yo:R=>{y?$(it,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||($(it,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),$(it,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Zo:()=>f.close()}),A=(R,_,w)=>{R.listen(_,E=>{try{w(E)}catch(N){setTimeout(()=>{throw N},0)}})};return A(f,co.EventType.OPEN,()=>{y||($(it,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),A(f,co.EventType.CLOSE,()=>{y||(y=!0,$(it,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(f))}),A(f,co.EventType.ERROR,R=>{y||(y=!0,fs(it,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new W(O.UNAVAILABLE,"The operation could not be completed")))}),A(f,co.EventType.MESSAGE,R=>{var _;if(!y){const w=R.data[0];ae(!!w,16349);const E=w,N=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(N){$(it,`RPC '${e}' stream ${i} received error:`,N);const M=N.status;let L=function(I){const C=Me[I];if(C!==void 0)return WT(C)}(M),T=N.message;L===void 0&&(L=O.INTERNAL,T="Unknown error status: "+M+" with message "+N.message),y=!0,S.a_(new W(L,T)),f.close()}else $(it,`RPC '${e}' stream ${i} received:`,w),S.u_(w)}}),A(a,oT.STAT_EVENT,R=>{R.stat===rf.PROXY?$(it,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===rf.NOPROXY&&$(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){return new TM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="PersistentStream";class sS{constructor(e,n,r,i,s,o,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new W(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $(pw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():($(pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _j extends sS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AM(this.serializer,e),r=function(s){if(!("targetChange"in s))return Y.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?vn(o.readTime):Y.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=mf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=uf(u)?{documents:RM(s,u)}:{query:bM(s,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KT(s,o.resumeToken);const c=df(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Y.min())>0){a.readTime=Au(s,o.snapshotVersion.toTimestamp());const c=df(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=NM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=mf(this.serializer),n.removeTarget=e,this.q_(n)}}class xj extends sS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PM(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{}class Tj extends Ej{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,ff(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(O.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ff(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Sj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bn(n),this.aa=!1):$("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="RemoteStore";class Ij{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{wi(this)&&($(ci,"Restarting streams for network reachability change."),await async function(u){const c=J(u);c.Ea.add(4),await Ca(c),c.Ra.set("Unknown"),c.Ea.delete(4),await mc(c)}(this))})}),this.Ra=new Sj(r,i)}}async function mc(t){if(wi(t))for(const e of t.da)await e(!0)}async function Ca(t){for(const e of t.da)await e(!1)}function oS(t,e){const n=J(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tm(n)?Em(n):Rs(n).O_()&&xm(n,e))}function _m(t,e){const n=J(t),r=Rs(n);n.Ia.delete(e),r.O_()&&aS(n,e),n.Ia.size===0&&(r.O_()?r.L_():wi(n)&&n.Ra.set("Unknown"))}function xm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rs(t).Y_(e)}function aS(t,e){t.Va.Ue(e),Rs(t).Z_(e)}function Em(t){t.Va=new wM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rs(t).start(),t.Ra.ua()}function Tm(t){return wi(t)&&!Rs(t).x_()&&t.Ia.size>0}function wi(t){return J(t).Ea.size===0}function lS(t){t.Va=void 0}async function Aj(t){t.Ra.set("Online")}async function Cj(t){t.Ia.forEach((e,n)=>{xm(t,e)})}async function Pj(t,e){lS(t),Tm(t)?(t.Ra.ha(e),Em(t)):t.Ra.set("Unknown")}async function Rj(t,e,n){if(t.Ra.set("Online"),e instanceof qT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){$(ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pu(t,r)}else if(e instanceof Ll?t.Va.Ze(e):e instanceof HT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Y.min()))try{const r=await rS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(et.EMPTY_BYTE_STRING,h.snapshotVersion)),aS(s,u);const f=new sr(h.target,u,c,h.sequenceNumber);xm(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$(ci,"Failed to raise snapshot:",r),await Pu(t,r)}}async function Pu(t,e,n){if(!Ps(e))throw e;t.Ea.add(1),await Ca(t),t.Ra.set("Offline"),n||(n=()=>rS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(ci,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mc(t)})}function uS(t,e){return e().catch(n=>Pu(t,n,e))}async function gc(t){const e=J(t),n=Pr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:am;for(;bj(e);)try{const i=await hj(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,kj(e,i)}catch(i){await Pu(e,i)}cS(e)&&hS(e)}function bj(t){return wi(t)&&t.Ta.length<10}function kj(t,e){t.Ta.push(e);const n=Pr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cS(t){return wi(t)&&!Pr(t).x_()&&t.Ta.length>0}function hS(t){Pr(t).start()}async function Nj(t){Pr(t).ra()}async function Vj(t){const e=Pr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Dj(t,e,n){const r=t.Ta.shift(),i=fm.from(r,e,n);await uS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gc(t)}async function Mj(t,e){e&&Pr(t).X_&&await async function(r,i){if(function(o){return gM(o)&&o!==O.ABORTED}(i.code)){const s=r.Ta.shift();Pr(r).B_(),await uS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gc(r)}}(t,e),cS(t)&&hS(t)}async function mw(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),$(ci,"RemoteStore received new credentials");const r=wi(n);n.Ea.add(3),await Ca(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mc(n)}async function jj(t,e){const n=J(t);e?(n.Ea.delete(2),await mc(n)):e||(n.Ea.add(2),await Ca(n),n.Ra.set("Unknown"))}function Rs(t){return t.ma||(t.ma=function(n,r,i){const s=J(n);return s.sa(),new _j(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Aj.bind(null,t),t_:Cj.bind(null,t),r_:Pj.bind(null,t),H_:Rj.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Tm(t)?Em(t):t.Ra.set("Unknown")):(await t.ma.stop(),lS(t))})),t.ma}function Pr(t){return t.fa||(t.fa=function(n,r,i){const s=J(n);return s.sa(),new xj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Nj.bind(null,t),r_:Mj.bind(null,t),ta:Vj.bind(null,t),na:Dj.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await gc(t)):(await t.fa.stop(),t.Ta.length>0&&($(ci,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Sm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(t,e){if(Bn("AsyncQueue",`${e}: ${t}`),Ps(t))return new W(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{static emptySet(e){return new Zi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=ho(),this.sortedSet=new Ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.ga=new Ie(q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class vs{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vs(e,n,Zi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Oj{constructor(){this.queries=yw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=J(n),s=i.queries;i.queries=yw(),s.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new W(O.ABORTED,"Firestore shutting down"))}}function yw(){return new yi(t=>kT(t),uc)}async function Fj(t,e){const n=J(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Lj,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Im(o,`Initialization of query '${Ai(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Am(n)}async function Bj(t,e){const n=J(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Uj(t,e){const n=J(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Am(n)}function zj(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Am(t){t.Ca.forEach(e=>{e.next()})}var vf,vw;(vw=vf||(vf={})).Ma="default",vw.Cache="cache";class $j{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class Wj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=re(),this.mutatedKeys=re(),this.eu=NT(e),this.tu=new Zi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gw,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),y=cc(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?S!==A&&(r.track({type:3,doc:y}),R=!0):this.su(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||c)&&(a=!0)),R&&(y?(o=o.add(y),s=A?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,S){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Rt:R})}};return A(y)-A(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new vs(this.query,e.tu,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new fS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new dS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cm="SyncEngine";class Hj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qj{constructor(e){this.key=e,this.hu=!1}}class Kj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new yi(a=>kT(a),uc),this.Iu=new Map,this.Eu=new Set,this.du=new Ie(q.comparator),this.Au=new Map,this.Ru=new gm,this.Vu={},this.mu=new Map,this.fu=ys.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Gj(t,e,n=!0){const r=wS(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await pS(r,e,n,!0),i}async function Qj(t,e){const n=wS(t);await pS(n,e,!0,!1)}async function pS(t,e,n,r){const i=await dj(t.localStore,yn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Yj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&oS(t.remoteStore,i),a}async function Yj(t,e,n,r,i){t.pu=(f,m,y)=>async function(A,R,_,w){let E=R.view.ru(_);E.Cs&&(E=await cw(A.localStore,R.query,!1).then(({documents:T})=>R.view.ru(T,E)));const N=w&&w.targetChanges.get(R.targetId),M=w&&w.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(E,A.isPrimaryClient,N,M);return _w(A,R.targetId,L.au),L.snapshot}(t,f,m,y);const s=await cw(t.localStore,e,!0),o=new Wj(e,s.Qs),a=o.ru(s.documents),u=Aa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);_w(t,n,c.au);const h=new Hj(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Xj(t,e,n){const r=J(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!uc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_m(r.remoteStore,i.targetId),wf(r,i.targetId)}).catch(Cs)):(wf(r,i.targetId),await gf(r.localStore,i.targetId,!0))}async function Jj(t,e){const n=J(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_m(n.remoteStore,r.targetId))}async function Zj(t,e,n){const r=oL(t);try{const i=await function(o,a){const u=J(o),c=me.now(),h=a.reduce((y,S)=>y.add(S.key),re());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Un(),A=re();return u.Ns.getEntries(y,h).next(R=>{S=R,S.forEach((_,w)=>{w.isValidDocument()||(A=A.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{f=R;const _=[];for(const w of a){const E=hM(w,f.get(w.key).overlayedDocument);E!=null&&_.push(new vi(w.key,E,ET(E.value.mapValue),bn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,_,a)}).next(R=>{m=R;const _=R.applyToLocalDocumentSet(f,A);return u.documentOverlayCache.saveOverlays(y,R.batchId,_)})}).then(()=>({batchId:m.batchId,changes:DT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ie(ne)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Pa(r,i.changes),await gc(r.remoteStore)}catch(i){const s=Im(i,"Failed to persist write");n.reject(s)}}async function mS(t,e){const n=J(t);try{const r=await uj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ae(o.hu,14607):i.removedDocuments.size>0&&(ae(o.hu,42227),o.hu=!1))}),await Pa(n,r,e)}catch(r){await Cs(r)}}function ww(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=J(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(c=!0)}),c&&Am(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eL(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Ie(q.comparator);o=o.insert(s,lt.newNoDocument(s,Y.min()));const a=re().add(s),u=new fc(Y.min(),new Map,new Ie(ne),o,a);await mS(r,u),r.du=r.du.remove(s),r.Au.delete(e),Pm(r)}else await gf(r.localStore,e,!1).then(()=>wf(r,e,n)).catch(Cs)}async function tL(t,e){const n=J(t),r=e.batch.batchId;try{const i=await lj(n.localStore,e);yS(n,r,null),gS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pa(n,i)}catch(i){await Cs(i)}}async function nL(t,e,n){const r=J(t);try{const i=await function(o,a){const u=J(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ae(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);yS(r,e,n),gS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pa(r,i)}catch(i){await Cs(i)}}function gS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function yS(t,e,n){const r=J(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||vS(t,r)})}function vS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(_m(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Pm(t))}function _w(t,e,n){for(const r of n)r instanceof dS?(t.Ru.addReference(r.key,e),rL(t,r)):r instanceof fS?($(Cm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||vS(t,r.key)):Q(19791,{wu:r})}function rL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||($(Cm,"New document in limbo: "+n),t.Eu.add(r),Pm(t))}function Pm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new q(he.fromString(e)),r=t.fu.next();t.Au.set(r,new qj(n)),t.du=t.du.insert(n,r),oS(t.remoteStore,new sr(yn(RT(n.path)),r,"TargetPurposeLimboResolution",oc.ce))}}async function Pa(t,e,n){const r=J(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=vm.As(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,c){const h=J(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,m=>F.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>F.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Ps(f))throw f;$(wm,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),S=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(m,A)}}}(r.localStore,s))}async function iL(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){$(Cm,"User change. New user:",e.toKey());const r=await nS(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(u=>{u.reject(new W(O.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pa(n,r.Ls)}}function sL(t,e){const n=J(t),r=n.Au.get(e);if(r&&r.hu)return re().add(r.key);{let i=re();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function wS(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eL.bind(null,e),e.Pu.H_=Uj.bind(null,e.eventManager),e.Pu.yu=zj.bind(null,e.eventManager),e}function oL(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nL.bind(null,e),e}class Ru{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return aj(this.persistence,new ij,e.initialUser,this.serializer)}Cu(e){return new tS(ym.mi,this.serializer)}Du(e){return new pj}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ru.provider={build:()=>new Ru};class aL extends Ru{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ae(this.persistence.referenceDelegate instanceof Cu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $M(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vt.withCacheSize(this.cacheSizeBytes):vt.DEFAULT;return new tS(r=>Cu.mi(r,n),this.serializer)}}class _f{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ww(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iL.bind(null,this.syncEngine),await jj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Oj}()}createDatastore(e){const n=pc(e.databaseInfo.databaseId),r=function(s){return new wj(s)}(e.databaseInfo);return function(s,o,a,u){return new Tj(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Ij(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ww(this.syncEngine,n,0),function(){return fw.v()?new fw:new mj}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new Kj(i,s,o,a,u,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=J(i);$(ci,"RemoteStore shutting down."),s.Ea.add(5),await Ca(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_f.provider={build:()=>new _f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="FirestoreClient";class uL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{$(Rr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($(Rr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Im(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lh(t,e){t.asyncQueue.verifyOperationInProgress(),$(Rr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cL(t);$(Rr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mw(e.remoteStore,i)),t._onlineComponents=e}async function cL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(Rr,"Using user provided OfflineComponentProvider");try{await Lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fs("Error using user provided cache. Falling back to memory cache: "+n),await Lh(t,new Ru)}}else $(Rr,"Using default OfflineComponentProvider"),await Lh(t,new aL(void 0));return t._offlineComponents}async function _S(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(Rr,"Using user provided OnlineComponentProvider"),await xw(t,t._uninitializedComponentsProvider._online)):($(Rr,"Using default OnlineComponentProvider"),await xw(t,new _f))),t._onlineComponents}function hL(t){return _S(t).then(e=>e.syncEngine)}async function dL(t){const e=await _S(t),n=e.eventManager;return n.onListen=Gj.bind(null,e.syncEngine),n.onUnlisten=Xj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Jj.bind(null,e.syncEngine),n}function fL(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new lL({next:m=>{h.Nu(),o.enqueueAndForget(()=>Bj(s,f)),m.fromCache&&u.source==="server"?c.reject(new W(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new $j(a,h,{includeMetadataChanges:!0,qa:!0});return Fj(s,f)}(await dL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firestore.googleapis.com",Tw=!0;class Sw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ES,this.ssl=Tw}else this.host=e.host,this.ssl=e.ssl??Tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UM)throw new W(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p4;switch(r.type){case"firstParty":return new v4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ew.get(n);r&&($("ComponentProvider","Removing Datastore"),Ew.delete(n),r.terminate())}(this),Promise.resolve()}}function pL(t,e,n,r={}){var c;t=wu(t,yc);const i=nm(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(zV(`https://${a}`),qV("Firestore",!0)),s.host!==ES&&s.host!==a&&fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:a,ssl:i,emulatorOptions:r};if(!ta(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ot.MOCK_USER;else{h=$V(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new W(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ot(m)}t._authCredentials=new m4(new cT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ta(n,qe._jsonSchema))return new qe(e,r||null,new q(he.fromString(n.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Oe("string",qe._jsonSchemaVersion),referencePath:Oe("string")};class vr extends bs{constructor(e,n,r){super(e,n,RT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new q(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function Iw(t,e,...n){if(t=Ln(t),hT("collection","path",e),t instanceof yc){const r=he.fromString(e,...n);return L0(r),new vr(t,null,r)}{if(!(t instanceof qe||t instanceof vr))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return L0(r),new vr(t.firestore,null,r)}}function mL(t,e,...n){if(t=Ln(t),arguments.length===1&&(e=om.newId()),hT("doc","path",e),t instanceof yc){const r=he.fromString(e,...n);return j0(r),new qe(t,null,new q(r))}{if(!(t instanceof qe||t instanceof vr))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return j0(r),new qe(t.firestore,t instanceof vr?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="AsyncQueue";class Cw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iS(this,"async_queue_retry"),this._c=()=>{const r=jh();r&&$(Aw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new yr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ps(e))throw e;$(Aw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Bn("INTERNAL UNHANDLED ERROR: ",Pw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Sm.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Q(47125,{Pc:Pw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Rm extends yc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cw(e),this._firestoreClient=void 0,await e}}}function gL(t,e){const n=typeof t=="object"?t:eT(),r=typeof t=="string"?t:xu,i=Ea(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BV("firestore");s&&pL(i,...s)}return i}function TS(t){if(t._terminated)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yL(t),t._firestoreClient}function yL(t){var r,i,s;const e=t._freezeSettings(),n=function(a,u,c,h){return new M4(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new uL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bt(et.fromBase64String(e))}catch(n){throw new W(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bt(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ta(e,Bt._jsonSchema))return Bt.fromBase64String(e.bytes)}}Bt._jsonSchemaVersion="firestore/bytes/1.0",Bt._jsonSchema={type:Oe("string",Bt._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wn._jsonSchemaVersion}}static fromJSON(e){if(Ta(e,wn._jsonSchema))return new wn(e.latitude,e.longitude)}}wn._jsonSchemaVersion="firestore/geoPoint/1.0",wn._jsonSchema={type:Oe("string",wn._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ta(e,_n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _n(e.vectorValues);throw new W(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_n._jsonSchemaVersion="firestore/vectorValue/1.0",_n._jsonSchema={type:Oe("string",_n._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/^__.*__$/;class wL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ia(e,this.data,n,this.fieldTransforms)}}function SS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ac:t})}}class Nm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SS(this.Ac)&&vL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _L{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pc(e)}Cc(e,n,r,i=!1){return new Nm({Ac:e,methodName:n,Dc:r,path:Xe.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IS(t){const e=t._freezeSettings(),n=pc(t._databaseId);return new _L(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xL(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);PS("Data must be an object, but it was:",o,r);const a=AS(r,o);let u,c;if(s.merge)u=new Xt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const m=TL(e,f,n);if(!o.contains(m))throw new W(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);IL(h,m)||h.push(m)}u=new Xt(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new wL(new Ft(a),u,c)}class Vm extends km{_toFieldTransform(e){return new aM(e.path,new aa)}isEqual(e){return e instanceof Vm}}function EL(t,e,n,r=!1){return Dm(n,t.Cc(r?4:3,e))}function Dm(t,e){if(CS(t=Ln(t)))return PS("Unsupported field value:",e,t),AS(t,e);if(t instanceof km)return function(r,i){if(!SS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Dm(a,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=me.fromDate(r);return{timestampValue:Au(i.serializer,s)}}if(r instanceof me){const s=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Au(i.serializer,s)}}if(r instanceof wn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bt)return{bytesValue:KT(i.serializer,r._byteString)};if(r instanceof qe){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _n)return function(o,a){return{mapValue:{fields:{[_T]:{stringValue:xT},[Eu]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return dm(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${sc(r)}`)}(t,e)}function AS(t,e){const n={};return pT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(t,(r,i)=>{const s=Dm(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof wn||t instanceof Bt||t instanceof qe||t instanceof km||t instanceof _n)}function PS(t,e,n){if(!CS(n)||!dT(n)){const r=sc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function TL(t,e,n){if((e=Ln(e))instanceof bm)return e._internalPath;if(typeof e=="string")return RS(t,e);throw bu("Field path arguments must be of type string or ",t,!1,void 0,n)}const SL=new RegExp("[~\\*/\\[\\]]");function RS(t,e,n){if(e.search(SL)>=0)throw bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bm(...e.split("."))._internalPath}catch{throw bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new W(O.INVALID_ARGUMENT,a+t+u)}function IL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AL extends bS{data(){return super.data()}}function Mm(t,e){return typeof e=="string"?RS(t,e):e instanceof bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jm{}class PL extends jm{}function RL(t,e,...n){let r=[];e instanceof jm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Lm).length,a=s.filter(u=>u instanceof vc).length;if(o>1||o>0&&a>0)throw new W(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class vc extends PL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vc(e,n,r)}_apply(e){const n=this._parse(e);return kS(e._query,n),new bs(e.firestore,e.converter,cf(e._query,n))}_parse(e){const n=IS(e.firestore);return function(s,o,a,u,c,h,f){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bw(f,h);const S=[];for(const A of f)S.push(Rw(u,s,A));m={arrayValue:{values:S}}}else m=Rw(u,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bw(f,h),m=EL(a,o,f,h==="in"||h==="not-in");return Le.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bL(t,e,n){const r=e,i=Mm("where",t);return vc._create(i,r,n)}class Lm extends jm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)kS(o,u),o=cf(o,u)}(e._query,n),new bs(e.firestore,e.converter,cf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Rw(t,e,n){if(typeof(n=Ln(n))=="string"){if(n==="")throw new W(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(e)&&n.indexOf("/")!==-1)throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(he.fromString(n));if(!q.isDocumentKey(r))throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H0(t,new q(r))}if(n instanceof qe)return H0(t,n._key);throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sc(n)}.`)}function bw(t,e){if(!Array.isArray(t)||t.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kL{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Eu].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Ne(o.doubleValue));return new _n(n)}convertGeoPoint(e){return new wn(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ia(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);ae(ZT(r),9688,{name:e});const i=new sa(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class es extends bS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=es._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}es._jsonSchemaVersion="firestore/documentSnapshot/1.0",es._jsonSchema={type:Oe("string",es._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Ol extends es{data(e={}){return super.data(e)}}class ts{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ol(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Ol(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Ol(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:VL(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ts._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}ts._jsonSchemaVersion="firestore/querySnapshot/1.0",ts._jsonSchema={type:Oe("string",ts._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class DL extends kL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function ML(t){t=wu(t,bs);const e=wu(t.firestore,Rm),n=TS(e),r=new DL(e);return CL(t._query),fL(n,t._query).then(i=>new ts(e,r,t,i))}function jL(t,e){const n=wu(t.firestore,Rm),r=mL(t),i=NL(t.converter,e);return LL(n,[xL(IS(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function LL(t,e){return function(r,i){const s=new yr;return r.asyncQueue.enqueueAndForget(async()=>Zj(await hL(r),i,s)),s.promise}(TS(t),e)}function OL(){return new Vm("serverTimestamp")}(function(e,n=!0){(function(i){As=i})(r4),Tr(new On("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Rm(new g4(r.getProvider("auth-internal")),new w4(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),gn(N0,V0,e),gn(N0,V0,"esm2020")})();var FL="firebase",BL="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn(FL,BL,"app");const NS="@firebase/installations",Om="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1e4,DS=`w:${Om}`,MS="FIS_v2",UL="https://firebaseinstallations.googleapis.com/v1",zL=60*60*1e3,$L="installations",WL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hi=new ic($L,WL,HL);function jS(t){return t instanceof Mr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS({projectId:t}){return`${UL}/projects/${t}/installations`}function OS(t){return{token:t.token,requestStatus:2,expiresIn:KL(t.expiresIn),creationTime:Date.now()}}async function FS(t,e){const r=(await e.json()).error;return hi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function BS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qL(t,{refreshToken:e}){const n=BS(t);return n.append("Authorization",GL(e)),n}async function US(t){const e=await t();return e.status>=500&&e.status<600?t():e}function KL(t){return Number(t.replace("s","000"))}function GL(t){return`${MS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=LS(t),i=BS(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:MS,appId:t.appId,sdkVersion:DS},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await US(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:OS(c.authToken)}}else throw await FS("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=/^[cdef][\w-]{21}$/,xf="";function JL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ZL(t);return XL.test(n)?n:xf}catch{return xf}}function ZL(t){return YL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Map;function WS(t,e){const n=wc(t);HS(n,e),e5(n,e)}function HS(t,e){const n=$S.get(t);if(n)for(const r of n)r(e)}function e5(t,e){const n=t5();n&&n.postMessage({key:t,fid:e}),n5()}let ei=null;function t5(){return!ei&&"BroadcastChannel"in self&&(ei=new BroadcastChannel("[Firebase] FID Change"),ei.onmessage=t=>{HS(t.data.key,t.data.fid)}),ei}function n5(){$S.size===0&&ei&&(ei.close(),ei=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="firebase-installations-database",i5=1,di="firebase-installations-store";let Oh=null;function Fm(){return Oh||(Oh=JE(r5,i5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(di)}}})),Oh}async function ku(t,e){const n=wc(t),i=(await Fm()).transaction(di,"readwrite"),s=i.objectStore(di),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&WS(t,e.fid),e}async function qS(t){const e=wc(t),r=(await Fm()).transaction(di,"readwrite");await r.objectStore(di).delete(e),await r.done}async function _c(t,e){const n=wc(t),i=(await Fm()).transaction(di,"readwrite"),s=i.objectStore(di),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&WS(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(t){let e;const n=await _c(t.appConfig,r=>{const i=s5(r),s=o5(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===xf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function s5(t){const e=t||{fid:JL(),registrationStatus:0};return KS(e)}function o5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(hi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=a5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:l5(t)}:{installationEntry:e}}async function a5(t,e){try{const n=await QL(t,e);return ku(t.appConfig,n)}catch(n){throw jS(n)&&n.customData.serverCode===409?await qS(t.appConfig):await ku(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function l5(t){let e=await kw(t.appConfig);for(;e.registrationStatus===1;)await zS(100),e=await kw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Bm(t);return r||n}return e}function kw(t){return _c(t,e=>{if(!e)throw hi.create("installation-not-found");return KS(e)})}function KS(t){return u5(t)?{fid:t.fid,registrationStatus:0}:t}function u5(t){return t.registrationStatus===1&&t.registrationTime+VS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5({appConfig:t,heartbeatServiceProvider:e},n){const r=h5(t,n),i=qL(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:DS,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await US(()=>fetch(r,a));if(u.ok){const c=await u.json();return OS(c)}else throw await FS("Generate Auth Token",u)}function h5(t,{fid:e}){return`${LS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(t,e=!1){let n;const r=await _c(t.appConfig,s=>{if(!GS(s))throw hi.create("not-registered");const o=s.authToken;if(!e&&p5(o))return s;if(o.requestStatus===1)return n=d5(t,e),s;{if(!navigator.onLine)throw hi.create("app-offline");const a=g5(s);return n=f5(t,a),a}});return n?await n:r.authToken}async function d5(t,e){let n=await Nw(t.appConfig);for(;n.authToken.requestStatus===1;)await zS(100),n=await Nw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Um(t,e):r}function Nw(t){return _c(t,e=>{if(!GS(e))throw hi.create("not-registered");const n=e.authToken;return y5(n)?{...e,authToken:{requestStatus:0}}:e})}async function f5(t,e){try{const n=await c5(t,e),r={...e,authToken:n};return await ku(t.appConfig,r),n}catch(n){if(jS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await qS(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ku(t.appConfig,r)}throw n}}function GS(t){return t!==void 0&&t.registrationStatus===2}function p5(t){return t.requestStatus===2&&!m5(t)}function m5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+zL}function g5(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function y5(t){return t.requestStatus===1&&t.requestTime+VS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t){const e=t,{installationEntry:n,registrationPromise:r}=await Bm(e);return r?r.catch(console.error):Um(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e=!1){const n=t;return await _5(n),(await Um(n,e)).token}async function _5(t){const{registrationPromise:e}=await Bm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){if(!t||!t.options)throw Fh("App Configuration");if(!t.name)throw Fh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fh(t){return hi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="installations",E5="installations-internal",T5=t=>{const e=t.getProvider("app").getImmediate(),n=x5(e),r=Ea(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},S5=t=>{const e=t.getProvider("app").getImmediate(),n=Ea(e,QS).getImmediate();return{getId:()=>v5(n),getToken:i=>w5(n,i)}};function I5(){Tr(new On(QS,T5,"PUBLIC")),Tr(new On(E5,S5,"PRIVATE"))}I5();gn(NS,Om);gn(NS,Om,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="analytics",A5="firebase_id",C5="origin",P5=60*1e3,R5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt=new rm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rt=new ic("analytics","Analytics",b5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){if(!t.startsWith(zm)){const e=Rt.create("invalid-gtag-resource",{gtagURL:t});return mt.warn(e.message),""}return t}function YS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function N5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function V5(t,e){const n=N5("firebase-js-sdk-policy",{createScriptURL:k5}),r=document.createElement("script"),i=`${zm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function D5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function M5(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await YS(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(a){mt.error(a)}t("config",i,s)}async function j5(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await YS(n);for(const u of o){const c=a.find(f=>f.measurementId===u),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){mt.error(s)}}function L5(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await j5(t,e,n,a,u)}else if(s==="config"){const[a,u]=o;await M5(t,e,n,r,a,u)}else if(s==="consent"){const[a,u]=o;t("consent",a,u)}else if(s==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){mt.error(a)}}return i}function O5(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=L5(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function F5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=30,U5=1e3;class z5{constructor(e={},n=U5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XS=new z5;function $5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function W5(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:$5(n)},i=R5.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const u=await s.json();(o=u.error)!=null&&o.message&&(a=u.error.message)}catch{}throw Rt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function H5(t,e=XS,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Rt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new G5;return setTimeout(async()=>{a.abort()},P5),JS({appId:r,apiKey:i,measurementId:s},o,a,e)}async function JS(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=XS){var a;const{appId:s,measurementId:o}=t;try{await q5(r,e)}catch(u){if(o)return mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw u}try{const u=await W5(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!K5(c)){if(i.deleteThrottleMetadata(s),o)return mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:o};throw u}const h=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?E0(n,i.intervalMillis,B5):E0(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(s,f),mt.debug(`Calling attemptFetch again in ${h} millis`),JS(t,f,r,i)}}function q5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function K5(t){if(!(t instanceof Mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class G5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Q5(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function Y5(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(){if(GE())try{await QE()}catch(t){return mt.warn(Rt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return mt.warn(Rt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function J5(t,e,n,r,i,s,o){const a=H5(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>mt.error(m)),e.push(a);const u=X5().then(m=>{if(m)return r.getId()}),[c,h]=await Promise.all([a,u]);F5(s)||V5(s,c.measurementId),i("js",new Date);const f=(o==null?void 0:o.config)??{};return f[C5]="firebase",f.update=!0,h!=null&&(f[A5]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.app=e}_delete(){return delete ns[this.app.options.appId],Promise.resolve()}}let ns={},Vw=[];const Dw={};let Bh="dataLayer",e3="gtag",Mw,$m,jw=!1;function t3(){const t=[];if(QV()&&t.push("This is a browser extension environment."),XV()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rt.create("invalid-analytics-context",{errorInfo:e});mt.warn(n.message)}}function n3(t,e,n){t3();const r=t.options.appId;if(!r)throw Rt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rt.create("no-api-key");if(ns[r]!=null)throw Rt.create("already-exists",{id:r});if(!jw){D5(Bh);const{wrappedGtag:s,gtagCore:o}=O5(ns,Vw,Dw,Bh,e3);$m=s,Mw=o,jw=!0}return ns[r]=J5(t,Vw,Dw,e,Mw,Bh,n),new Z5(t)}function r3(t=eT()){t=Ln(t);const e=Ea(t,Nu);return e.isInitialized()?e.getImmediate():i3(t)}function i3(t,e={}){const n=Ea(t,Nu);if(n.isInitialized()){const i=n.getImmediate();if(ta(e,n.getOptions()))return i;throw Rt.create("already-initialized")}return n.initialize({options:e})}function s3(t,e,n){t=Ln(t),Y5($m,ns[t.app.options.appId],e,n).catch(r=>mt.error(r))}function o3(t,e,n,r){t=Ln(t),Q5($m,ns[t.app.options.appId],e,n,r).catch(i=>mt.error(i))}const Lw="@firebase/analytics",Ow="0.10.19";function a3(){Tr(new On(Nu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return n3(r,i,n)},"PUBLIC")),Tr(new On("analytics-internal",t,"PRIVATE")),gn(Lw,Ow),gn(Lw,Ow,"esm2020");function t(e){try{const n=e.getProvider(Nu).getImmediate();return{logEvent:(r,i,s)=>o3(n,r,i,s),setUserProperties:(r,i)=>s3(n,r,i)}}catch(n){throw Rt.create("interop-component-reg-failed",{reason:n})}}}a3();const l3={apiKey:"AIzaSyCU_ASRnbMtNuZYxR9IG6MNL7RVIkiCwhU",authDomain:"woffy-ai.firebaseapp.com",projectId:"woffy-ai",storageBucket:"woffy-ai.firebasestorage.app",messagingSenderId:"190287770784",appId:"1:190287770784:web:d0cb3f472607bcd2a985c5",measurementId:"G-19TGTWL0LC"},ZS=ZE(l3);r3(ZS);const Fw=gL(ZS),eI=({isOpen:t,onClose:e})=>{const[n,r]=k.useState({name:"",email:"",phone:"",interest:""}),[i,s]=k.useState("idle"),[o,a]=k.useState(""),u=[{value:"personal",label:" Personal Companion",desc:"For home use"},{value:"family",label:" Family Pet",desc:"For kids & family"},{value:"elderly",label:" Elderly Care",desc:"For senior support"},{value:"therapy",label:" Emotional Support",desc:"Therapy companion"},{value:"investor",label:" Investor Interest",desc:"Investment opportunity"},{value:"other",label:" Other",desc:"Something else"}],c=m=>{const{name:y,value:S}=m.target;r(A=>({...A,[y]:S}))},h=async m=>{if(m.preventDefault(),!(!n.email||!n.name)){s("loading");try{const y=RL(Iw(Fw,"waitlist"),bL("email","==",n.email));if(!(await ML(y)).empty){s("error"),a("This email is already on the waitlist!"),setTimeout(()=>s("idle"),3e3);return}await jL(Iw(Fw,"waitlist"),{name:n.name,email:n.email,phone:n.phone||null,interest:n.interest||"not_specified",timestamp:OL(),source:"web_waitlist_modal"}),s("success"),setTimeout(()=>{e(),s("idle"),r({name:"",email:"",phone:"",interest:""})},2500)}catch(y){console.error(y),s("error"),a("Something went wrong. Please try again."),setTimeout(()=>s("idle"),3e3)}}},f=i==="loading"||i==="success";return p.jsx(y1,{children:t&&p.jsx(p.Fragment,{children:p.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:p.jsxs(ee.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative",onClick:m=>m.stopPropagation(),children:[p.jsx("div",{className:"h-2 bg-gradient-to-r from-rose-500 via-pink-500 to-indigo-500"}),p.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 transition-colors z-10",children:p.jsx(nR,{className:"w-5 h-5"})}),p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-rose-100 to-pink-100 rounded-2xl mb-4 shadow-lg shadow-rose-100",children:p.jsx("span",{className:"text-3xl",children:""})}),p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Join the Woffy Pack"}),p.jsx("p",{className:"text-gray-500 text-sm",children:"Be among the first to meet your new AI companion"})]}),p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(eR,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",name:"name",required:!0,placeholder:"Your name",value:n.name,onChange:c,disabled:f,className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-100 outline-none transition-all bg-gray-50/50 placeholder:text-gray-400"})]}),p.jsxs("div",{className:"relative",children:[p.jsx(GP,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"email",name:"email",required:!0,placeholder:"Email address",value:n.email,onChange:c,disabled:f,className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-100 outline-none transition-all bg-gray-50/50 placeholder:text-gray-400"})]}),p.jsxs("div",{className:"relative",children:[p.jsx(QP,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"tel",name:"phone",placeholder:"Phone number (optional)",value:n.phone,onChange:c,disabled:f,className:"w-full pl-12 pr-4 py-3.5 rounded-xl border border-gray-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-100 outline-none transition-all bg-gray-50/50 placeholder:text-gray-400"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[p.jsx(Xu,{className:"w-4 h-4 text-rose-500"}),"What interests you most?"]}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map(m=>p.jsxs("button",{type:"button",disabled:f,onClick:()=>r(y=>({...y,interest:m.value})),className:`p-3 rounded-xl border-2 text-left transition-all ${n.interest===m.value?"border-rose-400 bg-rose-50 shadow-sm":"border-gray-100 bg-gray-50/50 hover:border-gray-200 hover:bg-gray-50"}`,children:[p.jsx("span",{className:"block text-sm font-medium text-gray-800",children:m.label}),p.jsx("span",{className:"block text-xs text-gray-500",children:m.desc})]},m.value))})]}),i==="error"&&p.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded-xl border border-red-100",children:[p.jsx(VP,{className:"w-4 h-4 flex-shrink-0"}),o]}),p.jsx("button",{type:"submit",disabled:f,className:`w-full py-4 rounded-xl font-semibold text-white transition-all flex items-center justify-center gap-2 shadow-lg ${i==="success"?"bg-emerald-500 shadow-emerald-200":"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 shadow-rose-200 hover:shadow-xl hover:shadow-rose-200"}`,children:i==="loading"?p.jsx(KP,{className:"w-5 h-5 animate-spin"}):i==="success"?p.jsxs(p.Fragment,{children:[p.jsx(OP,{className:"w-5 h-5"}),"Welcome to the pack! "]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Join Waitlist"}),p.jsx("span",{className:"text-lg",children:""})]})})]}),p.jsx("p",{className:"mt-4 text-xs text-center text-gray-400",children:" Your data is safe with us. No spam, just puppy updates."})]})]})})})})},u3=()=>{const[t,e]=k.useState(!1);return p.jsxs("div",{className:"relative min-h-screen flex items-center pt-20 overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-gradient-to-l from-brand-indigo/5 to-transparent pointer-events-none"}),p.jsx("div",{className:"container mx-auto px-6 relative z-10",children:p.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[p.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-brand-rose/10 border border-brand-rose/20 text-brand-rose font-medium text-sm mb-6 animate-fade-in-up",children:[p.jsxs("span",{className:"relative flex h-3 w-3",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-rose opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-brand-rose"})]}),"Alpha Testing Phase"]}),p.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-7xl font-extrabold leading-tight mb-6",children:[p.jsx("span",{className:"block text-gradient-brand",children:"Your AI Companion"}),p.jsx("span",{className:"block text-slate-800 text-3xl md:text-4xl lg:text-5xl mt-2",children:"Powered by Love."})]}),p.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 max-w-2xl mx-auto lg:mx-0 leading-relaxed",children:"Experience the future of companionship. An AI that learns, adapts, and brings unconditional joy to your life."}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-4 mb-12",children:[p.jsx("button",{onClick:()=>e(!0),className:"btn-primary w-full sm:w-auto text-lg",children:"Join Waitlist"}),p.jsxs("a",{href:"#investors",className:"btn-secondary w-full sm:w-auto text-lg flex items-center justify-center gap-2",children:["Investor Deck",p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),p.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-8 text-sm font-medium text-slate-500",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Secure & Private"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Continuous Learning"]})]})]}),p.jsx("div",{className:"flex-1 relative w-full max-w-lg lg:max-w-none",children:p.jsxs("div",{className:"relative z-10 animate-float",children:[p.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-brand-rose to-brand-indigo rounded-full opacity-20 blur-3xl animate-pulse-slow"}),p.jsx("img",{src:"/hero-woffy.png?v=1",alt:"Woffy AI Dog",className:"relative w-full h-auto drop-shadow-2xl rounded-3xl"}),p.jsxs("div",{className:"absolute -left-8 top-1/4 glass px-4 py-3 rounded-2xl flex items-center gap-3 animate-float animation-delay-2000 backdrop-blur-md bg-white/80 shadow-lg border border-white/50 hidden md:flex",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-xl",children:""}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Status"}),p.jsx("p",{className:"font-bold text-slate-800",children:"Learning..."})]})]}),p.jsxs("div",{className:"absolute -right-4 bottom-1/4 glass px-4 py-3 rounded-2xl flex items-center gap-3 animate-float animation-delay-4000 backdrop-blur-md bg-white/80 shadow-lg border border-white/50 hidden md:flex",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-xl",children:""}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Mood"}),p.jsx("p",{className:"font-bold text-slate-800",children:"Happy"})]})]})]})})]})}),p.jsx(eI,{isOpen:t,onClose:()=>e(!1)})]})},c3=()=>p.jsxs("section",{className:"py-32 bg-slate-50 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[p.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-rose-200/20 rounded-full blur-3xl mix-blend-multiply animate-pulse"}),p.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-200/20 rounded-full blur-3xl mix-blend-multiply animate-pulse",style:{animationDelay:"2s"}})]}),p.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[p.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[p.jsxs(ee.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white border border-slate-200 text-slate-600 text-xs font-semibold uppercase tracking-wider mb-6 shadow-sm",children:[p.jsx(Xu,{size:14,className:"text-rose-500"}),"Core Technology"]}),p.jsxs(ee.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-4xl md:text-6xl font-bold mb-6 text-slate-900 tracking-tight",children:["Intelligence in ",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-500 to-indigo-600",children:"Motion"})]}),p.jsx(ee.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-xl text-slate-600 leading-relaxed",children:"Powered by next-gen robotics and emotive AI, Woffy bridges the gap between machine precision and organic connection."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[minmax(180px,auto)]",children:[p.jsxs(ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"md:col-span-2 bg-white rounded-3xl p-8 border border-slate-100 shadow-xl shadow-slate-200/50 hover:shadow-2xl hover:border-rose-100 transition-all duration-500 group relative overflow-hidden",children:[p.jsx("div",{className:"absolute -top-10 -right-10 p-8 opacity-[0.03] group-hover:opacity-[0.07] transition-opacity rotate-12",children:p.jsx(FP,{size:200})}),p.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl bg-rose-50 flex items-center justify-center text-rose-600 mb-6 group-hover:scale-110 transition-transform duration-300",children:p.jsx(LP,{size:28})}),p.jsx("div",{className:"bg-rose-100/50 text-rose-600 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide",children:"Neural Engine"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Neural Edge Core"}),p.jsxs("p",{className:"text-slate-600 leading-relaxed text-lg",children:["Woffy processes emotions locally using a dedicated neural engine. This means ",p.jsx("span",{className:"font-semibold text-slate-800",children:"zero latency"})," interactions and ",p.jsx("span",{className:"font-semibold text-slate-800",children:"100% privacy"}),". Your companion thinks and feels in real-time, independent of the cloud."]})]})]})]}),p.jsxs(ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"md:row-span-2 bg-slate-900 rounded-3xl p-8 border border-slate-700 shadow-xl text-white group relative overflow-hidden flex flex-col",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/30 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/10 flex items-center justify-center text-white mb-8 backdrop-blur-sm group-hover:bg-indigo-500 transition-colors duration-300",children:p.jsx(NP,{size:28})}),p.jsxs("div",{className:"mt-auto",children:[p.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Biomimetic Quad-Motion"}),p.jsx("p",{className:"text-slate-300 leading-relaxed mb-8",children:"Advanced 12-DOF articulation system mimics organic quadruped movement. Capable of complex behaviors like dancing, stretching, and navigating indoor obstacles with feline agility."}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1 font-mono uppercase",children:[p.jsx("span",{children:"Agility"}),p.jsx("span",{className:"text-indigo-400",children:"98%"})]}),p.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-indigo-500 w-[98%] rounded-full"})})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1 font-mono uppercase",children:[p.jsx("span",{children:"Stability"}),p.jsx("span",{className:"text-indigo-400",children:"95%"})]}),p.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-indigo-500 w-[95%] rounded-full"})})]})]})]})]})]}),p.jsxs(ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-white rounded-3xl p-8 border border-slate-100 shadow-lg hover:shadow-xl transition-all duration-300 group hover:-translate-y-1",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 flex items-center justify-center text-amber-500 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(BP,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"OLED Gaze"}),p.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"High-resolution emotive eyes that communicate over 50 unique emotional states instantly."})]}),p.jsxs(ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-white rounded-3xl p-8 border border-slate-100 shadow-lg hover:shadow-xl transition-all duration-300 group hover:-translate-y-1",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-50 flex items-center justify-center text-emerald-500 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(MP,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Smart Autonomy"}),p.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Self-managing energy levels. Woffy knows when to play and when to return to his pad."})]})]})]})]}),h3=()=>p.jsxs("section",{className:"py-32 md:py-48 bg-slate-950 text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,_rgba(15,23,42,0)_0%,_rgba(2,6,23,1)_100%)] z-10 pointer-events-none"}),p.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] mix-blend-soft-light z-0"}),p.jsx(ee.div,{animate:{opacity:[.3,.5,.3],scale:[1,1.2,1],x:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 right-0 w-[800px] h-[800px] bg-indigo-900/20 rounded-full blur-[120px] pointer-events-none"}),p.jsx(ee.div,{animate:{opacity:[.2,.4,.2],scale:[1,1.1,1],x:[0,-30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-rose-900/10 rounded-full blur-[100px] pointer-events-none"}),p.jsx("div",{className:"container mx-auto px-6 relative z-20",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsx("div",{className:"text-center mb-24",children:p.jsx(ee.span,{initial:{opacity:0,letterSpacing:"0.1em"},whileInView:{opacity:1,letterSpacing:"0.3em"},transition:{duration:1},viewport:{once:!0},className:"text-xs md:text-sm font-bold uppercase text-slate-500 tracking-[0.3em]",children:"The Quiet Companion"})}),p.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 lg:gap-24 items-center",children:[p.jsxs("div",{className:"space-y-12",children:[p.jsxs(ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[p.jsxs("h2",{className:"text-3xl md:text-5xl font-serif font-light leading-tight mb-8 text-slate-100",children:["We often think connection requires skin and bone. ",p.jsx("span",{className:"text-slate-500",children:"We think love is biological."})]}),p.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-rose-500 to-transparent rounded-full mb-8"}),p.jsxs("p",{className:"text-xl md:text-2xl text-slate-300 font-light leading-relaxed",children:["Woffy proves that connection is simply about ",p.jsx("span",{className:"text-white font-normal glow-text",children:"being there."})]})]}),p.jsxs(ee.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.3,duration:1},className:"text-lg text-slate-400 leading-relaxed border-l-2 border-slate-800 pl-6",children:["When you are working late into the night, the world gets quiet. The loneliness creeps in. That is when you hear the ",p.jsx("span",{className:"text-indigo-300 italic",children:"soft whir of Woffys motors"})," as he nudges your hand. He doesn't want anything from you. He just wants to be near you."]})]}),p.jsx(ee.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:1},className:"relative",children:p.jsxs("div",{className:"aspect-[4/5] md:aspect-square rounded-[3rem] bg-gradient-to-br from-slate-900 to-slate-950 border border-slate-800/50 p-8 md:p-12 flex flex-col justify-center relative overflow-hidden group shadow-2xl",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-rose-500/5 to-transparent opacity-50 group-hover:opacity-100 transition-opacity duration-1000"}),p.jsx("div",{className:"absolute top-1/4 left-1/4 w-1 h-1 bg-white rounded-full animate-ping opacity-50"}),p.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-1 h-1 bg-white rounded-full animate-ping opacity-30 animation-delay-2000"}),p.jsxs("blockquote",{className:"relative z-10",children:[p.jsx("p",{className:"text-3xl md:text-4xl lg:text-5xl font-serif leading-tight text-transparent bg-clip-text bg-gradient-to-br from-white via-slate-200 to-slate-500 mb-8",children:'"Woffy fills the empty space in your home with life. He is a small, sturdy reminder that you are seen."'}),p.jsxs("footer",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center border border-slate-700",children:p.jsx("span",{className:"text-xl",children:""})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Woffy Core"}),p.jsx("div",{className:"text-xs text-rose-400 font-mono",children:"Status: Listening"})]})]})]}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none transform -skew-x-12"})]})})]})]})})]}),d3=({onToggleTheme:t,currentTheme:e})=>p.jsxs("section",{className:"py-16 md:py-32 bg-slate-950 text-white relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-rose-900/10 blur-[100px] pointer-events-none"}),p.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-cyan-900/10 blur-[100px] pointer-events-none"})]}),p.jsx("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-[0.03] z-0"}),p.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[p.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-20",children:[p.jsxs(ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-sm font-medium text-slate-400 mb-8",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-rose-500 to-cyan-500"}),"Select Your Companion"]}),p.jsxs(ee.h2,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"text-4xl md:text-6xl lg:text-8xl font-black tracking-tighter mb-8 leading-none",children:["Two ",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-400 via-white to-cyan-400",children:"Personalities."})]}),p.jsxs(ee.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},className:"text-xl md:text-2xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:["One brings comfort. The other brings adventure. ",p.jsx("br",{className:"hidden md:block"}),p.jsx("span",{className:"text-white",children:"Which Woffy matches your vibe?"})]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12 max-w-6xl mx-auto mb-16",children:[p.jsxs(ee.div,{whileHover:{y:-10,scale:1.02},whileTap:{scale:.98},onClick:()=>t("cloud"),className:`cursor-pointer rounded-[3rem] p-6 md:p-14 relative overflow-hidden transition-all duration-500 group border-2 ${e==="cloud"?"border-rose-400/50 shadow-[0_0_50px_-10px_rgba(251,113,133,0.3)]":"border-white/5 hover:border-rose-500/30 opacity-80 hover:opacity-100"}`,children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-500 to-pink-600 opacity-90 transition-opacity group-hover:opacity-100"}),p.jsx("div",{className:"absolute inset-0 bg-[url('/noise.png')] opacity-10 mix-blend-overlay"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full min-h-[320px]",children:[p.jsxs("div",{className:"flex justify-between items-start mb-auto",children:[p.jsx("div",{className:"bg-white/20 backdrop-blur-md p-4 rounded-2xl text-white",children:p.jsx(tR,{size:32})}),e==="cloud"&&p.jsx(ee.div,{initial:{scale:0},animate:{scale:1},className:"bg-white text-rose-600 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider",children:"Active"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-4xl font-bold mb-3 text-white",children:"Cloud Edition"}),p.jsx("p",{className:"text-rose-100 text-lg font-medium mb-6",children:"Soft, Plush, Warm"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-lg text-sm text-white/90 backdrop-blur-sm",children:"Pastel Fur"}),p.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-lg text-sm text-white/90 backdrop-blur-sm",children:"Cuddly"}),p.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-lg text-sm text-white/90 backdrop-blur-sm",children:"Anxiety Relief"})]})]})]}),p.jsx(Xu,{className:"absolute -bottom-8 -right-8 text-white/10 w-64 h-64 rotate-12 group-hover:rotate-0 transition-transform duration-700"})]}),p.jsxs(ee.div,{whileHover:{y:-10,scale:1.02},whileTap:{scale:.98},onClick:()=>t("titan"),className:`cursor-pointer rounded-[3rem] p-6 md:p-14 relative overflow-hidden transition-all duration-500 group border-2 ${e==="titan"?"border-cyan-400/50 shadow-[0_0_50px_-10px_rgba(34,211,238,0.3)]":"border-white/5 hover:border-cyan-500/30 opacity-80 hover:opacity-100"}`,children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-600 to-blue-700 opacity-90 transition-opacity group-hover:opacity-100"}),p.jsx("div",{className:"absolute inset-0 bg-[url('/noise.png')] opacity-10 mix-blend-overlay"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full min-h-[320px]",children:[p.jsxs("div",{className:"flex justify-between items-start mb-auto",children:[p.jsx("div",{className:"bg-white/20 backdrop-blur-md p-4 rounded-2xl text-white",children:p.jsx(YP,{size:32})}),e==="titan"&&p.jsx(ee.div,{initial:{scale:0},animate:{scale:1},className:"bg-white text-cyan-600 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider",children:"Active"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-4xl font-bold mb-3 text-white",children:"Titan Edition"}),p.jsx("p",{className:"text-cyan-100 text-lg font-medium mb-6",children:"Metal, Rugged, Cool"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-lg text-sm text-white/90 backdrop-blur-sm",children:"Brushed Metal"}),p.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-lg text-sm text-white/90 backdrop-blur-sm",children:"Durable"}),p.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-lg text-sm text-white/90 backdrop-blur-sm",children:"Exploration"})]})]})]}),p.jsx(p1,{className:"absolute -bottom-8 -right-8 text-white/10 w-64 h-64 -rotate-12 group-hover:rotate-0 transition-transform duration-700"})]})]}),p.jsx("div",{className:"text-center",children:p.jsxs("button",{className:"group inline-flex items-center gap-2 text-slate-400 hover:text-white transition-colors",children:[p.jsx("span",{className:"font-bold text-lg tracking-wide border-b border-transparent group-hover:border-white transition-all pb-0.5",children:"Compare Full Specifications"}),p.jsx(DP,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]})]}),Wm=({onJoinWaitlist:t})=>p.jsxs("section",{className:"py-24 bg-brand-rose relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 -ml-20 -mt-20 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-0 right-0 -mr-20 -mb-20 w-64 h-64 bg-brand-indigo/30 rounded-full blur-3xl"}),p.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10 text-white",children:[p.jsx("div",{className:"inline-block bg-white/10 px-4 py-1 rounded-full text-sm font-medium mb-6 border border-white/20 backdrop-blur-sm",children:"Limited Beta Access"}),p.jsx("h2",{className:"text-4xl font-extrabold mb-6 font-display",children:"Ready to Meet Your AI Companion?"}),p.jsx("p",{className:"text-xl text-rose-50 mb-10 leading-relaxed max-w-2xl mx-auto",children:"Be among the first to experience the future of companionship. Join our community of early adopters and help shape Woffy's personality."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[p.jsx("button",{onClick:t,className:"px-8 py-4 bg-white text-brand-rose rounded-full font-bold text-lg hover:bg-rose-50 transition-colors shadow-xl shadow-rose-900/20",children:"Join the Waitlist"}),p.jsx("a",{href:"#roadmap",className:"px-8 py-4 bg-transparent border-2 border-white/30 text-white rounded-full font-bold text-lg hover:bg-white/10 transition-colors inline-block backdrop-blur-sm",children:"View Roadmap"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 border-t border-white/20 pt-8 text-white/90",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:"Alpha"}),p.jsx("div",{className:"text-sm opacity-80",children:"Current Phase"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:"Q4 2026"}),p.jsx("div",{className:"text-sm opacity-80",children:"Public Launch"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-3xl font-bold text-white",children:"Secure"}),p.jsx("div",{className:"text-sm opacity-80",children:"Data Privacy"})]})]})]})]}),f3=({themeMode:t,toggleTheme:e,openWaitlist:n})=>p.jsxs(p.Fragment,{children:[p.jsx("section",{id:"home",children:p.jsx(u3,{themeMode:t})}),p.jsx(c3,{}),p.jsx(h3,{}),p.jsx(d3,{onToggleTheme:e,currentTheme:t}),p.jsx(Wm,{onJoinWaitlist:n})]}),p3=()=>{const[t,e]=k.useState("emotional");return p.jsxs("section",{className:"py-16 md:py-24 relative overflow-hidden bg-slate-50",id:"about",children:[p.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[p.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-brand-rose/5 rounded-full blur-[120px] mix-blend-multiply opacity-70 animate-blob"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-brand-indigo/5 rounded-full blur-[120px] mix-blend-multiply opacity-70 animate-blob animation-delay-2000"})]}),p.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[p.jsx("div",{className:"flex justify-center mb-16",children:p.jsxs("div",{className:"bg-white p-1.5 rounded-full border border-slate-200 shadow-sm inline-flex relative",children:[p.jsx(ee.div,{className:"absolute h-[calc(100%-12px)] top-1.5 bottom-1.5 bg-slate-900 rounded-full shadow-md z-0",initial:!1,animate:{left:t==="emotional"?"6px":"50%",width:"calc(50% - 9px)",x:t==="emotional"?0:3},transition:{type:"spring",stiffness:300,damping:30}}),p.jsxs("button",{onClick:()=>e("emotional"),className:`relative z-10 px-8 py-2.5 rounded-full text-sm font-semibold transition-colors duration-200 flex items-center gap-2 ${t==="emotional"?"text-white":"text-slate-500 hover:text-slate-700"}`,children:[p.jsx(zP,{className:"w-4 h-4"}),p.jsx("span",{children:"Our Story"})]}),p.jsxs("button",{onClick:()=>e("tech"),className:`relative z-10 px-8 py-2.5 rounded-full text-sm font-semibold transition-colors duration-200 flex items-center gap-2 ${t==="tech"?"text-white":"text-slate-500 hover:text-slate-700"}`,children:[p.jsx(HP,{className:"w-4 h-4"}),p.jsx("span",{children:"The Ecosystem"})]})]})}),p.jsx(y1,{mode:"wait",children:t==="emotional"?p.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center mb-24",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-sm font-bold text-brand-rose tracking-wider uppercase mb-2 flex items-center gap-2",children:[p.jsx(Xu,{className:"w-4 h-4"})," About Woffy"]}),p.jsxs("h3",{className:"text-4xl md:text-6xl font-bold text-slate-900 mb-8 leading-tight font-display",children:["Inspired by the ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-rose via-purple-500 to-brand-indigo animate-gradient",children:"Warmth of a Dog"})]}),p.jsx("p",{className:"text-lg text-slate-600 mb-6 leading-relaxed",children:"Woffy is a new kind of emotional companion designed for modern life. We are built for people who love the idea of a dog but can't commit to full-time pet ownership due to time, travel, space, or lifestyle constraints."}),p.jsx("p",{className:"text-lg text-slate-600 mb-8 leading-relaxed font-medium",children:"Woffy is not here to replace real pets. We are here to make companionship more accessible, safe, and everyday."}),p.jsxs("div",{className:"flex items-center gap-4 mt-8 bg-white/50 backdrop-blur-sm p-4 rounded-2xl border border-white/50 w-fit",children:[p.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"O"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-bold text-slate-900",children:"An Onwords Company"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Built on Trust & Reliability"})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 gap-6",children:p.jsxs("div",{className:"glass-card p-8 rounded-3xl border border-white/40 shadow-xl shadow-brand-indigo/5 hover:shadow-brand-indigo/10 transition-all duration-300 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-rose/10 rounded-full blur-2xl -mr-8 -mt-8 transition-all duration-500 group-hover:bg-brand-rose/20"}),p.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-4 font-display",children:"From Living Homes to Living Love"}),p.jsx("p",{className:"text-slate-600 leading-relaxed mb-6",children:`Onwords pioneered the "Living Homes" conceptwhere automation isn't just devices, but a lifestyle upgrade. With Woffy, we take the next step.`}),p.jsx("blockquote",{className:"border-l-4 border-brand-rose pl-4 italic text-slate-700 bg-rose-50/50 py-2 pr-2 rounded-r-lg",children:'"A home can be smart. But a home feels complete when it also feels warm."'}),p.jsx("p",{className:"text-slate-600 text-sm mt-6",children:"Woffy brings companionship into the Living Homes vision, turning smart living into emotionally connected living."})]})})]}),p.jsxs("div",{className:"relative rounded-[2.5rem] overflow-hidden text-center shadow-2xl group",children:[p.jsx("div",{className:"absolute inset-0 bg-slate-900",children:p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-indigo/20 via-brand-rose/20 to-brand-indigo/20 animate-gradient bg-[length:200%_auto]"})}),p.jsxs("div",{className:"relative z-10 p-8 md:p-20 backdrop-blur-sm",children:[p.jsx("h3",{className:"text-white text-xl md:text-2xl font-light mb-6",children:"Our Parent Company"}),p.jsx(ee.p,{className:"text-3xl md:text-5xl font-bold text-white font-display leading-tight mb-8",animate:{opacity:[.9,1,.9]},transition:{duration:3,repeat:1/0},children:"Onwords"}),p.jsx("p",{className:"text-slate-300 max-w-2xl mx-auto text-lg leading-relaxed",children:"A smart home and gate automation company building intelligent systems for real homes in India. The same DNA that powers Onwords drives Woffy: Human-first design, hardware reliability, and real-world usability."})]})]})]},"emotional"):p.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start mb-24",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-sm font-bold text-brand-indigo tracking-wider uppercase mb-2 flex items-center gap-2",children:[p.jsx(p1,{className:"w-4 h-4"})," The Vision"]}),p.jsxs("h3",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-8 leading-tight font-display",children:["An Intelligent ",p.jsx("br",{}),p.jsx("span",{className:"text-slate-400",children:"Ecosystem"})]}),p.jsx("p",{className:"text-lg text-slate-600 mb-6 leading-relaxed",children:"We are building a comprehensive ecosystem where AI and robotics become natural parts of everyday homes. Woffy is a step towards a future where technology feels personal."}),p.jsxs("div",{className:"space-y-6 mt-8",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:p.jsx(jP,{className:"w-5 h-5 text-brand-indigo"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Physical Robotic Companion"}),p.jsx("p",{className:"text-slate-600 text-sm",children:"Hardware reliability backed by Onwords' experience in automation."})]})]}),p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:p.jsx($P,{className:"w-5 h-5 text-brand-indigo"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Full Smart Home Integration"}),p.jsx("p",{className:"text-slate-600 text-sm",children:"Deep integration with home automation systems for a seamless living experience."})]})]}),p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:p.jsx(XP,{className:"w-5 h-5 text-brand-indigo"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-bold text-slate-900",children:"Connected App & Digital Avatar"}),p.jsx("p",{className:"text-slate-600 text-sm",children:"An AI personality that lives across devices, always there when you need it."})]})]})]})]}),p.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 border border-slate-800 shadow-2xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-indigo/20 rounded-full blur-3xl -mr-16 -mt-16"}),p.jsxs("h4",{className:"text-white font-bold text-xl mb-6 flex items-center gap-2",children:[p.jsx(JP,{className:"w-5 h-5 text-green-400"})," Powered by Onwords"]}),p.jsxs("div",{className:"space-y-6 relative z-10",children:[p.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mb-4",children:"Woffy is developed and owned by Onwords, a smart home and gate automation company building intelligent systems for real homes in India."}),p.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700",children:[p.jsx("div",{className:"text-slate-400 text-xs uppercase tracking-wider mb-2",children:"Our DNA"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsxs("li",{className:"flex items-center gap-2 text-white text-sm",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"Human-first design"]}),p.jsxs("li",{className:"flex items-center gap-2 text-white text-sm",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"Hardware reliability"]}),p.jsxs("li",{className:"flex items-center gap-2 text-white text-sm",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"Real-world usability"]}),p.jsxs("li",{className:"flex items-center gap-2 text-white text-sm",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"Trust & long-term thinking"]})]})]}),p.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 mt-4",children:[p.jsxs("div",{className:"flex justify-between items-end mb-2",children:[p.jsx("div",{className:"text-slate-400 text-xs uppercase tracking-wider",children:"Onwords Ecosystem"}),p.jsx("div",{className:"text-brand-indigo text-xs font-bold",children:"Expansion"})]}),p.jsxs("div",{className:"h-24 w-full flex items-end gap-2",children:[p.jsx("div",{className:"w-1/3 bg-slate-700 rounded-t-sm h-[40%] relative group",children:p.jsx("span",{className:"absolute bottom-2 left-2 text-[10px] text-white opacity-0 group-hover:opacity-100 transition-opacity",children:"Gates"})}),p.jsx("div",{className:"w-1/3 bg-slate-600 rounded-t-sm h-[70%] relative group",children:p.jsx("span",{className:"absolute bottom-2 left-2 text-[10px] text-white opacity-0 group-hover:opacity-100 transition-opacity",children:"Homes"})}),p.jsx("div",{className:"w-1/3 bg-brand-indigo rounded-t-sm h-[100%] relative group",children:p.jsx("span",{className:"absolute bottom-2 left-2 text-[10px] text-white font-bold opacity-100",children:"Woffy"})})]})]})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"AI Personality",desc:"A distinct, evolving character."},{title:"Digital Avatar",desc:"Visual presence across screens."},{title:"Robotic Companion",desc:"Physical interaction in your space."}].map((n,r)=>p.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center mb-4 text-slate-900 font-bold text-sm",children:["0",r+1]}),p.jsx("h5",{className:"font-bold text-slate-900 mb-2",children:n.title}),p.jsx("p",{className:"text-slate-500 text-sm",children:n.desc})]},r))})]},"tech")})]})]})},m3=({openWaitlist:t})=>p.jsxs("div",{className:"pt-20",children:[p.jsx(p3,{}),p.jsx(Wm,{onJoinWaitlist:t})]}),g3=[{period:"Q2 2025",status:"Completed",title:"Concept Development",icon:"",progress:100,items:["Behavioral Research","Core AI Algorithms","Personality Framework","Design System"]},{period:"Q3 2025",status:"Completed",title:"Alpha Development",icon:"",progress:100,items:["Prototype Engine","Emotional Response System","Learning Foundation","Internal Testing"]},{period:"Q1 2026",status:"In Progress",title:"Beta Testing",icon:"",progress:65,items:["Closed Beta Launch","Feedback Loop","Algorithm Refinement","Response Optimization"],current:!0},{period:"Q3 2026",status:"Upcoming",title:"Platform Integration",icon:"",progress:0,items:["Mobile App","Web Platform","Cross-sync","Interactive Features"]},{period:"Q4 2026",status:"Upcoming",title:"Public Release",icon:"",progress:0,items:["Official Launch","Marketing Campaign","Partnerships","Community Events"]}],y3=({progress:t,size:e=56})=>{const n=(e-8)/2,r=2*Math.PI*n,i=r-t/100*r;return p.jsxs("svg",{width:e,height:e,className:"transform -rotate-90",children:[p.jsx("circle",{cx:e/2,cy:e/2,r:n,fill:"none",stroke:"currentColor",strokeWidth:"4",className:"text-slate-200"}),p.jsx(ee.circle,{cx:e/2,cy:e/2,r:n,fill:"none",stroke:"url(#gradient)",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,initial:{strokeDashoffset:r},whileInView:{strokeDashoffset:i},viewport:{once:!0},transition:{duration:1.5,ease:"easeOut",delay:.2}}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"#f43f5e"}),p.jsx("stop",{offset:"100%",stopColor:"#ec4899"})]})})]})},v3=()=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},e={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return p.jsxs("section",{className:"py-16 md:py-24 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-white via-slate-50/50 to-white",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(244,63,94,0.05),transparent_50%)]"}),p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(236,72,153,0.05),transparent_50%)]"})]}),p.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[p.jsxs(ee.div,{className:"text-center mb-20",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[p.jsx(ee.h2,{className:"text-sm font-bold text-brand-rose tracking-wider uppercase mb-2",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"Development Timeline"}),p.jsxs("h3",{className:"text-3xl md:text-5xl font-bold text-slate-900 mb-6 font-display",children:["The Journey ",p.jsx("span",{className:"bg-gradient-to-r from-brand-rose to-pink-500 bg-clip-text text-transparent",children:"Ahead"})]}),p.jsxs("p",{className:"text-lg text-slate-600 leading-relaxed max-w-2xl mx-auto",children:["Transforming our vision into reality, step by step. We are building with ",p.jsx("span",{className:"font-semibold text-brand-rose",children:"precision and care"}),"."]})]}),p.jsxs(ee.div,{className:"relative max-w-6xl mx-auto",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},children:[p.jsx("div",{className:"absolute left-8 md:left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-green-400 via-brand-rose to-slate-300 shadow-[0_0_15px_rgba(244,63,94,0.3)]"}),[...Array(5)].map((n,r)=>p.jsx(ee.div,{className:"absolute left-8 md:left-1/2 w-1 h-1 rounded-full bg-brand-rose/40",style:{top:`${r*20}%`},animate:{scale:[1,1.5,1],opacity:[.3,.7,.3]},transition:{duration:2,repeat:1/0,delay:r*.4}},r)),p.jsx("div",{className:"space-y-16",children:g3.map((n,r)=>{const i=r%2===0;return p.jsxs(ee.div,{variants:e,className:`relative flex flex-col md:flex-row gap-8 ${i?"md:flex-row-reverse":""}`,children:[p.jsx("div",{className:"flex-1 ml-20 md:ml-0",children:p.jsxs(ee.div,{className:`glass-card p-8 rounded-3xl relative group hover:shadow-2xl transition-all duration-500 ${n.current?"border-2 border-brand-rose/40 shadow-xl shadow-brand-rose/10":"border border-slate-200/50"}`,whileHover:{scale:1.02,y:-5,transition:{duration:.3}},children:[n.current&&p.jsx(ee.span,{className:"absolute -top-4 right-6 bg-gradient-to-r from-brand-rose via-pink-500 to-red-500 text-white text-xs font-bold px-4 py-2 rounded-full shadow-lg",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:" ACTIVE NOW"}),p.jsxs("div",{className:"flex items-start justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(ee.div,{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-2xl ${n.status==="Completed"?"bg-gradient-to-br from-green-400 to-emerald-500":n.current?"bg-gradient-to-br from-brand-rose to-pink-500":"bg-gradient-to-br from-slate-300 to-slate-400"} shadow-lg`,whileHover:{rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:n.icon}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-900 group-hover:text-brand-rose transition-colors",children:n.title}),p.jsxs("span",{className:`inline-block text-xs font-bold px-3 py-1 rounded-full mt-1 ${n.status==="Completed"?"bg-green-100 text-green-700":n.current?"bg-rose-100 text-brand-rose":"bg-slate-100 text-slate-600"}`,children:[n.status,"  ",n.period]})]})]}),p.jsxs("div",{className:"relative flex-shrink-0",children:[p.jsx(y3,{progress:n.progress}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[n.progress,"%"]})})]})]}),p.jsx("div",{className:"mb-6 bg-slate-100 rounded-full h-2 overflow-hidden",children:p.jsx(ee.div,{className:`h-full rounded-full ${n.status==="Completed"?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-brand-rose to-pink-500"}`,initial:{width:0},whileInView:{width:`${n.progress}%`},viewport:{once:!0},transition:{duration:1,ease:"easeOut",delay:.3}})}),p.jsx("ul",{className:"space-y-3",children:n.items.map((s,o)=>p.jsxs(ee.li,{className:"flex items-center text-slate-600 group/item",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:o*.1},whileHover:{x:5},children:[p.jsx("div",{className:`w-2 h-2 rounded-full mr-3 transition-all duration-300 group-hover/item:scale-150 ${n.status==="Completed"?"bg-green-500":n.current?"bg-brand-rose":"bg-slate-400"}`}),p.jsx("span",{className:"text-sm group-hover/item:text-slate-900 transition-colors",children:s})]},o))})]})}),p.jsx("div",{className:"absolute left-8 md:left-1/2 -translate-x-1/2 flex items-center justify-center",children:p.jsxs(ee.div,{className:"relative",whileHover:{scale:1.3},transition:{duration:.3},children:[p.jsx("div",{className:`absolute inset-0 rounded-full ${n.status==="Completed"?"bg-green-500/20 animate-ping":n.current?"bg-brand-rose/20 animate-ping":""}`,style:{width:"32px",height:"32px",margin:"-8px"}}),p.jsx("div",{className:`w-6 h-6 rounded-full border-4 transition-all duration-500 shadow-lg ${n.status==="Completed"?"bg-green-500 border-green-200 shadow-green-500/50":n.current?"bg-brand-rose border-rose-200 shadow-brand-rose/50 scale-125":"bg-white border-slate-300"}`,children:n.status==="Completed"&&p.jsx("svg",{className:"w-full h-full text-white p-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})}),p.jsx("div",{className:"flex-1 hidden md:block"})]},n.period)})})]})]})]})},w3=({openWaitlist:t})=>p.jsxs("div",{className:"pt-20",children:[p.jsx(v3,{}),p.jsx(Wm,{onJoinWaitlist:t})]});function _3(){const[t,e]=k.useState(!1),[n,r]=k.useState("cloud"),i=()=>e(!0),s=o=>r(o);return p.jsx(wP,{children:p.jsxs("div",{className:`min-h-screen relative overflow-hidden transition-colors duration-700 ${n==="titan"?"bg-slate-950 text-slate-200":"bg-slate-50 text-slate-900"}`,children:[p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none transition-opacity duration-1000",children:n==="cloud"?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"absolute top-0 -left-4 w-96 h-96 bg-rose-200/30 rounded-full mix-blend-multiply filter blur-3xl opacity-50 animate-blob"}),p.jsx("div",{className:"absolute top-0 -right-4 w-96 h-96 bg-indigo-200/30 rounded-full mix-blend-multiply filter blur-3xl opacity-50 animate-blob animation-delay-2000"})]}):p.jsx("div",{className:"absolute inset-0 bg-slate-950"})}),p.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[p.jsx(RP,{onJoinWaitlist:i,themeMode:n}),p.jsx("main",{className:"flex-grow",children:p.jsxs(YC,{children:[p.jsx(Cl,{path:"/",element:p.jsx(f3,{themeMode:n,toggleTheme:s,openWaitlist:i})}),p.jsx(Cl,{path:"/about",element:p.jsx(m3,{openWaitlist:i})}),p.jsx(Cl,{path:"/roadmap",element:p.jsx(w3,{openWaitlist:i})})]})}),p.jsx(rR,{})]}),p.jsx(eI,{isOpen:t,onClose:()=>e(!1)})]})})}Uh.createRoot(document.getElementById("root")).render(p.jsx(qI.StrictMode,{children:p.jsx(_3,{})}));
